{"version":3,"sources":["../../src/browser/start.js","../../src/browser/almond.js","../../src/engine/Actions/RotationType.ts","../../src/engine/Util/EasingFunctions.ts","../../src/engine/Promises.ts","../../src/engine/Math/Random.ts","../../src/engine/Collision/Side.ts","../../src/engine/Util/Util.ts","../../src/engine/Traits/CapturePointer.ts","../../src/engine/Traits/EulerMovement.ts","../../src/engine/Drawing/Color.ts","../../src/engine/Util/CullingBox.ts","../../src/engine/Traits/OffscreenCulling.ts","../../src/engine/Traits/TileMapCollisionDetection.ts","../../src/engine/Traits/Index.ts","../../src/engine/UIActor.ts","../../src/engine/Util/Log.ts","../../src/engine/Timer.ts","../../src/engine/Collision/CollisionContact.ts","../../src/engine/Collision/CircleArea.ts","../../src/engine/Collision/CollisionJumpTable.ts","../../src/engine/Collision/PolygonArea.ts","../../src/engine/Collision/BoundingBox.ts","../../src/engine/Collision/EdgeArea.ts","../../src/engine/Util/DrawUtil.ts","../../src/engine/Collision/Pair.ts","../../src/engine/Collision/Body.ts","../../src/engine/Debug.ts","../../src/engine/Collision/DynamicTree.ts","../../src/engine/Collision/DynamicTreeCollisionBroadphase.ts","../../src/engine/Util/SortedList.ts","../../src/engine/Actions/ActionContext.ts","../../src/engine/EventDispatcher.ts","../../src/engine/Class.ts","../../src/engine/Group.ts","../../src/engine/Drawing/SpriteEffects.ts","../../src/engine/Resources/Resource.ts","../../src/engine/Resources/Texture.ts","../../src/engine/Configurable.ts","../../src/engine/Util/Decorators.ts","../../src/engine/Drawing/Sprite.ts","../../src/engine/Drawing/Animation.ts","../../src/engine/Label.ts","../../src/engine/Drawing/SpriteSheet.ts","../../src/engine/TileMap.ts","../../src/engine/Trigger.ts","../../src/engine/Util/Actors.ts","../../src/engine/Scene.ts","../../src/engine/Input/Gamepad.ts","../../src/engine/Input/Pointer.ts","../../src/engine/Input/Keyboard.ts","../../src/engine/Input/Index.ts","../../src/engine/Events.ts","../../src/engine/Camera.ts","../../src/engine/Resources/Sound.ts","../../src/engine/Loader.ts","../../src/engine/Particles.ts","../../src/engine/Actions/Index.ts","../../src/engine/Collision/NaiveCollisionBroadphase.ts","../../src/engine/Collision/Index.ts","../../src/engine/Drawing/Polygon.ts","../../src/engine/Drawing/Index.ts","../../src/engine/Math/PerlinNoise.ts","../../src/engine/Math/Index.ts","../../src/engine/PostProcessing/ColorBlindCorrector.ts","../../src/engine/PostProcessing/Index.ts","../../src/engine/Resources/Index.ts","../../src/engine/Util/Index.ts","../../src/engine/Util/Detector.ts","../../src/engine/Index.ts","../../src/engine/Engine.ts","../../src/engine/Algebra.ts","../../src/engine/Physics.ts","../../src/engine/Actor.ts","../../src/engine/Actions/Action.ts","../../src/engine/MonkeyPatch.ts","../../src/browser/end.js"],"names":[],"mappings":"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EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG;gBACjG,GAAG,EAAE,GAAG,EAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;gBAChG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAG,CAAC,EAAE,GAAG,EAAE,EAAE;gBAClG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;gBACnG,GAAG,EAAE,GAAG,EAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;gBACpG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAG,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAG,EAAE;gBACnG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAG,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;gBACjG,GAAG,EAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAG,EAAE;gBAChG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;gBAC/F,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAG,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;gBAC/F,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YACpB,OAAE,GAAe,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC;YAGrC,0BAAqB,GAA4B;gBACtD,OAAO,EAAE,CAAC;gBACV,SAAS,EAAE,CAAC;gBACZ,SAAS,EAAE,CAAC;gBACZ,WAAW,EAAE,EAAE;aACjB,CAAC;YA4BC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC;YAE/D,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;YACvC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;YACnC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;YACnC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;YAE/B,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,OAAO,GAAG,IAAI,eAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC3C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,IAAI,CAAC,OAAO,GAAG,IAAI,eAAM,EAAE,CAAC;YAC/B,CAAC;YAED,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAE9C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC5B,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC;YAC3C,CAAC;QACJ,CAAC;QAcM,+BAAK,GAAZ;YACG,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;YACzB,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YAE1B,IAAI,KAAK,GAAG,CAAC,CAAC;YACd,IAAI,QAAQ,GAAG,CAAC,CAAC;YACjB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC;gBACrC,MAAM,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;oBACxB,KAAK,CAAC;wBAAE,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;wBAAC,KAAK,CAAC;oBACjE,KAAK,CAAC;wBAAE,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,EACnB,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;wBAAC,KAAK,CAAC;oBACjE,KAAK,CAAC;wBAAE,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,EACnB,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,EACnB,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;wBAAC,KAAK,CAAC;oBACjE,0BAA0B;oBAC1B,SAAS,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;gBAClE,CAAC;gBACD,QAAQ,IAAI,GAAG,CAAC;gBAChB,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC;gBACxB,IAAI,IAAI,CAAC,CAAC;YACb,CAAC;YACD,MAAM,CAAC,KAAK,GAAG,QAAQ,CAAC;QAC3B,CAAC;QAED;;;WAGG;QACI,kCAAQ,GAAf,UAAgB,MAAc,EAAE,IAAa;YAC1C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,IAAI,GAAG,CAAC,GAAG,MAAM,CAAC;YACrB,CAAC;YACD,IAAI,KAAK,GAAa,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC;YACxC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC/B,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;YACnC,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QAChB,CAAC;QAED;;;WAGG;QACI,8BAAI,GAAX,UAAY,KAAa,EAAE,MAAc,EAAE,IAAa;YACrD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;YACxC,CAAC;YAED,IAAI,KAAK,GAAa,IAAI,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC;YAEhD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC/B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9B,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;gBACzD,CAAC;YACJ,CAAC;YAED,MAAM,CAAC,KAAK,CAAC;QAChB,CAAC;QAEO,qCAAW,GAAnB,UAAoB,IAAY,EAAE,CAAS,EAAE,CAAS,EAAE,CAAS;YAC9D,IAAI,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACrD,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnE,CAAC;QAEO,qCAAW,GAAnB,UAAoB,IAAY,EAAE,CAAS,EAAE,CAAS;YACnD,IAAI,KAAK,GAAG,CAAC,IAAI,GAAG,CAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACvC,MAAM,CAAC,CAAC,IAAI,GAAG,CAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;QAC/C,CAAC;QAEO,qCAAW,GAAnB,UAAoB,IAAY,EAAE,CAAS;YACxC,MAAM,CAAE,CAAC,IAAI,GAAG,CAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QACvC,CAAC;QAEO,kCAAQ,GAAhB,UAAiB,CAAS;YACvB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,gDAAgD;YACjF,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACnB,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACrB,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QACjH,CAAC;QAEO,kCAAQ,GAAhB,UAAiB,CAAS,EAAE,CAAS;YAClC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAChC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAEhC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAEnB,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;YACjC,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,EACP,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAG,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,EAC1F,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QACnI,CAAC;QAEO,kCAAQ,GAAhB,UAAiB,CAAS,EAAE,CAAS,EAAE,CAAS;YAC7C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAChC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAChC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAEhC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAEnB,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YAErB,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;YAEjC,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAC3B,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAE3B,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;YAC/B,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;YAG/B,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,EACP,KAAK,CAAC,KAAK,EACN,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACvC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EACzD,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAC3C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAClE,KAAK,CAAC,KAAK,EACL,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAC/C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EACjE,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EACnD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QACrG,CAAC;QACJ,sBAAC;IAAD,CAxNA,AAwNC,IAAA;IAxNY,0CAAe;IA0N5B;;OAEG;IACH;QACG;;;WAGG;QACH,wBAAmB,SAA0B,EAAS,QAAiC;YAApE,cAAS,GAAT,SAAS,CAAiB;YAAS,aAAQ,GAAR,QAAQ,CAAyB;YACpF,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,QAAQ,GAAG,UAAC,GAAW,IAAO,MAAM,CAAC,GAAG,GAAG,GAAG,GAAG,cAAK,CAAC,KAAK,GAAG,cAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACtF,CAAC;QACJ,CAAC;QAED;;WAEG;QACI,8BAAK,GAAZ,UAAa,KAAa,EAAE,MAAc;YACvC,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC9C,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;YACrB,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;YACvB,IAAI,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAClC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;YACpC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;YAC/B,MAAM,CAAC,KAAK,CAAC;QAChB,CAAC;QAED;;WAEG;QACI,6BAAI,GAAX,UAAY,GAA6B,EAAE,CAAS,EAAE,CAAS,EAAE,KAAa,EAAE,MAAc;YAC5F,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;YAC9C,IAAI,SAAS,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;YACtD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9B,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC;oBACrC,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBAC1C,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAE7B,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;oBAChC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;oBACpC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;oBACpC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;gBACzD,CAAC;YACJ,CAAC;YACD,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACrC,CAAC;QACJ,qBAAC;IAAD,CA9CA,AA8CC,IAAA;IA9CY,wCAAc;;;;;;;;IC3Q3B,wBAA4B;IAC5B,mBAAuB;;;;;;;;;ICGvB,IAAY,cAIX;IAJD,WAAY,cAAc;QACvB,6DAAS,CAAA;QACT,iEAAW,CAAA;QACX,6DAAS,CAAA;IACZ,CAAC,EAJW,cAAc,GAAd,sBAAc,KAAd,sBAAc,QAIzB;IAGD;;;;;;;OAOG;IACH;QA4FG,6BAAmB,MAAc,EAAS,QAAyB,EAAS,SAAoD;YAAtF,yBAAA,EAAA,gBAAyB;YAAS,0BAAA,EAAA,YAA4B,cAAc,CAAC,SAAS;YAA7G,WAAM,GAAN,MAAM,CAAQ;YAAS,aAAQ,GAAR,QAAQ,CAAiB;YAAS,cAAS,GAAT,SAAS,CAA2C;YA1FxH,kBAAa,GACrB,4BAA4B;gBAC5B,4BAA4B;gBAE5B,4BAA4B;gBAE5B,0BAA0B;gBAE1B,eAAe;gBACZ,kDAAkD;gBAClD,6CAA6C;gBAE7C,4BAA4B;gBAC5B,mCAAmC;gBAEnC,0CAA0C;gBAC1C,mCAAmC;gBAEnC,oDAAoD;gBAEpD,2CAA2C;gBAC3C,sDAAsD;gBACtD,0BAA0B;gBAC7B,GAAG,CAAC;YAEI,oBAAe,GACvB,0BAA0B;gBAC1B,cAAc;gBACd,4BAA4B;gBAC5B,kDAAkD;gBAClD,0BAA0B;gBAE1B,0BAA0B;gBAC1B;;;;;;;;;;;wBAWQ;gBAGR,eAAe;gBAEZ,2CAA2C;gBAC3C,+BAA+B;gBAC5B,gEAAgE;gBAChE,gEAAgE;gBAChE,mEAAmE;gBAEtE,2BAA2B;gBAE3B,eAAe;gBAEf;;;kEAGkD;gBAElD,+BAA+B;gBAC5B,aAAa;gBAChB,wEAAwE;gBACxE,0EAA0E;gBAC1E,6EAA6E;gBAC7E,gBAAgB;gBAEhB,wBAAwB;gBACxB,kBAAkB;gBAClB,qBAAqB;gBACrB,kDAAkD;gBAClD,kDAAkD;gBAClD,8BAA8B;gBAC9B,qBAAqB;gBAErB,cAAc;gBAEjB,GAAG,CAAC;YAUD,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACxD,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC;YAC9C,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;YAEhD,IAAI,CAAC,GAAG,GAA0B,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,qBAAqB,EAAE,IAAI,EAAE,CAAC,CAAC;YAE5G,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;YACzC,IAAI,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC,CAAC;YAC3F,IAAI,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAElE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;YACpD,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;YACrD,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAEpC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBACtE,aAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;YAChE,CAAC;YAED,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtC,CAAC;QAEO,sDAAwB,GAAhC,UAAiC,SAAyB;YACvD,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,EAAE,CAAC,CAAC,SAAS,KAAK,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC1C,IAAI;oBACD,iDAAiD;wBACjD,wCAAwC;wBACxC,wCAAwC,CAAC;YAC/C,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,KAAK,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC;gBACnD,IAAI;oBACD,wCAAwC;wBACxC,iDAAiD;wBACjD,wCAAwC,CAAC;YAC/C,CAAC;YAAA,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,KAAK,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC;gBAChD,IAAI;oBACD,wCAAwC;wBACxC,wCAAwC;wBACxC,mDAAmD,CAAC;YAC1D,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,cAAc,EAAE,4BAA4B,CAAC,CAAC;YACrG,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,cAAc,EAAE,iCAAiC,CAAC,CAAC;YAC1G,CAAC;YAED,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QAE9D,CAAC;QAEO,2CAAa,GAArB,UAAsB,CAAS,EAAE,CAAS,EAAE,KAAa,EAAE,MAAc;YACtE,IAAI,EAAE,GAAG,CAAC,CAAC;YACX,IAAI,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;YACnB,IAAI,EAAE,GAAG,CAAC,CAAC;YACX,IAAI,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;YACpB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,YAAY,CAAC;gBACzD,EAAE,EAAE,EAAE;gBACN,EAAE,EAAE,EAAE;gBACN,EAAE,EAAE,EAAE;gBACN,EAAE,EAAE,EAAE;gBACN,EAAE,EAAE,EAAE;gBACN,EAAE,EAAE,EAAE;aAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACtC,CAAC;QAEO,wCAAU,GAAlB,UAAmB,IAAY,EAAE,OAAe;YAC7C,IAAI,MAAmB,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC;gBACvB,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC5D,CAAC;YAAA,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC3B,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC1D,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,aAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,2BAA2B,EAAE,IAAI,CAAC,CAAC;YACjE,CAAC;YAGD,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YACvC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAE/B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBACjE,aAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,2BAA2B,EAAE,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC3F,MAAM,CAAC,IAAI,CAAC;YACf,CAAC;YAED,MAAM,CAAC,MAAM,CAAC;QACjB,CAAC;QAEM,qCAAO,GAAd,UAAe,KAAgB,EAAE,GAA6B;YAC3D,6CAA6C;YAC7C,IAAI,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;YAC/E,IAAI,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;YAE/E,IAAI,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;YAC7C,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;YAC3D,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,YAAY,CAAC;gBACzD,GAAG,EAAE,GAAG;gBACR,GAAG,EAAE,GAAG;gBACR,GAAG,EAAE,GAAG;gBACR,GAAG,EAAE,GAAG;gBACR,GAAG,EAAE,GAAG;gBACR,GAAG,EAAE,GAAG;aAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACrC,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,gBAAgB,CAAC,CAAC;YACnD,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE/E,oBAAoB;YACpB,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;YACvC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;YAEnD,sDAAsD;YACtD,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC7F,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC7F,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC3F,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC3F,qHAAqH;YACrH,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAAC;YACtD,qCAAqC;YACrC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;YAEzG,kBAAkB;YAClB,IAAI,kBAAkB,GAAG,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;YAEpF,qBAAqB;YACrB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YAEhG,6DAA6D;YAC7D,IAAI,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;YAC7C,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;YAC3D,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,gBAAgB,CAAC,CAAC;YACnD,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE/E,8CAA8C;YAC9C,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;YAEpD,sBAAsB;YACtB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAI9C,6CAA6C;YAC7C,IAAI,SAAS,GAAG,IAAI,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC/D,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;YAEjG,KAAK,CAAC,IAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAEjC,GAAG,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC;QAGJ,0BAAC;IAAD,CAhPA,AAgPC,IAAA;IAhPY,kDAAmB;;;;;;;;ICnBhC,gCAAsC;;;;;;;;ICAtC,qBAA2B;IAC3B,kBAAwB;IACxB,oBAA0B;;;;;;;;ICF1B,iBAAuB;IAGF,4BAAQ;;;;;ICF7B;;;OAGG;IAEH,IAAM,iBAAiB,GAA8B;QAClD,KAAK,EAAE,OAAO;QACd,QAAQ,EAAE,UAAU;QACpB,UAAU,EAAE,aAAa;KAC3B,CAAC;IA6BF;;OAEG;IACH;QAMG;YAJQ,cAAS,GAAsB,IAAI,CAAC;YAErC,gBAAW,GAAa,EAAE,CAAC;YAgGlC,mDAAmD;YAC3C,mBAAc,GAAmB;gBACtC,iCAAiC;gBACjC,aAAa,EAAE;oBACZ,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAC5C,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;gBACvD,CAAC;gBAED,gEAAgE;gBAChE,kBAAkB,EAAE;oBACjB,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;oBAC/B,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;oBACrB,IAAI,CAAC;wBACF,GAAG,CAAC,YAAY,GAAG,aAAa,CAAC;oBACpC,CAAC;oBAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACV,MAAM,CAAC,KAAK,CAAC;oBAChB,CAAC;oBACD,MAAM,CAAC,GAAG,CAAC,YAAY,KAAK,aAAa,CAAC;gBAC7C,CAAC;gBAED,qCAAqC;gBACrC,cAAc,EAAE;oBACb,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAC9C,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBACxE,CAAC;gBAED,sCAAsC;gBACtC,gBAAgB,EAAE;oBACf,MAAM,CAAC,CAAC,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,iBAAiB,IAAI,GAAG,CAAC,IAAI,CAAC,iBAAiB,IAAI,GAAG,CAAC,CAAC;gBACxF,CAAC;gBAED,0BAA0B;gBAC1B,WAAW,EAAE;oBACV,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;oBAC9C,KAAK,CAAC,OAAO,GAAG,uCAAuC,CAAC;oBACxD,MAAM,CAAC,CAAC,EAAE,GAAG,KAAK,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC5D,CAAC;aACH,CAAC;YAEF,kDAAkD;YAC1C,iBAAY,GAAkB;gBACnC,eAAe,EAAE;oBACd,MAAM,CAAC,CAAC,CAAC,CAAO,MAAO,CAAC,YAAY;wBACrB,MAAO,CAAC,kBAAkB;wBAC1B,MAAO,CAAC,eAAe;wBACvB,MAAO,CAAC,cAAc;wBACtB,MAAO,CAAC,aAAa,CAAC,CAAC;gBACzC,CAAC;gBACD,YAAY,EAAE;oBACX,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAC5C,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC1D,CAAC;aACH,CAAC;YAjJC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAChD,CAAC;QAED;;;;WAIG;QACI,qCAAkB,GAAzB;YACG,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAChD,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACzB,CAAC;QAED;;;WAGG;QACI,qCAAkB,GAAzB;YACG,IAAI,GAAG,GAAG,8DAA8D,CAAC;YACzE,IAAI,IAAI,GAAG;gBACR,gCAAgC;gBAChC,qCAAqC;aACvC,CAAC;YAEF,IAAI,SAAS,GAAQ,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC/C,GAAG,CAAC,CAAgB,UAA8B,EAA9B,KAAA,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAA9B,cAA8B,EAA9B,IAA8B;gBAA7C,IAAI,OAAO,SAAA;gBACb,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBACtB,GAAG,IAAI,cAAc,CAAC,CAAC,MAAM;oBAC7B,IAAI,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC;oBAC7C,IAAI,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC;gBACpD,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,GAAG,IAAI,cAAc,CAAC,CAAC,MAAM;oBAC7B,IAAI,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;oBAC3C,IAAI,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC;gBACpD,CAAC;gBAAA,CAAC;gBAEF,GAAG,IAAI,GAAG,GAAG,iBAAiB,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;aACjD;YAED,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAClB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACpC,CAAC;QAED;;;WAGG;QACK,uCAAoB,GAA5B;YAAA,iBA0CC;YAzCE,MAAM,CAAC;gBACJ,+BAA+B;gBAC/B,MAAM,EAAE,CAAC;oBACN,MAAM,CAAC,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;gBAC9C,CAAC,CAAC,EAAE;gBAEJ,oCAAoC;gBACpC,WAAW,EAAE,CAAC;oBACX,MAAM,CAAC,KAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE,CAAC;gBACnD,CAAC,CAAC,EAAE;gBAEJ,gCAAgC;gBAChC,OAAO,EAAE,CAAC;oBACP,MAAM,CAAC,KAAI,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC;gBAC/C,CAAC,CAAC,EAAE;gBAEJ,kCAAkC;gBAClC,SAAS,EAAE,CAAC;oBACT,MAAM,CAAC,KAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE,CAAC;gBACjD,CAAC,CAAC,EAAE;gBAEJ,6BAA6B;gBAC7B,IAAI,EAAE,CAAC;oBACJ,MAAM,CAAC,KAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;gBAC5C,CAAC,CAAC,EAAE;gBAEJ,iCAAiC;gBACjC,QAAQ,EAAE,CAAC;oBACR,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,eAAe,EAAE,CAAC;gBAC9C,CAAC,CAAC,EAAE;gBAEJ,8BAA8B;gBAC9B,KAAK,EAAE,CAAC;oBACL,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;gBAC3C,CAAC,CAAC,EAAE;gBAEJ,mCAAmC;gBACnC,UAAU,EAAE,CAAC;oBACV,MAAM,CAAC,CAAC,CAAO,SAAU,CAAC,WAAW,CAAC;gBACzC,CAAC,CAAC,EAAE;aACN,CAAC;QACL,CAAC;QAwDM,uBAAI,GAAX;YACG,uCAAuC;YACvC,IAAI,cAAc,GAAG,KAAK,CAAC;YAC3B,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gBACpC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAuB,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAC/D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC5B,aAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,uDAAuD,EAC/E,IAAI,CAAC,CAAC;oBACT,cAAc,GAAG,IAAI,CAAC;gBACzB,CAAC;YACJ,CAAC;YACD,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBAClB,MAAM,CAAC,KAAK,CAAC;YAChB,CAAC;YAED,+DAA+D;YAC/D,GAAG,CAAC,CAAC,IAAI,OAAO,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBACrC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAsB,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;oBACtD,aAAM,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,2EAA2E,EAClG,OAAO,CAAC,CAAC;gBACf,CAAC;YACJ,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QACf,CAAC;QAEJ,eAAC;IAAD,CApLA,AAoLC,IAAA;IApLY,4BAAQ;;;;;;;;IC1CrB;;OAEG;IACQ,QAAA,UAAU,GAAG,cAAc,CAAC;IAK9B,yBAAA,KAAK,CAAA;IAAc,iCAAA,aAAa,CAAA;IACzC,qBAA0B;IAC1B,mBAAyB;IACzB,mBAAwB;IACxB,yBAA8B;IAC9B,kBAAwB;IACxB,mBAAyB;IACzB,4BAAkC;IAClC,oBAAyB;IACzB,kBAAwB;IACf,wBAAA,KAAK,CAAA;IAAE,4BAAA,SAAS,CAAA;IAAE,2BAAA,QAAQ,CAAA;IAAE,4BAAA,SAAS,CAAA;IAAE,4BAAA,SAAS,CAAA;IACzD,mBAAyB;IAChB,+BAAA,QAAQ,CAAA;IAAE,sCAAA,eAAe,CAAA;IAAuC,kCAAA,WAAW,CAAA;IACpF,qBAA0B;IAC1B,qBAA2B;IAC3B,kBAAwB;IACf,4BAAA,OAAO,CAAA;IAAE,yBAAA,IAAI,CAAA;IAA2B,+BAAA,UAAU,CAAA;IAC3D,kBAAwB;IACxB,oBAA0B;IAC1B,oBAA0B;IAE1B,kBAAgC;IAChC,kBAAkC;IAClC,kBAAgC;IAEhC,kBAA6B;IAC7B,kBAAuC;IACvC,kBAAkC;IAIf,wBAAM;IAIP,sBAAK;IAIJ,wBAAM;IAIR,oBAAI;IAErB,uBAAkC;IAClC,qBAAgC;IAChC,uBAAkC;IAClC,4BAAuC;IACvC,iBAA2B;IAC3B,uBAAkC;;;;;IC3BlC;;OAEG;IACH,IAAY,WAkBX;IAlBD,WAAY,WAAW;QACpB;;WAEG;QACH,yDAAU,CAAA;QACV;;WAEG;QACH,uDAAS,CAAA;QACT;;WAEG;QACH,+CAAK,CAAA;QAEL;;WAEG;QACH,qDAAQ,CAAA;IACX,CAAC,EAlBW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAkBtB;IAED;;OAEG;IACH,IAAY,oBAaX;IAbD,WAAY,oBAAoB;QAC7B;;WAEG;QACH,+DAAI,CAAA;QACH;;WAEG;QACJ,mEAAM,CAAA;QACL;;WAEG;QACJ,6DAAG,CAAA;IACN,CAAC,EAbW,oBAAoB,GAApB,4BAAoB,KAApB,4BAAoB,QAa/B;IAqFD;;;;;;;;OAQG;IACH;QAA4B,0BAAK;QA0Q9B;;;;;;;;;;;;;;;;;;;;;;WAsBG;QACH,gBAAY,OAAwB;YAApC,YACG,iBAAO,SAqFT;YAzRO,iBAAW,GAAY,KAAK,CAAC;YAErC;;eAEG;YACI,WAAK,GAAG,IAAI,aAAK,EAAE,CAAC;YAS3B;;eAEG;YACI,oBAAc,GAAqB,EAAE,CAAC;YAY7C;;eAEG;YACI,YAAM,GAA8B,EAAE,CAAC;YAEtC,iBAAW,GAAoB,EAAE,CAAC;YAE1C;;eAEG;YACI,kBAAY,GAAY,KAAK,CAAC;YAErC;;eAEG;YACI,iBAAW,GAAgB,WAAW,CAAC,UAAU,CAAC;YAGjD,2BAAqB,GAAY,KAAK,CAAC;YAmB/C;;eAEG;YACI,0BAAoB,GAAY,IAAI,CAAC;YAE5C;;eAEG;YACI,aAAO,GAAY,KAAK,CAAC;YACzB,gBAAU,GAAU,IAAI,cAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YAMpD;;eAEG;YACI,sBAAgB,GAAG,UAAC,CAAM,IAAO,aAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAQjE,yBAAmB,GAAY,IAAI,CAAC;YAQpC,gBAAU,GAAW,GAAG,CAAC;YAIzB,gBAAU,GAAY,KAAK,CAAC;YAE5B,oBAAc,GAAY,KAAK,CAAC;YA4FrC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC;YAEjE,uBAAuB;YACvB,IAAI,QAAQ,GAAG,IAAI,mBAAQ,EAAE,CAAC;YAC9B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,sCAAsC,IAAI,CAAC,CAAC,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC5F,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC5C,OAAO,CAAC,SAAS,GAAG,4EAA4E,CAAC;gBACjG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;gBAEnC,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,IAAI;oBACxC,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBAChD,WAAW,CAAC,SAAS,GAAG,0BAA0B,GAAG,IAAI,CAAC;oBAC1D,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;gBAC1C,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;oBAC3B,IAAI,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;oBAC9D,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;wBACV,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;oBAC5C,CAAC;gBACJ,CAAC;;YAGJ,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAC3B,CAAC;YAED,uCAAuC;YACvC,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAC,CAAC;gBACtD,OAAO,CAAC,GAAG,CAAC,iCAA+B,kBAAU,MAAG,EACrD,4GAA4G,CAAC,CAAC;gBACjH,OAAO,CAAC,GAAG,CAAC;;;UAGX,CAAC,CAAC;gBACH,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,wBAAwB,EAAE,sBAAsB,CAAC,CAAC;YAC1E,CAAC;YAED,KAAI,CAAC,OAAO,GAAG,aAAM,CAAC,WAAW,EAAE,CAAC;YAEpC,kEAAkE;YAClE,EAAE,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,YAAY,KAAK,eAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;gBAChD,QAAQ,CAAC,kBAAkB,EAAE,CAAC;YACjC,CAAC;YAED,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;YAEzC,KAAI,CAAC,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;YAE/C,EAAE,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC3B,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,kCAAkC,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;gBACjF,KAAI,CAAC,MAAM,GAAsB,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;YACrF,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;gBACrD,KAAI,CAAC,MAAM,GAAsB,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACrE,CAAC;YACD,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;gBACnC,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,KAAK,SAAS,CAAC,CAAC,CAAC;oBACrC,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC;gBACxC,CAAC;gBACD,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,0BAA0B,GAAG,OAAO,CAAC,KAAK,GAAG,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;gBAExF,KAAI,CAAC,MAAM,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;gBAClC,KAAI,CAAC,MAAM,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;YAGvC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC/B,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAC;gBACpD,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC,UAAU,CAAC;YAC7C,CAAC;YAED,EAAE,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC3B,KAAI,CAAC,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;YAC1D,CAAC;YAED,KAAI,CAAC,OAAO,GAAG,IAAI,eAAM,EAAE,CAAC;YAE5B,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAE1B,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,YAAY,GAAG,IAAI,aAAK,CAAC,KAAI,CAAC,CAAC;YAErD,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;YACtC,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;;QAC1B,CAAC;QAlWD,sBAAW,+BAAW;YAJtB;;;eAGG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;YAC5B,CAAC;;;WAAA;QAKD,sBAAW,mCAAe;YAH1B;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;YAChC,CAAC;;;WAAA;QAMD,sBAAW,gCAAY;YAJvB;;;eAGG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;YAC7B,CAAC;;;WAAA;QAKD,sBAAW,oCAAgB;YAH3B;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;YACjC,CAAC;;;WAAA;QAKA,sBAAW,6BAAS;YAHrB;;eAEG;iBACF;gBACE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;oBACjD,MAAM,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;gBACpF,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC;YAC7C,CAAC;;;WAAA;QAKD,sBAAW,iCAAa;YAHxB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YAC7B,CAAC;;;WAAA;QAKD,sBAAW,8BAAU;YAHrB;;eAEG;iBACH;gBACG,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;oBACjD,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;gBACrF,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC;YAC9C,CAAC;;;WAAA;QAKD,sBAAW,kCAAc;YAHzB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YAC9B,CAAC;;;WAAA;QAKD,sBAAW,2BAAO;YAHlB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,UAAU,KAAK,CAAC,CAAC;YAChC,CAAC;;;WAAA;QAkBD,sBAAW,yBAAK;YAHhB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YAC3B,CAAC;;;WAAA;QAuCD,sBAAW,8BAAU;YAHrB;;eAEG;iBACH;gBAEG,EAAE,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;oBAC9B,MAAM,CAAC,CAAC,CAAC;gBACZ,CAAC;gBACD,IAAI,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,IAAI,CAAC,CAAC;gBAEpD,IAAI,UAAU,GAAG,gBAAgB,CAAC;gBAClC,MAAM,CAAC,UAAU,CAAC;YACrB,CAAC;;;WAAA;QA6DM,mBAAE,GAAT,UAAU,SAAiB,EAAE,OAA8B;YACxD,iBAAM,EAAE,YAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAChC,CAAC;QAcM,qBAAI,GAAX,UAAY,SAAiB,EAAE,OAA8B;YAC1D,iBAAM,IAAI,YAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAClC,CAAC;QAcM,oBAAG,GAAV,UAAW,SAAiB,EAAE,OAA+B;YAC1D,iBAAM,GAAG,YAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACjC,CAAC;QAgID;;;WAGG;QACI,+BAAc,GAArB;YACG,IAAI,IAAI,GAAG,IAAI,CAAC,wBAAwB,CAAC,iBAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACxD,IAAI,GAAG,GAAG,IAAI,CAAC,wBAAwB,CAAC,iBAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACvD,IAAI,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YAClC,IAAI,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;YAEnC,MAAM,CAAC,IAAI,yBAAW,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QACpD,CAAC;QAMD,sBAAW,6BAAS;YAHpB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAC1B,CAAC;YAED;;;eAGG;iBACH,UAAqB,KAAa;gBAC/B,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;oBACd,aAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,6DAA6D,CAAC,CAAC;oBAC1F,MAAM,CAAC;gBACV,CAAC;gBAED,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAC3B,CAAC;;;WAbA;QAeD;;;;;;;;;;WAUG;QACI,8BAAa,GAApB,UAAqB,SAAoB,EAAE,CAAS,EAAE,CAAS;YAC5D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC7D,CAAC;QAED;;;WAGG;QACI,2BAAU,GAAjB,UAAkB,OAAgB;YAC/B,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACzC,CAAC;QAED;;WAEG;QACI,8BAAa,GAApB,UAAqB,OAAgB;YAClC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC5C,CAAC;QAED;;;WAGG;QACI,yBAAQ,GAAf,UAAgB,KAAY;YACzB,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC;QAED;;;WAGG;QACI,4BAAW,GAAlB,UAAmB,KAAY;YAC5B,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAC/C,CAAC;QAED;;;;;;WAMG;QACI,yBAAQ,GAAf,UAAgB,GAAW,EAAE,KAAY;YACtC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE,4BAA4B,CAAC,CAAC;YACjE,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YACzB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;QACvB,CAAC;QAYD;;WAEG;QACI,4BAAW,GAAlB,UAAmB,MAAW;YAC3B,EAAE,CAAC,CAAC,MAAM,YAAY,aAAK,CAAC,CAAC,CAAC;gBAC3B,eAAe;gBACf,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;wBACnC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,MAAM,CAAC,CAAC,CAAC;4BAC/B,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;wBAC3B,CAAC;oBACJ,CAAC;gBACJ,CAAC;YACJ,CAAC;YAED,EAAE,CAAC,CAAC,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC9B,eAAe;gBACf,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC9B,CAAC;QACJ,CAAC;QAqCM,oBAAG,GAAV,UAAW,MAAW;YACnB,EAAE,CAAC,CAAC,MAAM,YAAY,iBAAO,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gBACrC,MAAM,CAAC;YACV,CAAC;YACD,EAAE,CAAC,CAAC,MAAM,YAAY,cAAK,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC1B,CAAC;YACD,EAAE,CAAC,CAAC,MAAM,YAAY,aAAK,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACzB,CAAC;YAED,EAAE,CAAC,CAAC,MAAM,YAAY,iBAAO,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAC3B,CAAC;YAED,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,QAAQ,CAAU,SAAS,CAAC,CAAC,CAAE,EAAU,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC;YAChE,CAAC;QACJ,CAAC;QAkCM,uBAAM,GAAb,UAAc,MAAW;YACtB,EAAE,CAAC,CAAC,MAAM,YAAY,iBAAO,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBACxC,MAAM,CAAC;YACV,CAAC;YACD,EAAE,CAAC,CAAC,MAAM,YAAY,cAAK,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAC7B,CAAC;YACD,EAAE,CAAC,CAAC,MAAM,YAAY,aAAK,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC;YAED,EAAE,CAAC,CAAC,MAAM,YAAY,iBAAO,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC9B,CAAC;YAED,EAAE,CAAC,CAAC,MAAM,YAAY,aAAK,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC;YAED,EAAE,CAAC,CAAC,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC;QACJ,CAAC;QAED;;;;;;;;WAQG;QACO,0BAAS,GAAnB,UAAoB,KAAY;YAC7B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;QAED;;;;;;WAMG;QACO,6BAAY,GAAtB,UAAuB,KAAY;YAChC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC;QAED;;;;WAIG;QACI,0BAAS,GAAhB,UAAiB,GAAW;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC;gBACjC,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAEhC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAC;gBAE3C,mCAAmC;gBACnC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;oBAC5E,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,yBAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBAC1G,CAAC;gBAED,+BAA+B;gBAC/B,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;gBAE7B,uDAAuD;gBACvD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBAEpC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;gBAC1E,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,uBAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACtG,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE,iBAAiB,CAAC,CAAC;YACvD,CAAC;QACJ,CAAC;QAED;;;WAGG;QACI,yCAAwB,GAA/B,UAAgC,KAAa;YAE1C,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;YACnB,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;YAEnB,gCAAgC;YAChC,IAAI,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;YACzD,IAAI,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;YAG3D,0BAA0B;YAC1B,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC;YACjC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC;YAElC,iBAAiB;YACjB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;gBACjD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAChD,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC;gBAChB,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC;YACnB,CAAC;YAED,MAAM,CAAC,IAAI,iBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;QACzD,CAAC;QAED;;;WAGG;QACI,yCAAwB,GAA/B,UAAgC,KAAa;YAE1C,IAAI,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC;YACtB,IAAI,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC;YAEtB,iBAAiB;YACjB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;gBACjD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAChD,OAAO,IAAI,KAAK,CAAC,CAAC,CAAC;gBACnB,OAAO,IAAI,KAAK,CAAC,CAAC,CAAC;YACtB,CAAC;YAED,yBAAyB;YACzB,OAAO,GAAG,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;YACvC,OAAO,GAAG,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC;YAExC,iCAAiC;YACjC,OAAO,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;YAC/D,OAAO,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;YAEjE,MAAM,CAAC,IAAI,iBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;QAC/D,CAAC;QAED;;WAEG;QACK,wCAAuB,GAA/B,UAAgC,MAA4B;YACzD,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC9C,IAAI,CAAC,MAAM,CAAC,KAAK,GAAiB,MAAO,CAAC,WAAW,CAAC;gBACtD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAiB,MAAO,CAAC,YAAY,CAAC;YAC3D,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC/C,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;gBACnC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBACxC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAY,MAAO,CAAC,UAAU,CAAC;gBAChD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAY,MAAO,CAAC,WAAW,CAAC;YACrD,CAAC;QACJ,CAAC;QAED;;WAEG;QACK,4BAAW,GAAnB,UAAoB,OAAwB;YAA5C,iBAsEC;YArEE,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;gBACxB,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;YACzC,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC;gBAG7F,IAAI,MAAM,GAAQ,CAAC,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,SAAS;oBACrD,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAQ,MAAM,CAAC,CAAC;gBAEpE,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC;gBAErC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE;oBAC/B,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;oBACxC,KAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC;oBACrC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,sBAAsB,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;oBAChE,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,mBAAmB,CAAC,CAAC;gBAClD,CAAC,CAAC,CAAC;YACN,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnD,IAAI,CAAC,6BAA6B,CAAC,OAAO,CAAC,CAAC;YAChD,CAAC;YAED,oBAAoB;YACpB,IAAI,CAAC,KAAK,GAAG;gBACV,QAAQ,EAAE,IAAI,KAAK,CAAC,QAAQ,EAAE;gBAC9B,QAAQ,EAAE,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAClC,QAAQ,EAAE,IAAI,KAAK,CAAC,QAAQ,EAAE;aAChC,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YAC3B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,YAAY,KAAK,KAAK,CAAC,YAAY,CAAC,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;YACnH,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YAE3B,IAAI,CAAC,wBAAwB,GAAG,OAAO,CAAC,oBAAoB,CAAC;YAE7D,4CAA4C;YAC5C,mGAAmG;YAEnG,IAAI,MAA0B,EAAE,gBAAwB,CAAC;YACzD,EAAE,CAAC,CAAC,OAAO,QAAQ,CAAC,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC;gBAC1C,MAAM,GAAG,QAAQ,CAAC;gBAClB,gBAAgB,GAAG,kBAAkB,CAAC;YACzC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAU,IAAI,QAAQ,CAAC,CAAC,CAAC;gBACjC,MAAM,GAAuB,UAAU,CAAC;gBACxC,gBAAgB,GAAG,oBAAoB,CAAC;YAC3C,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,cAAc,IAAI,QAAQ,CAAC,CAAC,CAAC;gBACrC,MAAM,GAAuB,cAAc,CAAC;gBAC5C,gBAAgB,GAAG,wBAAwB,CAAC;YAC/C,CAAC;YAED,QAAQ,CAAC,gBAAgB,CAAC,gBAAgB,EAAE;gBACzC,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBACpB,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,qBAAW,CAAC,KAAI,CAAC,CAAC,CAAC;oBAC3D,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;gBACvC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,sBAAY,CAAC,KAAI,CAAC,CAAC,CAAC;oBAC7D,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;gBACxC,CAAC;YACJ,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,GAAG,GAA6B,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAElE,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC,OAAO,CAAC,oBAAoB,CAAC;YAC5D,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC3B,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBACzB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,CAAC;QACJ,CAAC;QAEM,6BAAY,GAAnB,UAAoB,OAAe;YAChC,cAAc;QACjB,CAAC;QAEO,8CAA6B,GAArC,UAAsC,OAAuB;YAC1D,EAAE,CAAC,CAAE,CAAC,OAAO,CAAC,QAAS,CAAC,CAAC,CAAC;gBACvB,MAAM,IAAI,KAAK,CAAC,uEAAuE,CAAC,CAAC;YAC3F,CAAC;YAAC,IAAI,CAAC,CAAC;gBAEJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;gBACpC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;gBAExC,EAAE,CAAC,CAAC,OAAO,OAAO,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;oBACzC,IAAI,iBAAiB,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBAEpD,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC7B,KAAK,KAAK;4BACR,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;4BAC9B,KAAK,CAAC;wBACR,KAAK,QAAQ;4BACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;4BACjC,KAAK,CAAC;wBACR,KAAK,QAAQ;4BACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;4BAC9B,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;4BACnC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;4BACjD,KAAK,CAAC;wBACR;4BACE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;oBAC9C,CAAC;oBAED,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAEzB,MAAM,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC7B,KAAK,MAAM;gCACT,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;gCAC/B,KAAK,CAAC;4BACR,KAAK,OAAO;gCACV,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;gCAChC,KAAK,CAAC;4BACR,KAAK,QAAQ;gCACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;gCAC/B,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;gCAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;gCAClD,KAAK,CAAC;4BACR;gCACE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;wBAC9C,CAAC;oBACH,CAAC;gBACH,CAAC;gBAAC,IAAI,CAAC,CAAC;oBAEJ,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;wBACzB,OAAO,OAAO,CAAC,QAAQ,CAAC,GAAG,KAAK,QAAQ;4BACxC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,IAAI;4BAC9D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC;oBAC/C,CAAC;oBACD,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;wBAC3B,OAAO,OAAO,CAAC,QAAQ,CAAC,KAAK,KAAK,QAAQ;4BAC1C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,IAAI;4BAClE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC;oBACnD,CAAC;oBACD,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC5B,OAAO,OAAO,CAAC,QAAQ,CAAC,MAAM,KAAK,QAAQ;4BAC3C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,IAAI;4BACpE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACrD,CAAC;oBACD,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;wBAC1B,OAAO,OAAO,CAAC,QAAQ,CAAC,IAAI,KAAK,QAAQ;4BACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,IAAI;4BAChE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC;oBACjD,CAAC;gBAGL,CAAC;YACL,CAAC;QACL,CAAC;QAEO,iCAAgB,GAAxB;YAEG,6BAA6B;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBAEhB,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;gBACjC,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;gBAEnC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC/C,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;gBAEjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,GAAG,IAAI,CAAC;gBAC1C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC;gBAE5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,2FACE,QAAQ,SAAI,SAAS,YAAO,IAAI,CAAC,MAAM,CAAC,KAAK,SAAI,IAAI,CAAC,MAAM,CAAC,MAAM,2DAC9C,QAAQ,SAAI,SAAW,CAAC,CAAC;gBAElE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;gBACjD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,0CAAwC,IAAI,CAAC,UAAY,CAAC,CAAC;YAChF,CAAC;QACJ,CAAC;QAED;;;;;WAKG;QACI,gCAAe,GAAtB,UAAuB,QAAiB;YACrC,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;YAEpC,IAAI,GAAG,GAAQ,IAAI,CAAC,GAAG,CAAC;YACxB,GAAG,CAAC,qBAAqB,GAAG,QAAQ,CAAC;YACrC,GAAG,CAAC,CAAkB,UAAsF,EAAtF,MAAC,6BAA6B,EAAE,0BAA0B,EAAE,yBAAyB,CAAC,EAAtF,cAAsF,EAAtF,IAAsF;gBAAvG,IAAI,SAAS,SAAA;gBACf,EAAE,CAAC,CAAC,SAAS,IAAI,GAAG,CAAC,CAAC,CAAC;oBACpB,GAAG,CAAC,SAAS,CAAC,GAAG,QAAQ,CAAC;gBAC7B,CAAC;aACH;YAAA,CAAC;QACL,CAAC;QAED;;WAEG;QACI,gCAAe,GAAtB;YACG,MAAM,CAAO,IAAI,CAAC,GAAI,CAAC,qBAAqB;gBACnC,IAAI,CAAC,GAAI,CAAC,2BAA2B;gBACrC,IAAI,CAAC,GAAI,CAAC,wBAAwB;gBAClC,IAAI,CAAC,GAAI,CAAC,uBAAuB,CAAC;QAC9C,CAAC;QAMD,sBAAW,iCAAa;YAHxB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;YAC9B,CAAC;;;WAAA;QAEO,oCAAmB,GAA3B,UAA4B,MAAc;YACvC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC1B,iBAAM,IAAI,YAAC,YAAY,EAAE,IAAI,yBAAe,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;gBAC5D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC9B,CAAC;QAEJ,CAAC;QAED;;;WAGG;QACK,wBAAO,GAAf,UAAgB,KAAa;YAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACnB,6CAA6C;gBAC7C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;gBACjC,yBAAyB;gBACzB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;gBAC7B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;gBAC7B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;gBAC7B,MAAM,CAAC;YACV,CAAC;YACD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC/B,2BAA2B;YAC3B,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YAEvB,8BAA8B;YAC9B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAEtC,oBAAoB;YACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC;gBACnD,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;YAChC,CAAC,CAAC,CAAC;YAEH,yBAAyB;YACzB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAE7B,uBAAuB;YACvB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QAED;;WAEG;QACI,2BAAU,GAAjB,UAAkB,KAAa;YAC5B,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,wBAAc,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;YAC9D,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACjC,CAAC;QAEM,4BAAW,GAAlB,UAAmB,OAAe,EAAE,MAAc;YAC/C,cAAc;QACjB,CAAC;QAED;;WAEG;QACI,4BAAW,GAAlB,UAAmB,KAAa;YAC7B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,yBAAe,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;YAChE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAClC,CAAC;QAEM,6BAAY,GAAnB,UAAoB,OAAe,EAAE,MAAc;YAChD,cAAc;QACjB,CAAC;QAED;;;WAGG;QACK,sBAAK,GAAb,UAAc,KAAa;YACxB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;YACnB,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAE1B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gBAC9B,qCAAqC;gBACrC,MAAM,CAAC;YACV,CAAC;YAED,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACzD,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC;YAChD,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YAExD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAExC,8CAA8C;YAC9C,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACzC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzF,CAAC;YAED,yBAAyB;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBAEhB,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,UAAU,CAAC;gBAC3B,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAChD,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACzC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACpC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,KAAK,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;gBAChI,CAAC;gBAED,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACtF,CAAC;YAED,kBAAkB;YAClB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnD,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;YAC9G,CAAC;YAED,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAC9B,CAAC;QAED;;WAEG;QACI,yBAAQ,GAAf,UAAgB,IAA8B,EAAE,KAAa;YAC1D,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,sBAAY,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;YAC1D,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAC/B,CAAC;QAEM,0BAAS,GAAhB,UAAiB,IAA8B,EAAE,MAAc;YAC5D,cAAc;QACjB,CAAC;QAED;;WAEG;QACI,0BAAS,GAAhB,UAAiB,IAA8B,EAAE,KAAa;YAC3D,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,uBAAa,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAChC,CAAC;QAEM,2BAAU,GAAjB,UAAkB,IAA8B,EAAE,MAAc;YAC7D,cAAc;QACjB,CAAC;QAED;;;;;WAKG;QACI,sBAAK,GAAZ,UAAa,MAAgB;YAA7B,iBAgCC;YA/BE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACrB,IAAI,OAAO,GAAG,IAAI,kBAAO,EAAE,CAAC;gBAC5B,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,6CAA6C,CAAC,CAAC;YACxE,CAAC;YAED,IAAI,eAA6B,CAAC;YAClC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACV,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBACtB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC9B,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC7C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,eAAe,GAAG,kBAAO,CAAC,OAAO,EAAE,CAAC;YACvC,CAAC;YAED,eAAe,CAAC,IAAI,CAAC;gBAClB,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,wBAAc,CAAC,KAAI,CAAC,CAAC,CAAC;YAChD,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;gBAEvC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,CAAC,qBAAqB,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;gBAEtE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YAEtC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,wBAAwB;YAC3B,CAAC;YACD,MAAM,CAAC,eAAe,CAAC;QAE1B,CAAC;QAEa,qBAAc,GAA5B,UAA6B,IAAY,EAAE,GAA+B,EAAE,KAAmB;YAC5F,IAAI,QAAQ,GAAG,KAAK,EAAE,CAAC;YAEvB,MAAM,CAAC;gBACJ,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBACrB,MAAM,CAAC;gBACV,CAAC;gBACD,IAAI,CAAC;oBACF,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;oBAChC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,uBAAa,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;oBAErE,yCAAyC;oBACzC,IAAI,GAAG,GAAG,KAAK,EAAE,CAAC;oBAClB,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;oBAC9C,mEAAmE;oBACnE,oFAAoF;oBACpF,iEAAiE;oBACjE,aAAa;oBACb,EAAE,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC;wBACjB,OAAO,GAAG,CAAC,CAAC;oBACf,CAAC;oBACD,IAAI,KAAK,GAAG,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;oBAErC,+CAA+C;oBAC/C,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,GAAG,CAAC,CAAC;oBAC1C,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;oBACjD,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;oBAC7B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,GAAG,OAAO,CAAC;oBAClC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;oBACnC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;oBAEhD,IAAI,YAAY,GAAG,KAAK,EAAE,CAAC;oBAC3B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBACpB,IAAI,WAAW,GAAG,KAAK,EAAE,CAAC;oBAC1B,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oBAClB,IAAI,SAAS,GAAG,KAAK,EAAE,CAAC;oBAExB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,WAAW,GAAG,YAAY,CAAC;oBAClE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,GAAG,SAAS,GAAG,WAAW,CAAC;oBAE7D,QAAQ,GAAG,GAAG,CAAC;oBAEf,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,wBAAc,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC1E,CAAC;gBAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACV,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAC7C,IAAI,CAAC,IAAI,EAAE,CAAC;oBACZ,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;gBAC5B,CAAC;YACJ,CAAC,CAAC;QACL,CAAC;QAED;;WAEG;QACI,qBAAI,GAAX;YACG,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,uBAAa,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC3C,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YACtC,CAAC;QACJ,CAAC;QAED;;WAEG;QACI,yBAAQ,GAAf;YACG,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9B,CAAC;QAED;;;WAGG;QACI,2BAAU,GAAjB;YACG,IAAI,MAAM,GAAG,IAAI,KAAK,EAAE,CAAC;YACzB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YAC7C,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;YACjB,MAAM,CAAC,MAAM,CAAC;QACjB,CAAC;QAED;;;;;WAKG;QACI,qBAAI,GAAX,UAAY,MAAiB;YAA7B,iBAaC;YAZE,IAAI,QAAQ,GAAG,IAAI,kBAAO,EAAO,CAAC;YAElC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAEvB,MAAM,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;gBAChB,UAAU,CAAC;oBACR,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;oBACxB,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACtB,CAAC,EAAE,GAAG,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC,QAAQ,CAAC;QACnB,CAAC;QAEJ,aAAC;IAAD,CAltCA,AAktCC,CAltC2B,cAAK;IA2P9B;;OAEG;IACY,4BAAqB,GAAmB;QACpD,KAAK,EAAmC,CAAC;QACzC,MAAM,EAAkC,CAAC;QACzC,eAAe,EAAyB,EAAE;QAC1C,YAAY,EAA4B,KAAK,CAAC,YAAY,CAAC,QAAQ;QACnE,0BAA0B,EAAc,IAAI;QAC5C,sCAAsC,EAAE,IAAI;QAC5C,oBAAoB,EAAoB,IAAI;QAC5C,oBAAoB,EAAoB,oBAAoB,CAAC,MAAM;QACnE,eAAe,EAAyB,cAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,iBAAiB;KACpF,CAAC;IAxQQ,wBAAM;IAotCnB;;OAEG;IACH;QACG,uBAAmB,SAAoB,EAAS,CAAS,EAAS,CAAS;YAAxD,cAAS,GAAT,SAAS,CAAW;YAAS,MAAC,GAAD,CAAC,CAAQ;YAAS,MAAC,GAAD,CAAC,CAAQ;QAAI,CAAC;QACnF,oBAAC;IAAD,CAFA,AAEC,IAAA;;;;;IC13CD;;OAEG;IACH;QA0EG;;;WAGG;QACH,gBAAmB,CAAS,EAAS,CAAS;YAA3B,MAAC,GAAD,CAAC,CAAQ;YAAS,MAAC,GAAD,CAAC,CAAQ;QAAI,CAAC;QA1CnD;;;WAGG;QACW,gBAAS,GAAvB,UAAwB,KAAa;YAClC,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QACvD,CAAC;QAED;;WAEG;QACW,cAAO,GAArB,UAAsB,GAAW;YAC9B,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC;gBACrC,MAAM,CAAC,KAAK,CAAC;YAChB,CAAC;YACD,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChC,MAAM,CAAC,KAAK,CAAC;YAChB,CAAC;YAED,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,QAAQ;gBACnB,GAAG,CAAC,CAAC,KAAK,QAAQ;gBAClB,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ;gBACnB,GAAG,CAAC,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBACrB,MAAM,CAAC,KAAK,CAAC;YAChB,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QACf,CAAC;QAED;;;;WAIG;QACW,eAAQ,GAAtB,UAAuB,IAAY,EAAE,IAAY;YAC9C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACjF,CAAC;QAQD;;WAEG;QACI,sBAAK,GAAZ,UAAa,CAAS,EAAE,CAAS;YAC9B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACd,CAAC;QAED;;;WAGG;QACI,uBAAM,GAAb,UAAc,MAAc,EAAE,SAAwB;YAAxB,0BAAA,EAAA,gBAAwB;YACnD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,IAAI,SAAS,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC;QAC/F,CAAC;QAED;;;WAGG;QACI,yBAAQ,GAAf,UAAgB,CAAU;YACvB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACN,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC;YACnB,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC3E,CAAC;QAED;;WAEG;QACI,0BAAS,GAAhB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC1B,CAAC;QAED;;WAEG;QACI,0BAAS,GAAhB;YACG,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YACxB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACT,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,MAAM,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC3B,CAAC;QACJ,CAAC;QAED;;WAEG;QACI,wBAAO,GAAd,UAAe,GAAW;YACvB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAClC,CAAC;QAED;;;WAGG;QACI,sBAAK,GAAZ,UAAa,IAAY;YACtB,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;QACnD,CAAC;QAED;;;WAGG;QACI,oBAAG,GAAV,UAAW,CAAS;YACjB,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,CAAC;QAED;;;WAGG;QACI,oBAAG,GAAV,UAAW,CAAS;YACjB,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,CAAC;QAED;;;WAGG;QACI,yBAAQ,GAAf,UAAgB,CAAS;YACtB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACd,MAAM,CAAC,IAAI,CAAC;QACf,CAAC;QAED;;;WAGG;QACI,yBAAQ,GAAf,UAAgB,CAAS;YACtB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACd,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACd,MAAM,CAAC,IAAI,CAAC;QACf,CAAC;QAED;;WAEG;QACI,2BAAU,GAAjB,UAAkB,IAAY;YAC3B,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC;YACf,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC;YACf,MAAM,CAAC,IAAI,CAAC;QACf,CAAC;QAED;;;WAGG;QACI,oBAAG,GAAV,UAAW,CAAS;YACjB,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC;QAYM,sBAAK,GAAZ,UAAa,CAAM;YAChB,EAAE,CAAC,CAAC,CAAC,YAAY,MAAM,CAAC,CAAC,CAAC;gBACvB,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACtC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAChC,MAAM,CAAC,IAAI,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAC9C,CAAC;QACJ,CAAC;QAID;;WAEG;QACI,8BAAa,GAApB;YACG,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC;QAED;;WAEG;QACI,uBAAM,GAAb;YACG,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,SAAS,EAAE,CAAC;QAC3C,CAAC;QAED;;WAEG;QACI,uBAAM,GAAb;YACG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACzB,CAAC;QAED;;WAEG;QACI,wBAAO,GAAd;YACG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC;QAED;;;WAGG;QACI,uBAAM,GAAb,UAAc,KAAa,EAAE,MAAe;YACzC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACX,MAAM,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7B,CAAC;YACD,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC/B,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC/B,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACnF,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;YACnF,MAAM,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3B,CAAC;QAED;;WAEG;QACI,sBAAK,GAAZ;YACG,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC;QAED;;WAEG;QACI,yBAAQ,GAAf;YACG,MAAM,CAAC,MAAI,IAAI,CAAC,CAAC,UAAK,IAAI,CAAC,CAAC,MAAG,CAAC;QACnC,CAAC;QACJ,aAAC;IAAD,CA9QA,AA8QC;IA5QE;;OAEG;IACW,WAAI,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAEtC;;OAEG;IACW,UAAG,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAErC;;OAEG;IACW,WAAI,GAAG,IAAI,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAE1C;;OAEG;IACW,SAAE,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAErC;;OAEG;IACW,WAAI,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAEtC;;OAEG;IACW,WAAI,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvC;;OAEG;IACW,YAAK,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAlC7B,wBAAM;IAiRnB;;OAEG;IACH;QAIG;;;WAGG;QACH,aAAY,GAAW,EAAE,GAAW;YACjC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;YACf,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,SAAS,EAAE,CAAC;QAC9B,CAAC;QAED;;;;WAIG;QACI,uBAAS,GAAhB,UAAiB,IAAU;YACxB,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAEzC,yDAAyD;YACzD,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC5E,MAAM,CAAC,CAAC,CAAC,CAAC;YACb,CAAC;YAED,qBAAqB;YACrB,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAChD,EAAE,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;gBACjB,MAAM,CAAC,CAAC,CAAC,CAAC;YACb,CAAC;YAED,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,GAAG,OAAO,CAAC;YAEnD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACpB,MAAM,CAAC,CAAC,CAAC;gBACZ,CAAC;YACJ,CAAC;YACD,MAAM,CAAC,CAAC,CAAC,CAAC;QACb,CAAC;QAED;;WAEG;QACI,sBAAQ,GAAf,UAAgB,IAAY;YACzB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;QAC7C,CAAC;QACJ,UAAC;IAAD,CAjDA,AAiDC,IAAA;IAjDY,kBAAG;IAmDhB;;OAEG;IACH;QAEG;;;WAGG;QACH,cAAmB,KAAa,EAAS,GAAW;YAAjC,UAAK,GAAL,KAAK,CAAQ;YAAS,QAAG,GAAH,GAAG,CAAQ;QACpD,CAAC;QAKD,sBAAW,uBAAK;YAHhB;;eAEG;iBACH;gBACG,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACpE,CAAC;;;WAAA;QAKD,sBAAW,2BAAS;YAHpB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACrD,CAAC;;;WAAA;QAED;;WAEG;QACI,qBAAM,GAAb;YACG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;QAC5C,CAAC;QAED;;WAEG;QACI,uBAAQ,GAAf;YACG,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACvB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;YACnB,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACnC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC;QAC7C,CAAC;QAED;;WAEG;QACI,wBAAS,GAAhB;YACG,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACvB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;YACnB,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACnC,MAAM,CAAC,QAAQ,CAAC;QACnB,CAAC;QAED;;;;WAIG;QACI,8BAAe,GAAtB,UAAuB,KAAa;YACjC,IAAI,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC;YACjB,IAAI,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC;YAEjB,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;YAEzB,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACnC,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACnC,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACvG,MAAM,CAAC,QAAQ,CAAC;QACnB,CAAC;QAED;;;;;;;WAOG;QACI,wBAAS,GAAhB,UAAiB,CAAgB,EAAE,CAAgB;YAAlC,kBAAA,EAAA,QAAgB;YAAE,kBAAA,EAAA,QAAgB;YAChD,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;YACnB,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;YAEvB,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;gBACd,MAAM,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACrC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;gBACrB,MAAM,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;YACrC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;YACzD,CAAC;QACJ,CAAC;QAgBD;;WAEG;QACI,uBAAQ,GAAf;YACG,IAAI,SAAiB,CAAC;YACtB,IAAI,SAAS,GAAG,CAAC,CAAC;YAElB,EAAE,CAAC,CAAC,OAAO,SAAS,CAAC,CAAC,CAAC,KAAK,QAAQ;gBACjC,OAAO,SAAS,CAAC,CAAC,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBACnC,SAAS,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnD,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,YAAY,MAAM,CAAC,CAAC,CAAC;gBACzC,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACzB,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,MAAM,uDAAuD,CAAC;YACjE,CAAC;YAED,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACrC,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAErC,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACpC,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YAEpC,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;YAElC,wCAAwC;YACxC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;gBAC/B,MAAM,CAAC,KAAK,CAAC;YAChB,CAAC;YAED,oDAAoD;YACpD,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClC,MAAM,CAAC,GAAG,GAAG,CAAC;sBACT,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;sBACxD,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACjE,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,MAAM,CAAC,GAAG,GAAG,CAAC;sBACT,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;sBACxD,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACjE,CAAC;QACJ,CAAC;QACJ,WAAC;IAAD,CAhJA,AAgJC,IAAA;IAhJY,oBAAI;IAkJjB;;OAEG;IACH;QACG,oBAAmB,GAAW,EAAS,GAAW;YAA/B,QAAG,GAAH,GAAG,CAAQ;YAAS,QAAG,GAAH,GAAG,CAAQ;QAAI,CAAC;QAChD,6BAAQ,GAAf,UAAgB,UAAsB;YACnC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,UAAU,CAAC,GAAG,IAAI,UAAU,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACjE,CAAC;QAEM,+BAAU,GAAjB,UAAkB,UAAsB;YACrC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC7B,MAAM,CAAC,UAAU,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACpC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC;gBACpC,CAAC;YACJ,CAAC;YACD,MAAM,CAAC,CAAC,CAAC;QACZ,CAAC;QACJ,iBAAC;IAAD,CAhBA,AAgBC,IAAA;IAhBY,gCAAU;IAkBvB;QA6BG,2BAAmB,QAAgB,EAAS,OAAe,EAAS,SAAiB;YAAlE,aAAQ,GAAR,QAAQ,CAAQ;YAAS,YAAO,GAAP,OAAO,CAAQ;YAAS,cAAS,GAAT,SAAS,CAAQ;QAAI,CAAC;QA1B5E,kCAAgB,GAA9B,UAA+B,MAAuB,EAAE,SAA0B,EAAE,iBAA0B;YAC3G,IAAI,KAAa,CAAC;YAClB,IAAI,KAAa,CAAC;YAClB,IAAI,OAAe,CAAC;YACpB,IAAI,MAAc,CAAC;YAEnB,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1B,KAAK,GAAW,MAAM,CAAC;gBACvB,KAAK,GAAW,SAAS,CAAC;gBAC1B,OAAO,GAAG,IAAI,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBACnC,MAAM,GAAG,iBAAiB,CAAC;YAC9B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,OAAO,GAAW,MAAM,CAAC;gBACzB,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC;gBAClB,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC;gBAClB,MAAM,GAAW,SAAS,CAAC;YAC9B,CAAC;YAED,IAAI,OAAO,GAAW,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAChE,IAAI,OAAO,GAAW,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAChE,IAAI,SAAS,GAAG,IAAI,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAC7C,IAAI,QAAQ,GAAG,MAAM,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC;YAE1D,MAAM,CAAC,IAAI,iBAAiB,CAAC,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;QAC9D,CAAC;QAGJ,wBAAC;IAAD,CA9BA,AA8BC,IAAA;IA9BY,8CAAiB;;;;;ICrf9B;;;;;;;OAOG;IACH,IAAY,2BAGX;IAHD,WAAY,2BAA2B;QACpC,2EAAG,CAAA;QACH,uFAAS,CAAA;IACZ,CAAC,EAHW,2BAA2B,GAA3B,mCAA2B,KAA3B,mCAA2B,QAGtC;IAED;;;;;;OAMG;IACH,IAAY,kBAGX;IAHD,WAAY,kBAAkB;QAC3B,6DAAK,CAAA;QACL,iFAAe,CAAA;IAClB,CAAC,EAHW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAG7B;IAED;;OAEG;IACH,IAAY,UAEX;IAFD,WAAY,UAAU;QACnB,6CAAK,CAAA;IACR,CAAC,EAFW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAErB;IAED;;;;OAIG;IACH,0BAA0B;IAC1B;QAAA;QA4IA,CAAC;QA/CE;;WAEG;QACW,qBAAa,GAA3B;YACG,OAAO,CAAC,2BAA2B,GAAG,2BAA2B,CAAC,GAAG,CAAC;QACzE,CAAC;QAED;;;WAGG;QACW,2BAAmB,GAAjC;YACG,OAAO,CAAC,2BAA2B,GAAG,2BAA2B,CAAC,SAAS,CAAC;QAC/E,CAAC;QAkCJ,cAAC;IAAD,CA5IA,AA4IC;IA3IE;;;;;OAKG;IACW,WAAG,GAAG,IAAI,iBAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAErC;;OAEG;IACW,eAAO,GAAG,IAAI,CAAC;IAE7B;;;;;;;;;;;;OAYG;IACW,uBAAe,GAAG,CAAC,CAAC;IAElC;;;;;;OAMG;IACW,0BAAkB,GAAuB,kBAAkB,CAAC,eAAe,CAAC;IAE1F;;OAEG;IACW,uBAAe,GAAY,KAAK,CAAC;IAC/C;;OAEG;IACW,4BAAoB,GAAY,KAAK,CAAC;IACpD;;OAEG;IACW,yBAAiB,GAAY,KAAK,CAAC;IACjD;;OAEG;IACW,kBAAU,GAAY,KAAK,CAAC;IAC1C;;OAEG;IACW,gBAAQ,GAAY,KAAK,CAAC;IACxC;;OAEG;IACW,oBAAY,GAAY,KAAK,CAAC;IAC5C;;OAEG;IACW,mBAAW,GAAY,KAAK,CAAC;IAC3C;;;;;;;OAOG;IACW,mCAA2B,GAAgC,2BAA2B,CAAC,GAAG,CAAC;IACzG;;OAEG;IACW,mBAAW,GAAW,EAAE,CAAC;IACvC;;OAEG;IACW,kBAAU,GAAe,UAAU,CAAC,KAAK,CAAC;IACxD;;;OAGG;IACW,wBAAgB,GAAG,CAAC,CAAC;IACnC;;OAEG;IACW,8BAAsB,GAAG,IAAI,CAAC;IAiB5C;;OAEG;IACW,sBAAc,GAAG,IAAI,CAAC;IAEpC;;OAEG;IACW,qCAA6B,GAAG,CAAC,CAAC;IAEhD;;OAEG;IACW,qBAAa,GAAG,CAAC,CAAC;IAEhC;;OAEG;IACW,sBAAc,GAAG,EAAE,CAAC;IAElC;;;OAGG;IACW,0BAAkB,GAAG,IAAI,CAAC;IAExC;;;;OAIG;IACW,sCAA8B,GAAG,KAAK,CAAC;IA3I3C,0BAAO;;;;;ICmBpB;;OAEG;IAEH;QAA+B,6BAAK;QAwWjC,aAAa;QAEb;;;;;;;WAOG;QACH,mBAAY,SAA+B,EAAE,CAAU,EAAE,KAAc,EAAE,MAAe,EAAE,KAAa;YAAvG,YACG,iBAAO,SAoCT;YAhZD;;eAEG;YACI,QAAE,GAAW,SAAS,CAAC,KAAK,EAAE,CAAC;YAEtC;;;eAGG;YACI,UAAI,GAAS,IAAI,WAAI,CAAC,KAAI,CAAC,CAAC;YAsO3B,aAAO,GAAW,CAAC,CAAC;YACpB,YAAM,GAAW,CAAC,CAAC;YAE3B;;eAEG;YACI,WAAK,GAAW,IAAI,iBAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACxC;;eAEG;YACI,QAAE,GAAW,CAAC,CAAC,CAAC,WAAW;YAClC;;eAEG;YACI,QAAE,GAAW,CAAC,CAAC,CAAC,WAAW;YAElC;;eAEG;YACI,iBAAW,GAAY,KAAK,CAAC;YACpC;;eAEG;YACI,aAAO,GAAY,IAAI,CAAC;YAC/B;;;eAGG;YACI,aAAO,GAAW,CAAC,CAAC;YACpB,qBAAe,GAAW,CAAC,CAAC;YAWnC;;eAEG;YACI,YAAM,GAAW,aAAM,CAAC,WAAW,EAAE,CAAC;YAC7C;;eAEG;YACI,WAAK,GAAU,IAAI,CAAC;YAC3B;;eAEG;YACI,YAAM,GAAU,IAAI,CAAC;YAC5B,4EAA4E;YAC5E;;eAEG;YACI,cAAQ,GAAY,EAAE,CAAC;YAC9B;;;eAGG;YACI,mBAAa,GAAkB,aAAa,CAAC,gBAAgB,CAAC;YAC9D,qBAAe,GAAa,EAAE,CAAC;YAG9B,wBAAkB,GAAmD,EAAE,CAAC;YACxE,oBAAc,GAAY,KAAK,CAAC;YACjC,YAAM,GAAkC,EAAE,CAAC;YAC1C,mBAAa,GAAY,KAAK,CAAC;YAEvC;;;;eAIG;YACI,oBAAc,GAAc,IAAI,CAAC;YAExC;;eAEG;YACI,YAAM,GAAkB,EAAE,CAAC;YAgBlC;;;eAGG;YACI,0BAAoB,GAAY,KAAK,CAAC;YAE7C;;eAEG;YACI,oBAAc,GAAiC;gBACnD,iBAAiB,EAAE,KAAK;gBACxB,iBAAiB,EAAE,KAAK;aAC1B,CAAC;YAEM,aAAO,GAAW,CAAC,CAAC;YACpB,eAAS,GAAY,KAAK,CAAC;YAC3B,gBAAU,GAAG,IAAI,OAAO,CAAC,OAAO,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;YAsFvD,iBAAiB;YAET,2BAAqB,GAAuB;gBACjD,WAAW,EAAE,aAAa,EAAE,aAAa,EAAE,cAAc,EAAE,cAAc;gBACzE,kBAAkB,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,kBAAkB;aACjG,CAAC;YAEM,wBAAkB,GAAuB;gBAC9C,aAAa,EAAE,cAAc,EAAE,cAAc;gBAC7C,iBAAiB,EAAE,kBAAkB,EAAE,kBAAkB;aAC3D,CAAC;YAEM,wBAAkB,GAAuB;gBAC9C,kBAAkB,EAAE,gBAAgB,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,kBAAkB;aACjG,CAAC;YArFC,EAAE,CAAC,CAAC,SAAS,IAAI,OAAO,SAAS,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC9C,IAAI,MAAM,GAAG,SAAS,CAAC;gBACvB,SAAS,GAAG,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;gBACjD,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;gBACzC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;gBACrB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAC1B,CAAC;YAED,KAAI,CAAC,GAAG,CAAC,CAAC,GAAW,SAAS,IAAI,CAAC,CAAC;YACpC,KAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACpB,KAAI,CAAC,MAAM,GAAG,KAAK,IAAI,CAAC,CAAC;YACzB,KAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,CAAC;YAC3B,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACT,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,+CAA+C;gBAC/C,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC;YAC1B,CAAC;YAED,yBAAyB;YACzB,kDAAkD;YAClD,yDAAyD;YACzD,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,yBAAyB,EAAE,CAAC,CAAC;YACzD,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC;YAChD,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC;YAE9C,yBAAyB;YACzB,KAAI,CAAC,WAAW,GAAG,IAAI,oBAAW,CAAC,KAAI,CAAC,CAAC;YACzC,KAAI,CAAC,OAAO,GAAG,IAAI,6BAAa,CAAC,KAAI,CAAC,CAAC;YAEvC,kCAAkC;YAClC,KAAI,CAAC,MAAM,GAAG,IAAI,iBAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YAEjC,8CAA8C;YAC9C,KAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;;QAC/B,CAAC;QAjYD,sBAAW,oCAAa;YAJxB;;;eAGG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YAClC,CAAC;YAED;;;eAGG;iBACH,UAAyB,IAAoB;gBAC1C,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAClC,CAAC;;;WARA;QAaD,sBAAW,wBAAC;YAHZ;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YAC1B,CAAC;YAED;;eAEG;iBACH,UAAa,IAAY;gBACtB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;YAC1B,CAAC;;;WAPA;QAYD,sBAAW,wBAAC;YAHZ;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YAC1B,CAAC;YAED;;eAEG;iBACH,UAAa,IAAY;gBACtB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;YAC1B,CAAC;;;WAPA;QAYD,sBAAW,0BAAG;YAHd;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACxB,CAAC;YAED;;eAEG;iBACH,UAAe,MAAc;gBAC1B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;YAC3C,CAAC;;;WAPA;QAYD,sBAAW,6BAAM;YAHjB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAC3B,CAAC;YAED;;eAEG;iBACH,UAAkB,MAAc;gBAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;YAC9C,CAAC;;;WAPA;QAYD,sBAAW,0BAAG;YAHd;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACxB,CAAC;YAED;;eAEG;iBACH,UAAe,MAAc;gBAC1B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;YAC3C,CAAC;;;WAPA;QAYD,sBAAW,6BAAM;YAHjB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAC3B,CAAC;YAED;;eAEG;iBACH,UAAkB,MAAc;gBAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;YAC9C,CAAC;;;WAPA;QAaD,sBAAW,0BAAG;YAJd;;;eAGG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACxB,CAAC;YAED;;eAEG;iBACH,UAAe,MAAc;gBAC1B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;YAC3C,CAAC;;;WAPA;QAYD,sBAAW,+BAAQ;YAHnB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YAC7B,CAAC;YAED;;eAEG;iBACH,UAAoB,QAAgB;gBACjC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACjC,CAAC;;;WAPA;QAYD,sBAAW,yBAAE;YAHb;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;YACvB,CAAC;YAED;;eAEG;iBACH,UAAc,eAAuB;gBAClC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,eAAe,CAAC;YAClC,CAAC;;;WAPA;QAYD,sBAAW,6BAAM;YAHjB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAC3B,CAAC;YAED;;eAEG;iBACH,UAAkB,SAAiB;gBAChC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YAChC,CAAC;;;WAPA;QAYD,sBAAW,2BAAI;YAHf;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YACzB,CAAC;YAED;;eAEG;iBACH,UAAgB,OAAe;gBAC5B,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;YAC5B,CAAC;;;WAPA;QAYD,sBAAW,0BAAG;YAHd;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YACxB,CAAC;YAED;;eAEG;iBACH,UAAe,MAAc;gBAC1B,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC;YAC1B,CAAC;;;WAPA;QAYD,sBAAW,+BAAQ;YAHnB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YAC7B,CAAC;YAED;;eAEG;iBACH,UAAoB,WAAmB;gBACpC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;YACpC,CAAC;;;WAPA;QAaD,sBAAW,kCAAW;YAJtB;;;eAGG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;YAChC,CAAC;YAED;;;eAGG;iBACH,UAAuB,cAAsB;gBAC1C,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,cAAc,CAAC;YAC1C,CAAC;;;WARA;QA+GD,sBAAW,4BAAK;YANhB;;;;;eAKG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACtB,CAAC;iBACD,UAAiB,CAAQ;gBACtB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC;YAC3B,CAAC;;;WAHA;QAyED;;;;;WAKG;QACI,gCAAY,GAAnB,UAAoB,OAAe;YAChC,cAAc;QACjB,CAAC;QAKD,sBAAW,oCAAa;YAHxB;;eAEG;iBACH;gBACG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;YAC9B,CAAC;;;WAAA;QAED;;;;;;WAMG;QACI,+BAAW,GAAlB,UAAmB,MAAc;YAC9B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC1B,iBAAM,IAAI,YAAC,YAAY,EAAE,IAAI,yBAAe,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;gBAC5D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC9B,CAAC;YACD,GAAG,CAAC,CAAc,UAAa,EAAb,KAAA,IAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa;gBAA1B,IAAI,KAAK,SAAA;gBACX,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;aAC5B;QACJ,CAAC;QAkBO,yCAAqB,GAA7B,UAA8B,SAAiB;YAC5C,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACb,IAAM,UAAU,GAAqB,SAAS,CAAC,WAAW,EAAE,CAAC;gBAE7D,EAAE,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;oBAEjC,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBACtD,IAAI,CAAC,cAAc,CAAC,iBAAiB,GAAG,IAAI,CAAC;oBAChD,CAAC;oBAED,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBACtD,IAAI,CAAC,cAAc,CAAC,iBAAiB,GAAG,IAAI,CAAC;oBAChD,CAAC;gBACJ,CAAC;YACJ,CAAC;QACJ,CAAC;QA+BM,sBAAE,GAAT,UAAU,SAAiB,EAAE,OAA8B;YACxD,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;YACtC,iBAAM,EAAE,YAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAChC,CAAC;QA+BM,wBAAI,GAAX,UAAY,SAAiB,EAAE,OAA8B;YAC1D,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;YACtC,iBAAM,IAAI,YAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAClC,CAAC;QAwBM,uBAAG,GAAV,UAAW,SAAiB,EAAE,OAA+B;YAC1D,iBAAM,GAAG,YAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACjC,CAAC;QAED,aAAa;QAGb;;;;;WAKG;QACI,4BAAQ,GAAf,UAAgB,MAAa;YAC1B,iBAAM,IAAI,YAAC,SAAS,EAAE,IAAI,sBAAY,CAAC,IAAI,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC1B,CAAC;QAED;;;;WAIG;QACI,6BAAS,GAAhB,UAAiB,MAAa;YAC3B,cAAc;QACjB,CAAC;QAED;;;;;WAKG;QACI,6BAAS,GAAhB,UAAiB,MAAa;YAC3B,iBAAM,IAAI,YAAC,UAAU,EAAE,IAAI,uBAAa,CAAC,IAAI,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAE3B,CAAC;QAED;;;;WAIG;QACI,8BAAU,GAAjB,UAAkB,MAAa;YAC5B,cAAc;QACjB,CAAC;QAED;;;WAGG;QACI,wBAAI,GAAX;YACG,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBACd,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC1B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,mBAAS,CAAC,IAAI,CAAC,CAAC,CAAC;gBACvC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oDAAoD,CAAC,CAAC;YAC1E,CAAC;QACJ,CAAC;QAED;;WAEG;QACI,0BAAM,GAAb;YACG,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAC1B,CAAC;QAED;;WAEG;QACI,4BAAQ,GAAf;YACG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACzB,CAAC;QAED;;;;;WAKG;QACI,uBAAG,GAAV,UAAW,KAAY;YACpB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC,gBAAgB,CAAC;YACrD,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC7C,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;YACvB,CAAC;QACJ,CAAC;QACD;;;WAGG;QACI,0BAAM,GAAb,UAAc,KAAY;YACvB,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAClD,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;YACvB,CAAC;QACJ,CAAC;QAaM,8BAAU,GAAjB,UAAkB,GAAQ;YACvB,GAAG,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;YACrB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,MAAM,CAAS,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC;oBACzB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC1C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,aAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,8BAA8B,GAAG,GAAG,GAAG,mBAAmB,CAAC,CAAC;gBAC1F,CAAC;YACJ,CAAC;QACJ,CAAC;QAgBM,8BAAU,GAAjB;YACG,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,MAAM,CAAS,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACjD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;oBACxB,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACtC,CAAC;gBACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC7B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,YAAY,eAAM,CAAC,CAAC,CAAC;oBAClC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,CAAC;gBACD,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,YAAY,iBAAO,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACvD,CAAC;YACJ,CAAC;QACJ,CAAC;QAGD,sBAAW,wBAAC;iBAAZ;gBACG,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;YAC3B,CAAC;iBAED,UAAa,IAAY;gBACtB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACxB,CAAC;;;WAJA;QAMD;;;WAGG;QACI,6BAAS,GAAhB;YACG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACvB,CAAC;QAED;;;;;WAKG;QACI,6BAAS,GAAhB,UAAiB,QAAgB;YAC9B,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC;QAED;;;;;;;;WAQG;QACI,qCAAiB,GAAxB,UAAyB,IAAY;YAClC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC;QACD;;;WAGG;QACI,wCAAoB,GAA3B,UAA4B,IAAY;YACrC,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC/C,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACzC,CAAC;QACJ,CAAC;QAED;;WAEG;QACI,6BAAS,GAAhB;YACG,MAAM,CAAC,IAAI,iBAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,EACjF,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAC5E,CAAC;QACD;;WAEG;QACI,4BAAQ,GAAf;YACG,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;QAChD,CAAC;QACD;;WAEG;QACI,4BAAQ,GAAf,UAAgB,KAAa;YAC1B,IAAI,CAAC,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACtC,CAAC;QACD;;WAEG;QACI,6BAAS,GAAhB;YACG,MAAM,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;QACjD,CAAC;QACD;;WAEG;QACI,6BAAS,GAAhB,UAAiB,MAAc;YAC5B,IAAI,CAAC,OAAO,GAAG,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACxC,CAAC;QACD;;WAEG;QACI,2BAAO,GAAd;YACG,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC;QAChC,CAAC;QACD;;WAEG;QACI,4BAAQ,GAAf;YACG,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC;QACjC,CAAC;QACD;;WAEG;QACI,0BAAM,GAAb;YACG,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC;QAC/B,CAAC;QACD;;WAEG;QACI,6BAAS,GAAhB;YACG,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC;QAClC,CAAC;QAED;;;;WAIG;QACI,oCAAgB,GAAvB;YACG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAChB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACxB,CAAC;YAED,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;QACzD,CAAC;QAED;;;;WAIG;QACI,+BAAW,GAAlB;YACG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAChB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;YAC3B,CAAC;YAED,oCAAoC;YACpC,IAAI,OAAO,GAAY,EAAE,CAAC;YAC1B,IAAI,IAAI,GAAU,IAAI,CAAC;YAEvB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAEnB,eAAe;YACf,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;gBAClB,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;gBACnB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACtB,CAAC;YAED,4BAA4B;YAC5B,IAAI,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC,UAAC,EAAE,EAAE,CAAC;gBAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACZ,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC;gBAChD,CAAC;gBACD,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACvB,CAAC,EAAE,CAAC,CAAC,CAAC;YAEN,IAAI,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC,UAAC,EAAE,EAAE,CAAC;gBAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACZ,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC;gBAChD,CAAC;gBACD,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACvB,CAAC,EAAE,CAAC,CAAC,CAAC;YAEN,4BAA4B;YAC5B,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,SAAS;YACtC,IAAI,CAAC,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAEhC,MAAM,CAAC,IAAI,iBAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACzC,CAAC;QAED;;WAEG;QACI,kCAAc,GAArB;YACG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAChB,MAAM,CAAC,IAAI,iBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACjD,CAAC;YAED,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;YAC/C,MAAM,CAAC,IAAI,iBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QACjF,CAAC;QAED,oBAAoB;QAEpB;;WAEG;QACI,6BAAS,GAAhB;YACG,0BAA0B;YAC1B,IAAI,MAAM,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;YACzC,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAE7B,MAAM,CAAC,IAAI,yBAAW,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,EACpC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,EAChB,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,GAAG,MAAM,CAAC,CAAC,EAClC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;QACtE,CAAC;QAED;;WAEG;QACI,qCAAiB,GAAxB;YACG,0BAA0B;YAC1B,IAAI,MAAM,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;YACzC,MAAM,CAAC,IAAI,yBAAW,CAAC,CAAC,MAAM,CAAC,CAAC,EAC7B,CAAC,MAAM,CAAC,CAAC,EACT,IAAI,CAAC,QAAQ,EAAE,GAAG,MAAM,CAAC,CAAC,EAC1B,IAAI,CAAC,SAAS,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACzD,CAAC;QAGD;;;;;WAKG;QACI,4BAAQ,GAAf,UAAgB,CAAS,EAAE,CAAS,EAAE,OAAwB;YAAxB,wBAAA,EAAA,eAAwB;YAC3D,IAAI,WAAW,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC,IAAI,iBAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAE9D,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBAEX,MAAM,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,KAAY;oBACnD,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;gBACrC,CAAC,CAAC,CAAC;YACN,CAAC;YAED,MAAM,CAAC,WAAW,CAAC;QACtB,CAAC;QAED;;;WAGG;QACI,wCAAoB,GAA3B,UAA4B,SAAiB;YAC1C,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACb,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjD,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;wBACnB,MAAM,CAAC,WAAI,CAAC,KAAK,CAAC;oBACrB,CAAC;oBACD,MAAM,CAAC,WAAI,CAAC,IAAI,CAAC;gBACpB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;wBACnB,MAAM,CAAC,WAAI,CAAC,MAAM,CAAC;oBACtB,CAAC;oBACD,MAAM,CAAC,WAAI,CAAC,GAAG,CAAC;gBACnB,CAAC;YACJ,CAAC;YACD,MAAM,CAAC,WAAI,CAAC,IAAI,CAAC;QACpB,CAAC;QACD;;;WAGG;QACI,oCAAgB,GAAvB,UAAwB,KAAY;YACjC,IAAI,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC5C,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACrB,MAAM,CAAC,WAAI,CAAC,IAAI,CAAC;YACpB,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/D,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC5B,MAAM,CAAC,WAAI,CAAC,KAAK,CAAC;gBACrB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,MAAM,CAAC,WAAI,CAAC,IAAI,CAAC;gBACpB,CAAC;YACJ,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC5B,MAAM,CAAC,WAAI,CAAC,MAAM,CAAC;gBACtB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,MAAM,CAAC,WAAI,CAAC,GAAG,CAAC;gBACnB,CAAC;YACJ,CAAC;QACJ,CAAC;QACD;;;;WAIG;QACI,4BAAQ,GAAf,UAAgB,KAAY;YACzB,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;YAC9B,IAAI,WAAW,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;YACpC,IAAI,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAC7C,MAAM,CAAC,SAAS,CAAC;QACpB,CAAC;QACD;;;;WAIG;QACI,kCAAc,GAArB,UAAsB,KAAa,EAAE,IAA4B;YAC9D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;YACvC,CAAC;YACD,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7C,CAAC;QACM,wCAAoB,GAA3B;YACG,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC;QAClC,CAAC;QACD;;;WAGG;QACI,sCAAkB,GAAzB,UAA0B,KAAa;YACpC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;QACvC,CAAC;QACD;;;;WAIG;QACI,0BAAM,GAAb,UAAc,KAAY,EAAE,QAAgB;YACzC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC;QAC/G,CAAC;QAED,aAAa;QAEL,wCAAoB,GAA5B;YACG,MAAM,CAAC,IAAI,iBAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACxF,CAAC;QAES,mCAAe,GAAzB,UAA0B,OAAkB;YACzC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACtC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACtC,CAAC;QAED,iBAAiB;QACjB;;WAEG;QACI,6BAAS,GAAhB,UAAiB,KAAa;YAC3B,4CAA4C;YAC5C,IAAI,OAAO,GAAG,KAAK,GAAG,IAAI,CAAC;YAE3B,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;YAChC,iEAAiE;YACjE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,KAAK,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC/C,QAAQ,CAAC,QAAQ,CAAC,kBAAO,CAAC,GAAG,CAAC,CAAC;YAClC,CAAC;YAED,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YAC3C,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC;YAE7F,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;YACpD,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC;YAEnC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,EAAE,GAAG,KAAK,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,EAAE,GAAG,KAAK,GAAG,IAAI,CAAC;YAEvC,sBAAsB;YACtB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;QACtB,CAAC;QAED;;;;WAIG;QACI,0BAAM,GAAb,UAAc,MAAc,EAAE,KAAa;YACxC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACzB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAE/B,sBAAsB;YACtB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAE/B,4BAA4B;YAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBACd,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YAC/B,CAAC;YAED,6BAA6B;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC;gBACpC,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC7B,CAAC;YAED,0DAA0D;YAC1D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAE1C,wBAAwB;YACxB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YAEtB,8FAA8F;YAC9F,GAAG,CAAC,CAAgB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW;gBAA1B,IAAM,KAAK,SAAA;gBACb,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;aACpC;YAED,sBAAsB;YACtB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC7C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAC1C,CAAC;YAED,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACnC,CAAC;QAED;;;;WAIG;QACI,+BAAW,GAAlB,UAAmB,OAAe,EAAE,MAAc;YAC/C,cAAc;QACjB,CAAC;QAED;;;;WAIG;QACI,gCAAY,GAAnB,UAAoB,OAAe,EAAE,MAAc;YAChD,cAAc;QACjB,CAAC;QAED;;;;;WAKG;QACI,8BAAU,GAAjB,UAAkB,MAAc,EAAE,KAAa;YAC5C,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,wBAAc,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;YAChE,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACnC,CAAC;QAED;;;;;WAKG;QACI,+BAAW,GAAlB,UAAmB,MAAc,EAAE,KAAa;YAC7C,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,wBAAc,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACpC,CAAC;QAED,YAAY;QAEZ,kBAAkB;QAClB;;;;WAIG;QACI,wBAAI,GAAX,UAAY,GAA6B,EAAE,KAAa;YACrD,GAAG,CAAC,IAAI,EAAE,CAAC;YACX,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACtC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1B,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAEtC,oCAAoC;YACpC,GAAG,CAAC,IAAI,EAAE,CAAC;YACX,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAE/E,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAE1B,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gBACvB,IAAI,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC;gBAClC,iGAAiG;gBACjG,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC9E,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAEhF,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;oBACtB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;oBAC1C,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC9B,CAAC;gBAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;YACnD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBACd,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;oBACtC,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBACjD,CAAC;YACJ,CAAC;YACD,GAAG,CAAC,OAAO,EAAE,CAAC;YAEd,oBAAoB;YACpB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gBACrC,CAAC;YACJ,CAAC;YAGD,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAC3B,GAAG,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC;QAED;;;;WAIG;QACI,6BAAS,GAAhB,UAAiB,IAA8B,EAAE,MAAc;YAC5D,cAAc;QACjB,CAAC;QAED;;;;WAIG;QACI,8BAAU,GAAjB,UAAkB,IAA8B,EAAE,MAAc;YAC7D,cAAc;QACjB,CAAC;QAED;;;;;WAKG;QACI,4BAAQ,GAAf,UAAgB,GAA6B,EAAE,KAAa;YACzD,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,sBAAY,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;YACzD,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAC9B,CAAC;QAED;;;;;WAKG;QACI,6BAAS,GAAhB,UAAiB,GAA6B,EAAE,KAAa;YAC1D,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,sBAAY,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;YAC1D,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAC/B,CAAC;QAED;;;WAGG;QACH,0BAA0B;QACnB,6BAAS,GAAhB,UAAiB,GAA6B;YAC3C,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,2BAAiB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;YAE5D,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAEzB,0BAA0B;YAC1B,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;YAC1B,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAGlB,gBAAgB;YAChB,GAAG,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,IAAI,GAAG,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;YAEzD,2BAA2B;YAC3B,GAAG,CAAC,SAAS,GAAG,cAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YACxC,GAAG,CAAC,SAAS,EAAE,CAAC;YAChB,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;YACvE,GAAG,CAAC,SAAS,EAAE,CAAC;YAChB,GAAG,CAAC,IAAI,EAAE,CAAC;YAEX,yBAAyB;YACzB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,YAAY,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAE,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBACvE,CAAC;YACJ,CAAC;YAED,yBAAyB;YACzB,GAAG,CAAC,WAAW,GAAG,cAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YAC1C,GAAG,CAAC,SAAS,EAAE,CAAC;YAChB,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;YACzD,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;YAC5E,GAAG,CAAC,SAAS,EAAE,CAAC;YAChB,GAAG,CAAC,MAAM,EAAE,CAAC;YACb,IAAI,KAAK,GAA8B;gBACpC,MAAM,EAAE,CAAC;gBACT,MAAM,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC;gBACnB,IAAI,EAAE,IAAI,CAAC,EAAE;gBACb,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC;aAC3B,CAAC;YAEF,IAAI,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC;YACvB,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC;gBACtB,GAAG,CAAC,SAAS,GAAG,cAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBACxC,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC;gBAClB,GAAG,CAAC,SAAS,GAAG,QAAQ,CAAC;gBACzB,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,EAC5E,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC;YACpE,CAAC;YAED,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;YAEnB,oBAAoB;YACpB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC7C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACnC,CAAC;YAED,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,4BAAkB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;QACjE,CAAC;QAGJ,gBAAC;IAAD,CA/xCA,AA+xCC,CA/xC8B,cAAK;IACjC,qBAAqB;IAErB;;OAEG;IACW,eAAK,GAAG,CAAC,CAAC;IANd,8BAAS;IAkyCtB;;;;;;;;;;;OAWG;IACH;QAA2B,yBAAuB;QAI/C,eAAY,SAA+B,EAAE,CAAU,EAAE,KAAc,EAAE,MAAe,EAAE,KAAa;mBACpG,kBAAM,SAAS,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC;QAC5C,CAAC;QACJ,YAAC;IAAD,CAPA,AAOC,CAP0B,2BAAY,CAAC,SAAS,CAAC,GAOjD;IAPY,sBAAK;IAUlB;;OAEG;IACH,IAAY,aA0BX;IA1BD,WAAY,aAAa;QACtB;;;WAGG;QACH,yEAAgB,CAAA;QAChB;;;WAGG;QACH,uDAAO,CAAA;QACP;;;;WAIG;QACH,qDAAM,CAAA;QACN;;;;;;;WAOG;QACH,mDAAK,CAAA;IACR,CAAC,EA1BW,aAAa,GAAb,qBAAa,KAAb,qBAAa,QA0BxB;;;;;ICn4CD;QAQG,gBAAmB,KAAY,EACnB,CAAS,EACT,CAAS,EACT,QAAgB,EACT,SAAkG;YAJlG,UAAK,GAAL,KAAK,CAAO;YAIZ,cAAS,GAAT,SAAS,CAAyF;YAX7G,qBAAgB,GAAW,CAAC,CAAC;YAC7B,kBAAa,GAAW,CAAC,GAAG,IAAI,CAAC,CAAC,WAAW;YAC7C,eAAU,GAAW,IAAI,iBAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACtC,aAAQ,GAAW,IAAI,iBAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACpC,iBAAY,GAAY,KAAK,CAAC;YAC9B,aAAQ,GAAY,KAAK,CAAC;YAC1B,cAAS,GAAW,CAAC,CAAC;YAM3B,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;YAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,iBAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpC,CAAC;QACO,4BAAW,GAAnB;YACG,IAAI,CAAC,UAAU,GAAG,IAAI,iBAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;YAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5D,CAAC;QAEM,uBAAM,GAAb,UAAc,KAAa;YACxB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC5B,CAAC;YAED,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5B,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;gBAE9C,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;oBACvC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,EACnB,IAAI,CAAC,QAAQ,CAAC,CAAC,EACf,IAAI,CAAC,UAAU,CAAC,CAAC,EACjB,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACvF,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBACxG,CAAC;gBAED,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;oBACvC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,EACnB,IAAI,CAAC,QAAQ,CAAC,CAAC,EACf,IAAI,CAAC,UAAU,CAAC,CAAC,EACjB,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACvF,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBACxG,CAAC;gBACD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;gBACxB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;gBAExB,IAAI,CAAC,gBAAgB,IAAI,KAAK,CAAC;YAElC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnC,yBAAyB;gBACzB,uBAAuB;gBACvB,4BAA4B;YAC/B,CAAC;QAEJ,CAAC;QACM,2BAAU,GAAjB,UAAkB,KAAY;YAC3B,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,iBAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC;QAC9G,CAAC;QAEM,sBAAK,GAAZ;YACG,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC7B,CAAC;QACM,qBAAI,GAAX;YACG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QACJ,aAAC;IAAD,CAzEA,AAyEC,IAAA;IAzEY,wBAAM;IA2EnB;QAWG,gBAAY,KAAY,EAAE,KAAa,EAAE,KAAa,EAAE,KAAa;YAF7D,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YAEtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,IAAI,GAAG,IAAI,iBAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACvB,CAAC;QAEM,uBAAM,GAAb,UAAc,MAAc;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,MAAM,GAAG,IAAI,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;YACtD,CAAC;YACD,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAExB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC;QACJ,CAAC;QAEM,2BAAU,GAAjB,UAAkB,KAAY;YAC3B,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,iBAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC;QAC1G,CAAC;QAEM,qBAAI,GAAX;YACG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,sBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,aAAC;IAAD,CAjDA,AAiDC,IAAA;IAjDY,wBAAM;IAmDnB;QAaG,gBAAY,KAAY,EAAE,KAAa,EAAE,KAAa,EAAE,IAAY;YAF5D,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YAEtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,IAAI,GAAG,IAAI,iBAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACrC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBACb,aAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,wDAAwD,GAAG,IAAI,CAAC,CAAC;gBAC5F,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;YAC/C,CAAC;YACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAErB,CAAC;QAEM,uBAAM,GAAb,UAAc,MAAc;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,MAAM,GAAG,IAAI,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;gBACnD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;YACtD,CAAC;YAED,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAGxB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC;QACJ,CAAC;QAEM,2BAAU,GAAjB,UAAkB,KAAY;YAC3B,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,iBAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC;QAC1G,CAAC;QAEM,qBAAI,GAAX;YACG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,sBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,aAAC;IAAD,CA3DA,AA2DC,IAAA;IA3DY,wBAAM;IA6DnB;QAcG,gBAAY,KAAY,EAAE,aAAqB,EAAE,cAAwB;YAHjE,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YAGtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;YACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,IAAI,GAAG,IAAI,iBAAM,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,EAAE,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,gBAAgB,GAAG,CAAC,cAAc,KAAK,SAAS,CAAC,GAAG,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5G,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QACnB,CAAC;QAEM,uBAAM,GAAb,UAAc,MAAc;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC1D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC;YACxD,CAAC;YAED,IAAI,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpH,EAAE,CAAC,CAAC,kBAAkB,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;YACpC,CAAC;YACD,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAEpC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC;YAErD,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBAClD,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACrC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACxB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC3B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBACrB,+BAA+B;gBAC/B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC;QACJ,CAAC;QAEM,qBAAI,GAAX;YACM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC3B,CAAC;QAEM,2BAAU,GAAjB;YACG,kEAAkE;YAClE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACxB,CAAC;QAEM,sBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,aAAC;IAAD,CA1EA,AA0EC,IAAA;IA1EY,wBAAM;IA4EnB;QAcG,cAAY,KAAY,EAAE,WAAmB,EAAE,KAAe;YAJtD,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YACjB,uBAAkB,GAAG,KAAK,CAAC;YAGhC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;YAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,iBAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACjE,IAAI,CAAC,IAAI,GAAG,IAAI,iBAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC7D,IAAI,CAAC,MAAM,GAAG,KAAK,IAAI,CAAC,CAAC;YAEzB,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAClC,CAAC;QACJ,CAAC;QAEM,qBAAM,GAAb,UAAc,MAAc;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC1D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC;YACxD,CAAC;YAED,IAAI,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9G,EAAE,CAAC,CAAC,CAAC,gBAAgB,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;gBAC1D,IAAI,CAAC,MAAM,GAAG,gBAAgB,CAAC;YAClC,CAAC;YACD,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAEpC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC;YAErD,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAExB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBAErB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC;QACJ,CAAC;QAEM,yBAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,CAAC,CAAC;QACxD,CAAC;QAEM,mBAAI,GAAX;YACG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,oBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,WAAC;IAAD,CAvEA,AAuEC,IAAA;IAvEY,oBAAI;IAyEjB;QAeG,kBAAY,KAAY,EAAE,YAAoB,EAAE,KAAa,EAAE,YAA2B;YAFlF,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YAEtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC;YACzB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,aAAa,GAAG,YAAY,IAAI,2BAAY,CAAC,YAAY,CAAC;QAClE,CAAC;QAEM,yBAAM,GAAb,UAAc,MAAc;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;gBACnC,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;gBAClD,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;gBACvC,EAAE,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC;oBACzB,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;oBAChC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;gBAClC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;oBAChC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;gBAClC,CAAC;gBAED,IAAI,CAAC,uBAAuB,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,EAAE,CAAC;gBAE9F,MAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;oBAC1B,KAAK,2BAAY,CAAC,YAAY;wBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;wBACrC,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;4BAChC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;wBACvB,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACL,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;wBACxB,CAAC;wBACD,KAAK,CAAC;oBACT,KAAK,2BAAY,CAAC,WAAW;wBAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;wBACpC,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;4BAChC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;wBACxB,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACL,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;wBACvB,CAAC;wBACD,KAAK,CAAC;oBACT,KAAK,2BAAY,CAAC,SAAS;wBACxB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;wBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;4BAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;wBACxC,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;wBACvC,CAAC;wBACD,KAAK,CAAC;oBACT,KAAK,2BAAY,CAAC,gBAAgB;wBAC/B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;wBACrB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;4BACjC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;wBACxC,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;wBACvC,CAAC;wBACD,KAAK,CAAC;gBACZ,CAAC;YACJ,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC;YAE/C,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;gBACjC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACxB,CAAC;QACJ,CAAC;QAEM,6BAAU,GAAjB;YACG,IAAI,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;YACrE,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAC3E,CAAC;QAEM,uBAAI,GAAX;YACG,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,wBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,eAAC;IAAD,CAhGA,AAgGC,IAAA;IAhGY,4BAAQ;IAkGrB;QAgBG,kBAAY,KAAY,EAAE,YAAoB,EAAE,IAAY,EAAE,YAA2B;YAFjF,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YAEtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC;YACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,aAAa,GAAG,YAAY,IAAI,2BAAY,CAAC,YAAY,CAAC;QAClE,CAAC;QAEM,yBAAM,GAAb,UAAc,MAAc;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;gBACnC,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;gBAClD,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;gBACvC,EAAE,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC;oBACzB,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;oBAChC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;gBAClC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;oBAChC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;gBAClC,CAAC;gBAED,IAAI,CAAC,uBAAuB,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,EAAE,CAAC;gBAE9F,MAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;oBAC1B,KAAK,2BAAY,CAAC,YAAY;wBAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;wBACrC,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;4BAChC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;wBACvB,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACL,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;wBACxB,CAAC;wBACD,KAAK,CAAC;oBACT,KAAK,2BAAY,CAAC,WAAW;wBAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;wBACpC,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;4BAChC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;wBACxB,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACL,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;wBACvB,CAAC;wBACD,KAAK,CAAC;oBACT,KAAK,2BAAY,CAAC,SAAS;wBACxB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;wBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC,CAAC,CAAC;4BAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;wBACxC,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;wBACvC,CAAC;wBACD,KAAK,CAAC;oBACT,KAAK,2BAAY,CAAC,gBAAgB;wBAC/B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;wBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC,CAAC,CAAC;4BAC5B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;wBACxC,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;wBACvC,CAAC;wBACD,KAAK,CAAC;gBACZ,CAAC;gBACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;YAC9D,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC;YAG/C,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;gBACjC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACxB,CAAC;QACJ,CAAC;QAEM,6BAAU,GAAjB;YACG,IAAI,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;YACrE,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAC3E,CAAC;QAEM,uBAAI,GAAX;YACG,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,wBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,eAAC;IAAD,CAnGA,AAmGC,IAAA;IAnGY,4BAAQ;IAqGrB;QAcG,iBAAY,KAAY,EAAE,MAAc,EAAE,MAAc,EAAE,MAAc,EAAE,MAAc;YAFhF,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YAEtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;YACpB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QAEzB,CAAC;QAEM,wBAAM,GAAb,UAAc,MAAc;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;gBACtD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;YACzD,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACtE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBACpD,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC;YAC9C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACtB,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACtE,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBACpD,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC;YAC9C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACL,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACtB,CAAC;YAGD,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;gBACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;gBACjC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACtB,CAAC;QACJ,CAAC;QAEM,4BAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC;gBAC/D,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QACjG,CAAC;QAEM,sBAAI,GAAX;YACG,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,uBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,cAAC;IAAD,CArEA,AAqEC,IAAA;IArEY,0BAAO;IAuEpB;QAcG,iBAAY,KAAY,EAAE,MAAc,EAAE,MAAc,EAAE,IAAY;YAJ9D,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YAItB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;YACpB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;YAChE,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;QACnE,CAAC;QAEM,wBAAM,GAAb,UAAc,MAAc;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;gBACtD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;YACzD,CAAC;YACD,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACpD,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACpD,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC;YAC3C,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC;YAG3C,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;gBACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;gBACjC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACtB,CAAC;QACJ,CAAC;QAEM,4BAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC;gBAC/D,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QACjG,CAAC;QAEM,sBAAI,GAAX;YACG,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,uBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,cAAC;IAAD,CA1DA,AA0DC,IAAA;IA1DY,0BAAO;IA4DpB;QAQG,eAAY,KAAY,EAAE,KAAa;YAJ/B,iBAAY,GAAW,CAAC,CAAC;YAEzB,aAAQ,GAAY,KAAK,CAAC;YAC1B,aAAQ,GAAG,KAAK,CAAC;YAEtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACvB,CAAC;QAEM,sBAAM,GAAb,UAAc,KAAa;YACxB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACxB,CAAC;YAED,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAE3B,IAAI,CAAC,YAAY,IAAI,KAAK,CAAC;QAC9B,CAAC;QAED,0BAAU,GAAV;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9D,CAAC;QAEM,oBAAI,GAAX;YACG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAED,qBAAK,GAAL;YACG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,YAAC;IAAD,CApCA,AAoCC,IAAA;IApCY,sBAAK;IAsClB;QASG,eAAY,KAAY,EAAE,WAAmB,EAAE,cAAsB,EAAE,SAAqB;YAArB,0BAAA,EAAA,aAAqB;YARpF,iBAAY,GAAW,CAAC,CAAC;YACzB,oBAAe,GAAW,CAAC,CAAC;YAC5B,iBAAY,GAAW,CAAC,CAAC;YACzB,eAAU,GAAW,CAAC,CAAC;YAGvB,aAAQ,GAAY,KAAK,CAAC;YAC1B,aAAQ,GAAY,KAAK,CAAC;YAE/B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;YAChC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;YACtC,IAAI,CAAC,SAAS,GAAG,CAAC,WAAW,GAAG,cAAc,CAAC,GAAG,SAAS,CAAC;QAC/D,CAAC;QAEM,sBAAM,GAAb,UAAc,KAAa;YACxB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACxB,CAAC;YAED,IAAI,CAAC,YAAY,IAAI,KAAK,CAAC;YAC3B,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;YACzB,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBACrE,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;YACzB,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;YAC9B,CAAC;QAEJ,CAAC;QAEM,0BAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC;QAC/D,CAAC;QAEM,oBAAI,GAAX;YACG,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,qBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACvB,CAAC;QACJ,YAAC;IAAD,CArDA,AAqDC,IAAA;IArDY,sBAAK;IAuDlB;QAWG,cAAY,KAAY,EAAE,UAAkB,EAAE,KAAa;YAJnD,gBAAW,GAAW,CAAC,CAAC;YACxB,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YAGtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;YAC9B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACvB,CAAC;QAEM,qBAAM,GAAb,UAAc,KAAa;YACxB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAErB,oCAAoC;gBACpC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;oBAC1C,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;gBACzB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;gBACxB,CAAC;YACJ,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YACtH,CAAC;YAED,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC;YAErB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;YAC1C,CAAC;YAED,aAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,8BAA8B,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACnF,CAAC;QAEM,yBAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;QACrF,CAAC;QAEM,mBAAI,GAAX;YACG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,oBAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACzB,CAAC;QACJ,WAAC;IAAD,CArDA,AAqDC,IAAA;IArDY,oBAAI;IAuDjB;QAOG,aAAY,KAAY;YAFhB,aAAQ,GAAG,KAAK,CAAC;YAGtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACvB,CAAC;QAEM,oBAAM,GAAb,UAAc,MAAc;YACzB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,wBAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACxB,CAAC;QAEM,kBAAI,GAAX,cAAsB,MAAM,CAAC,CAAC,CAAC;QAExB,mBAAK,GAAZ,cAAuB,MAAM,CAAC,CAAC,CAAC;QACnC,UAAC;IAAD,CAxBA,AAwBC,IAAA;IAxBY,kBAAG;IA0BhB;QAMG,oBAAY,KAAY,EAAE,MAAiB;YAHnC,YAAO,GAAc,IAAI,CAAC;YAC1B,WAAM,GAAU,IAAI,CAAC;YACrB,mBAAc,GAAY,KAAK,CAAC;YAErC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACzB,CAAC;QAEM,2BAAM,GAAb,UAAc,MAAc;YACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC/B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC9B,CAAC;QACM,+BAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;QAC9B,CAAC;QACM,0BAAK,GAAZ;YACG,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC/B,CAAC;QACM,yBAAI,GAAX;YACG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC9B,CAAC;QACJ,iBAAC;IAAD,CAxBA,AAwBC,IAAA;IAxBY,gCAAU;IA0BvB;QAQG,gBAAY,KAAY,EAAE,MAAc,EAAE,OAAkB;YADpD,aAAQ,GAAY,KAAK,CAAC;YAE/B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;YAC3C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC;YAE9B,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC;YAChC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpB,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;gBACnB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,CAAC;YAAA,CAAC;QACL,CAAC;QAEM,uBAAM,GAAb,UAAc,KAAa;YACxB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;gBAC1B,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC;YACD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC;QAEM,2BAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC;QAC/C,CAAC;QAEM,qBAAI,GAAX;YACG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,CAAC;QAEM,sBAAK,GAAZ;YACG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC;QACvC,CAAC;QACJ,aAAC;IAAD,CA1CA,AA0CC,IAAA;IA1CY,wBAAM;IA4CnB;QAMG,uBAAY,KAAY,EAAE,OAAkB;YADpC,aAAQ,GAAY,KAAK,CAAC;YAE/B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;YAE3C,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC;YAChC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpB,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;gBACnB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,CAAC;YAAA,CAAC;QACL,CAAC;QAEM,8BAAM,GAAb,UAAc,KAAa;YACxB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACjB,MAAM,CAAC;YACV,CAAC;YAGD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;YAC7B,CAAC;YAED,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAEnC,CAAC;QAEM,kCAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACxB,CAAC;QAEM,4BAAI,GAAX;YACG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;QACpC,CAAC;QAEM,6BAAK,GAAZ,cAAuB,MAAM,CAAC,CAAC,CAAC;QACnC,oBAAC;IAAD,CA3CA,AA2CC,IAAA;IA3CY,sCAAa;IA6C1B;;;;;;;;;OASG;IACH;QAKG,qBAAY,KAAY;YAHhB,aAAQ,GAAc,EAAE,CAAC;YAEzB,sBAAiB,GAAc,EAAE,CAAC;YAEvC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACvB,CAAC;QAEM,yBAAG,GAAV,UAAW,MAAe;YACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9B,CAAC;QAEM,4BAAM,GAAb,UAAc,MAAe;YAC1B,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAClC,CAAC;QAEM,kCAAY,GAAnB;YACG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC;YAClC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;YAC9B,CAAC;QACJ,CAAC;QAEM,gCAAU,GAAjB;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACvD,CAAC;QAEM,6BAAO,GAAd;YACG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QACnC,CAAC;QAEM,2BAAK,GAAZ;YACG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;YAElC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YACtC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YAC5B,CAAC;YACD,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC/B,CAAC;QAEM,4BAAM,GAAb,UAAc,KAAa;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACvC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAElC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAC/C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;gBACtD,CAAC;YACJ,CAAC;QACJ,CAAC;QACJ,kBAAC;IAAD,CAtDA,AAsDC,IAAA;IAtDY,kCAAW;;ACt9BxB,0BAA0B;AAC1B,EAAE,CAAC,CAAC,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC;IACjC,MAAM,GAAS,EAAE,YAAY,EAAE,cAAc,MAAM,CAAC,CAAC,CAAC,EAAG,CAAC;AAC7D,CAAC;AACD,0BAA0B;AAC1B,EAAE,CAAC,CAAC,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC;IAC5D,MAAO,CAAC,qBAAqB;QAC7B,MAAO,CAAC,2BAA2B;YACnC,MAAO,CAAC,wBAAwB;YACtC,UAAU,QAAkB,IAAI,MAAM,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9E,CAAC;AACD,0BAA0B;AAC1B,EAAE,CAAC,CAAC,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC;IAC3D,MAAO,CAAC,oBAAoB;QAC5B,MAAO,CAAC,0BAA0B;YAClC,MAAO,CAAC,uBAAuB;YACrC,cAAc,MAAM,CAAC,CAAC,CAAC,CAAC;AAC3B,CAAC;AACD,0BAA0B;AAC1B,EAAE,CAAC,CAAC,OAAO,MAAM,KAAK,WAAW,IAAI,CAAO,MAAO,CAAC,YAAY,CAAC,CAAC,CAAC;IAC1D,MAAO,CAAC,YAAY,GAAS,MAAO,CAAC,YAAY;QACpB,MAAO,CAAC,kBAAkB;QAC1B,MAAO,CAAC,eAAe;QACvB,MAAO,CAAC,cAAc;QACtB,MAAO,CAAC,aAAa,CAAC;AAC5D,CAAC;AAED,EAAE,CAAC,CAAC,OAAO,MAAM,KAAK,WAAW,IAAI,CAAO,MAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC;IAC9D,MAAO,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,IAAI,CAAC,CAAC;AACjE,CAAC;AAED,+GAA+G;AAC/G,qDAAqD;AACrD,8CAA8C;AAC9C,0BAA0B;AAC1B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;IAE5B,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,UAA4B,QAAQ,EAAE,OAAO;QAEpE,IAAI,CAAC,EAAE,CAAC,CAAC;QAET,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;YAChB,MAAM,IAAI,SAAS,CAAC,6BAA6B,CAAC,CAAC;QACtD,CAAC;QAED,wFAAwF;QACxF,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;QAErB,oGAAoG;QACpG,oCAAoC;QACpC,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;QAEzB,oEAAoE;QACpE,oCAAoC;QACpC,EAAE,CAAC,CAAC,OAAO,QAAQ,KAAK,UAAU,CAAC,CAAC,CAAC;YAClC,MAAM,IAAI,SAAS,CAAC,QAAQ,GAAG,oBAAoB,CAAC,CAAC;QACxD,CAAC;QAED,yEAAyE;QACzE,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACxB,CAAC,GAAG,OAAO,CAAC;QACf,CAAC;QAED,gBAAgB;QAChB,CAAC,GAAG,CAAC,CAAC;QAEN,2BAA2B;QAC3B,OAAO,CAAC,GAAG,GAAG,EAAE,CAAC;YAEd,IAAI,MAAM,CAAC;YAEX,4BAA4B;YAC5B,yDAAyD;YACzD,kGAAkG;YAClG,qCAAqC;YACrC,+BAA+B;YAC/B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAEV,wFAAwF;gBACxF,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEd,6EAA6E;gBAC7E,6CAA6C;gBAC7C,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAClC,CAAC;YACD,sBAAsB;YACtB,CAAC,EAAE,CAAC;QACP,CAAC;QACD,sBAAsB;IACzB,CAAC,CAAC;AACL,CAAC;AAED,4GAA4G;AAC5G,0BAA0B;AAC1B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC1B,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,UAA2B,GAAG,CAAC,cAAc;QAClE,YAAY,CAAC;QAEb,EAAE,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC;YACrC,MAAM,IAAI,SAAS,EAAE,CAAC;QACxB,CAAC;QAED,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;QACrB,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;QACzB,EAAE,CAAC,CAAC,OAAO,GAAG,KAAK,UAAU,CAAC,CAAC,CAAC;YAC9B,MAAM,IAAI,SAAS,EAAE,CAAC;QACxB,CAAC;QAED,IAAI,OAAO,GAAG,SAAS,CAAC,MAAM,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;QAC5D,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YAC7B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,MAAM,CAAC,IAAI,CAAC;YACd,CAAC;QACH,CAAC;QAED,MAAM,CAAC,KAAK,CAAC;IACf,CAAC,CAAC;AACJ,CAAC;AAED,yHAAyH;AACzH,0BAA0B;AAC1B,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5B,QAAQ,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK;QACtC,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC;YAC9B,6CAA6C;YAC7C,+BAA+B;YAC/B,MAAM,IAAI,SAAS,CAAC,sEAAsE,CAAC,CAAC;QAC/F,CAAC;QAED,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,EACjD,OAAO,GAAG,IAAI,EACd,IAAI,GAAQ,cAAc,MAAM,CAAC,CAAC,CAAC,EACnC,MAAM,GAAG;YACN,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,YAAY,IAAI,IAAI,KAAK;kBAC7C,IAAI;kBACJ,KAAK,EACP,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC;QAEL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,MAAM,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;QAE9B,MAAM,CAAC,MAAM,CAAC;IACjB,CAAC,CAAC;AACL,CAAC;AChJD,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK;AACxD,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG;AAC3D,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG;AACvD,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;AACzD,IAAI,MAAM,CAAC,OAAO,EAAE,KAAK,GAAG;AAC5B","file":"excalibur.js","sourcesContent":["(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function (b) {\n            return (root.ex = factory(b));\n        });\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals\n        root.ex = factory();\n    }\n}(this, function () {\n    //almond, and your modules will be inlined here","/**\n * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.\n * Released under MIT license, http://github.com/requirejs/almond/LICENSE\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name) {\n            name = name.split('/');\n            lastIndex = name.length - 1;\n\n            // If wanting node ID compatibility, strip .js from end\n            // of IDs. Have to do this here, and not in nameToUrl\n            // because node allows either .js or non .js to map\n            // to same file.\n            if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n            }\n\n            // Starts with a '.' so need the baseName\n            if (name[0].charAt(0) === '.' && baseParts) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that 'directory' and not name of the baseName's\n                //module. For instance, baseName of 'one/two/three', maps to\n                //'one/two/three.js', but we want the directory, 'one/two' for\n                //this normalization.\n                normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\n                name = normalizedBaseParts.concat(name);\n            }\n\n            //start trimDots\n            for (i = 0; i < name.length; i++) {\n                part = name[i];\n                if (part === '.') {\n                    name.splice(i, 1);\n                    i -= 1;\n                } else if (part === '..') {\n                    // If at the start, or previous value is still ..,\n                    // keep them so that when converted to a path it may\n                    // still work when converted to a path, even though\n                    // as an ID it is less than ideal. In larger point\n                    // releases, may be better to just kick out an error.\n                    if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {\n                        continue;\n                    } else if (i > 0) {\n                        name.splice(i - 1, 2);\n                        i -= 2;\n                    }\n                }\n            }\n            //end trimDots\n\n            name = name.join('/');\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            var args = aps.call(arguments, 0);\n\n            //If first arg is not require('string'), and there is only\n            //one arg, it is the array form without a callback. Insert\n            //a null so that the following concat is correct.\n            if (typeof args[0] !== 'string' && args.length === 1) {\n                args.push(null);\n            }\n            return req.apply(undef, args.concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    //Creates a parts array for a relName where first part is plugin ID,\n    //second part is resource ID. Assumes relName has already been normalized.\n    function makeRelParts(relName) {\n        return relName ? splitPrefix(relName) : [];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relParts) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0],\n            relResourceName = relParts[1];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relResourceName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relResourceName));\n            } else {\n                name = normalize(name, relResourceName);\n            }\n        } else {\n            name = normalize(name, relResourceName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i, relParts,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n        relParts = makeRelParts(relName);\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relParts);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, makeRelParts(callback)).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n        if (typeof name !== 'string') {\n            throw new Error('See almond README: incorrect module build, no module name');\n        }\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());","\n/**\n * An enum that describes the strategies that rotation actions can use\n */\nexport enum RotationType {\n   /**\n    * Rotation via `ShortestPath` will use the smallest angle\n    * between the starting and ending points. This strategy is the default behavior.\n    */\n   ShortestPath = 0,\n   /**\n    * Rotation via `LongestPath` will use the largest angle\n    * between the starting and ending points.\n    */\n   LongestPath = 1,\n   /**\n    * Rotation via `Clockwise` will travel in a clockwise direction,\n    * regardless of the starting and ending points.\n    */\n   Clockwise = 2,\n   /**\n    * Rotation via `CounterClockwise` will travel in a counterclockwise direction,\n    * regardless of the starting and ending points.\n    */\n   CounterClockwise = 3\n}","/**\n * A definition of an EasingFunction. See [[EasingFunctions]].    \n */\nexport interface EasingFunction { // tslint:disable-line\n   (currentTime: number, startValue: number, endValue: number, duration: number): number;\n}\n\n/**\n * Standard easing functions for motion in Excalibur, defined on a domain of [0, duration] and a range from [+startValue,+endValue]\n * Given a time, the function will return a value from positive startValue to positive endValue.\n *\n * ```js\n * function Linear (t) {\n *    return t * t;\n * }\n *\n * // accelerating from zero velocity\n * function EaseInQuad (t) { \n *    return t * t; \n * }\n *\n * // decelerating to zero velocity\n * function EaseOutQuad (t) {\n *    return t * (2 - t); \n * }\n * \n * // acceleration until halfway, then deceleration\n * function EaseInOutQuad (t) { \n *    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t; \n * }\n *\n * // accelerating from zero velocity \n * function EaseInCubic (t) { \n *    return t * t * t; \n * }\n *\n * // decelerating to zero velocity \n * function EaseOutCubic (t) { \n *    return (--t) * t * t + 1; \n * }\n *\n * // acceleration until halfway, then deceleration \n * function EaseInOutCubic (t) { \n *    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1; \n * }\n * ```\n */\nexport class EasingFunctions {\n\n   public static Linear: EasingFunction = (currentTime: number, startValue: number, endValue: number, duration: number)  => {\n      endValue = (endValue - startValue);\n      return endValue * currentTime / duration + startValue;\n   };\n\n   public static EaseInQuad = (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = (endValue - startValue);\n      currentTime /= duration;\n\n      return endValue * currentTime * currentTime + startValue;\n   };\n   \n   public static EaseOutQuad: EasingFunction = (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = (endValue - startValue);\n      currentTime /= duration;\n      return -endValue * currentTime * (currentTime - 2) + startValue;\n   };\n\n   public static EaseInOutQuad: EasingFunction = (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = (endValue - startValue);\n      currentTime /= duration / 2;\n\n      if (currentTime < 1) { return endValue / 2 * currentTime * currentTime + startValue; }\n      currentTime--;\n\n      return -endValue / 2 * (currentTime * (currentTime - 2) - 1) + startValue;\n   };\n\n   public static EaseInCubic: EasingFunction = (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = (endValue - startValue);\n      currentTime /= duration;\n      return endValue * currentTime * currentTime * currentTime + startValue;\n   };\n\n   public static EaseOutCubic: EasingFunction = (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = (endValue - startValue);\n      currentTime /= duration;\n      currentTime--;\n      return endValue * (currentTime * currentTime * currentTime + 1) + startValue;\n   };\n\n   public static EaseInOutCubic: EasingFunction = (currentTime: number, startValue: number, endValue: number, duration: number) => {\n      endValue = (endValue - startValue);\n      currentTime /= duration / 2;\n      if (currentTime < 1) { return endValue / 2 * currentTime * currentTime * currentTime + startValue; }\n      currentTime -= 2;\n      return endValue / 2 * (currentTime * currentTime * currentTime + 2) + startValue;\n   };\n   \n}","// Promises/A+ Spec http://promises-aplus.github.io/promises-spec/\n\n/**\n * Valid states for a promise to be in\n */\nexport enum PromiseState {\n   Resolved,\n   Rejected,\n   Pending,\n}\n\nexport interface IPromise<T> {\n   then(successCallback?: (value?: T) => any, rejectCallback?: (value?: T) => any): IPromise<T>;\n   error(rejectCallback?: (value?: any) => any): IPromise<T>;\n\n   //Cannot define static methods on interfaces\n   //wrap<T>(value?: T): IPromise<T>;\n\n   resolve(value?: T): IPromise<T>;\n   reject(value?: any): IPromise<T>;\n\n   state(): PromiseState;\n}\n\n/**\n * Promises are used to do asynchronous work and they are useful for\n * creating a chain of actions. In Excalibur they are used for loading,\n * sounds, animation, actions, and more.\n *\n * [[include:Promises.md]]\n */\nexport class Promise<T> implements IPromise<T> {\n   private _state: PromiseState = PromiseState.Pending;\n   private _value: T;\n   private _successCallbacks: { (value?: T): any }[] = [];\n   private _rejectCallback: (value?: any) => any = () => { return; };\n   private _errorCallback: (value?: any) => any;\n\n   /**\n    * Create and resolve a Promise with an optional value\n    * @param value  An optional value to wrap in a resolved promise\n    */\n   public static resolve<T>(value?: T): Promise<T> {\n      var promise = (new Promise<T>()).resolve(value);\n\n      return promise;\n   }\n\n   /**\n    * Create and reject a Promise with an optional value\n    * @param value  An optional value to wrap in a rejected promise\n    */\n   public static reject<T>(value?: T): Promise<T> {\n      var promise = (new Promise<T>()).reject(value);\n\n      return promise;\n   }\n\n   /**\n    * Returns a new promise that resolves when all the promises passed to it resolve, or rejects\n    * when at least 1 promise rejects.\n    */\n   public static join<T>(promises: Promise<T>[]): Promise<T>;\n\n   /**\n    * Returns a new promise that resolves when all the promises passed to it resolve, or rejects\n    * when at least 1 promise rejects.\n    */\n   public static join<T>(...promises: Promise<T>[]): Promise<T>;\n\n   public static join<T>() {\n      var promises: Promise<T>[] = [];\n\n      if (arguments.length > 0 && !Array.isArray(arguments[0])) {\n         for (var _i = 0; _i < arguments.length; _i++) {\n            promises[_i - 0] = arguments[_i];\n         }\n      } else if (arguments.length === 1 && Array.isArray(arguments[0])) {\n         promises = arguments[0];\n      }\n\n      var joinedPromise = new Promise<T>();\n      if (!promises || !promises.length) {\n         return joinedPromise.resolve();\n      }\n\n      var total = promises.length;\n      var successes = 0;\n      var rejects = 0;\n      var errors: any = [];\n\n      promises.forEach((p) => {\n         p.then(\n            () => {\n               successes += 1;\n               if (successes === total) {\n                  joinedPromise.resolve();\n               } else if (successes + rejects + errors.length === total) {\n                  joinedPromise.reject(errors);\n               }\n            },\n            () => {\n               rejects += 1;\n               if (successes + rejects + errors.length === total) {\n                  joinedPromise.reject(errors);\n               }\n            }\n         ).error((e) => {\n            errors.push(e);\n            if ((errors.length + successes + rejects) === total) {\n               joinedPromise.reject(errors);\n            }\n         });\n      });\n\n\n      return joinedPromise;\n   }\n\n   /**\n    * Chain success and reject callbacks after the promise is resolved\n    * @param successCallback  Call on resolution of promise\n    * @param rejectCallback   Call on rejection of promise\n    */\n   public then(successCallback?: (value?: T) => any, rejectCallback?: (value?: any) => any) {\n      if (successCallback) {\n         this._successCallbacks.push(successCallback);\n\n         // If the promise is already resovled call immediately\n         if (this.state() === PromiseState.Resolved) {\n            try {\n               successCallback.call(this, this._value);\n            } catch (e) {\n               this._handleError(e);\n            }\n         }\n      }\n      if (rejectCallback) {\n         this._rejectCallback = rejectCallback;\n\n         // If the promise is already rejected call immediately\n         if (this.state() === PromiseState.Rejected) {\n            try {\n               rejectCallback.call(this, this._value);\n            } catch (e) {\n               this._handleError(e);\n            }\n         }\n      }\n\n      return this;\n   }\n\n   /**\n    * Add an error callback to the promise \n    * @param errorCallback  Call if there was an error in a callback\n    */\n   public error(errorCallback?: (value?: any) => any) {\n      if (errorCallback) {\n         this._errorCallback = errorCallback;\n      }\n      return this;\n   }\n\n   /**\n    * Resolve the promise and pass an option value to the success callbacks\n    * @param value  Value to pass to the success callbacks\n    */\n   public resolve(value?: T): Promise<T> {\n      if (this._state === PromiseState.Pending) {\n         this._value = value;\n         try {\n            this._state = PromiseState.Resolved;\n            this._successCallbacks.forEach((cb) => {\n               cb.call(this, this._value);\n            });\n\n         } catch (e) {\n            this._handleError(e);\n         }\n      } else {\n         throw new Error('Cannot resolve a promise that is not in a pending state!');\n      }\n      return this;\n   }\n\n   /**\n    * Reject the promise and pass an option value to the reject callbacks\n    * @param value  Value to pass to the reject callbacks\n    */\n   public reject(value?: any) {\n      if (this._state === PromiseState.Pending) {\n         this._value = value;\n         try {\n            this._state = PromiseState.Rejected;\n            this._rejectCallback.call(this, this._value);\n         } catch (e) {\n            this._handleError(e);\n         }\n      } else {\n         throw new Error('Cannot reject a promise that is not in a pending state!');\n      }\n      return this;\n   }\n\n   /**\n    * Inspect the current state of a promise\n    */\n   public state(): PromiseState {\n      return this._state;\n   }\n\n   private _handleError(e: any) {\n      if (this._errorCallback) {\n         this._errorCallback.call(this, e);\n      } else {\n         // rethrow error\n         throw e;\n      }\n   }\n}","/**\n * Pseudo-Random Utility\n * \n * A pseudo-random utility to add seeded random support for help in\n * generating things like terrain or reproducible randomness. Uses the \n * [Mersenne Twister](https://en.wikipedia.org/wiki/Mersenne_Twister) algorithm.\n * \n * [[include:Random.md]]\n */\n\n/**\n * 32-bit mask\n */\nconst BITMASK32: number = 0xFFFFFFFF;\n\n/**\n * Pseudo-random number generator following the Mersenne_Twister algorithm. Given a seed this generator will produce the same sequence \n * of numbers each time it is called.\n * See https://en.wikipedia.org/wiki/Mersenne_Twister for more details.\n * Uses the MT19937-32 (2002) implementation documented here http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/MT2002/emt19937ar.html\n * \n * Api inspired by http://chancejs.com/# https://github.com/chancejs/chancejs\n */\nexport class Random {\n\n   // Separation point of one one word, the number of bits in the lower bitmask 0 <= r <= w-1\n   private _lowerMask: number = 0x7FFFFFFF; // 31 bits same as _r\n   private _upperMask: number = 0x80000000; // 34 high bits\n\n   // Word size, 64 bits\n   private _w: number = 32;\n\n   // Degree of recurrance\n   private _n: number = 624;\n\n   // Middle word, an offset used in the recurrance defining the series x, 1<=m<n\n   private _m: number = 397;\n   // coefficients of teh rational normal form twist matrix\n   private _a: number = 0x9908B0DF;\n\n   // tempering bit shifts and masks\n   private _u: number = 11;\n   private _s: number = 7;\n   private _b: number = 0x9d2c5680;\n   private _t: number = 15;\n   private _c: number = 0xefc60000;\n   private _l: number = 18;\n   private _f: number = 1812433253;\n\n   private _mt: number[];\n\n   private _index: number;\n\n   /**\n    * If no seed is specified, the Date.now() is used\n    */\n   constructor(public seed?: number) {\n      this._mt = new Array<number>(this._n);\n      // need to mask to support higher bit machines\n      this._mt[0] = (seed || Date.now()) >>> 0;\n\n      for (var i = 1; i < this._n; i++) {\n         var s = this._mt[i - 1] ^ (this._mt[i - 1] >>> (this._w - 2));\n         // numbers are bigger than the JS max safe int, add in 16-bit chunks to prevent IEEE rounding errors on high bits         \n         this._mt[i] = (((this._f * ((s & 0xFFFF0000) >>> 16)) << 16) + (this._f * (s & 0xFFFF)) + i) >>> 0;\n      }\n      this._index = this._n;\n   }\n\n   /**\n    * Apply the twist\n    */\n   private _twist(): void {\n\n      var mag01 = [0x0, this._a];\n      var y = 0;\n      for (var i = 0; i < this._n - this._m; i++) {\n         y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\n         this._mt[i] = this._mt[i + this._m] ^ (y >>> 1) ^ mag01[y & 0x1] & BITMASK32;\n      }\n      for (; i < this._n - 1; i++) {\n         y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\n         this._mt[i] = this._mt[i + (this._m - this._n)] ^ (y >>> 1) ^ mag01[y & 0x1] & BITMASK32;\n      }\n      y = (this._mt[this._n - 1] & this._upperMask) | (this._mt[0] & this._lowerMask);\n      this._mt[this._n - 1] = this._mt[this._m - 1] ^ (y >>> 1) ^ mag01[y & 0x1] & BITMASK32;\n\n      this._index = 0;\n   }\n\n   /**\n    * Return next 32 bit integer number in sequence\n    */\n   public nextInt(): number {\n      if (this._index >= this._n) {\n         this._twist();\n      }\n\n      var y = this._mt[this._index++];\n\n      y ^= y >>> this._u;\n      y ^= ((y << this._s) & this._b);\n      y ^= ((y << this._t) & this._c);\n      y ^= (y >>> this._l);\n\n      return y >>> 0;\n   }\n\n   /**\n    * Return a random floating point number between [0, 1)\n    */\n   public next(): number {\n      return this.nextInt() * (1.0 / 4294967296.0); // divided by 2^32\n   }\n\n   /**\n    * Return a random floating point in range [min, max) min is included, max is not included\n    */\n   public floating(min: number, max: number): number {\n      return (max - min) * this.next() + min;\n   }\n\n   /**\n    * Return a random integer in range [min, max] min is included, max is included.\n    * Implemented with rejection sampling, see https://medium.com/@betable/tifu-by-using-math-random-f1c308c4fd9d#.i13tdiu5a\n    */\n   public integer(min: number, max: number): number {\n      return Math.floor((max - min + 1) * this.next() + min);\n   }\n\n   /**\n    * Returns true or false randomly with 50/50 odds by default. \n    * By default the likelihood of returning a true is .5 (50%).\n    * @param likelihood takes values between [0, 1]\n    */\n   public bool(likelihood: number = .5): boolean {\n      return this.next() <= likelihood;\n   }\n\n   /**\n    * Returns one element from an array at random\n    */\n   public pickOne<T>(array: Array<T>): T {\n      return array[this.integer(0, array.length - 1)];\n   }\n\n   /**\n    * Returns a new array random picking elements from the original\n    * @param array Original array to pick from\n    * @param numPicks can be any positive number\n    * @param allowDuplicates indicates whether the returned set is allowed duplicates (it does not mean there will always be duplicates \n    * just that it is possible)\n    */\n   public pickSet<T>(array: Array<T>, numPicks: number, allowDuplicates: boolean = false): Array<T> {\n      if (allowDuplicates) {\n         return this._pickSetWithDuplicates(array, numPicks);\n      } else {\n         return this._pickSetWithoutDuplicates(array, numPicks);\n      }\n   }\n\n   /**\n    * Returns a new array randomly picking elements in the original (not reused)\n    * @param numPicks must be less than or equal to the number of elements in the array.\n    */\n   private _pickSetWithoutDuplicates<T>(array: Array<T>, numPicks: number): Array<T> {\n      if (numPicks > array.length || numPicks < 0) {\n         throw new Error('Invalid number of elements to pick, must pick a value 0 < n <= length');\n      }\n      if (numPicks === array.length) {\n         return array;\n      }\n\n      var result: Array<T> = new Array<T>(numPicks);\n      var currentPick = 0;\n      var tempArray = array.slice(0);\n      while (currentPick < numPicks) {\n         var index = this.integer(0, tempArray.length - 1);\n         result[currentPick++] = tempArray[index];\n         tempArray.splice(index, 1);\n      }\n\n      return result;\n   }\n\n   /**\n    * Returns a new array random picking elements from the original allowing duplicates\n    * @param numPicks can be any positive number\n    */\n   private _pickSetWithDuplicates<T>(array: Array<T>, numPicks: number): Array<T> {\n    // Typescript numbers are all floating point, so do we add check for int? (or floor the input?)\n      if (numPicks < 0) {\n         throw new Error('Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT');\n      }\n      var result = new Array<T>(numPicks);\n      for (var i = 0; i < numPicks; i++) {\n         result.push(this.pickOne(array));\n      }\n      return result;\n   }\n\n   /**\n    * Returns a new array that has its elements shuffled. Using the Fisher/Yates method\n    * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\n    */\n   public shuffle<T>(array: Array<T>): Array<T> {\n      var tempArray = array.slice(0);\n      var swap: T = null;\n      for (var i = 0; i < tempArray.length - 2; i++) {\n         var randomIndex = this.integer(i, tempArray.length - 1);\n         swap = tempArray[i];\n         tempArray[i] = tempArray[randomIndex];\n         tempArray[randomIndex] = swap;\n      }\n\n      return tempArray;\n   }\n\n   /**\n    * Generate a list of random integer numbers\n    * @param length the length of the final array\n    * @param min the minimum integer number to generate inclusive\n    * @param max the maximum integer number to generate inclusive\n    */\n   public range(length: number, min: number, max: number): Array<number> {\n      var result: Array<number> = new Array(length);\n      for (var i = 0; i < length; i++) {\n         result[i] = this.integer(min, max);\n      }\n      return result;\n   }\n\n   /**\n    * Returns the result of a d4 dice roll\n    */\n   public d4() {\n      return this.integer(1, 4);\n   }\n\n   /**\n    * Returns the result of a d6 dice roll\n    */\n   public d6() {\n      return this.integer(1, 6);\n   }\n\n   /**\n    * Returns the result of a d8 dice roll\n    */\n   public d8() {\n      return this.integer(1, 8);\n   }\n\n   /**\n    * Returns the result of a d10 dice roll\n    */\n   public d10() {\n      return this.integer(1, 10);\n   }\n\n   /**\n    * Returns the result of a d12 dice roll\n    */\n   public d12() {\n      return this.integer(1, 12);\n   }\n\n   /**\n    * Returns the result of a d20 dice roll\n    */\n   public d20() {\n      return this.integer(1, 20);\n   }\n}\n","\n/**\n * An enum that describes the sides of an Actor for collision\n */\nexport enum Side {\n   None,\n   Top,\n   Bottom,\n   Left,\n   Right\n}","import { Vector } from '../Algebra';\nimport { Random } from '../Math/Random';\nimport { Side } from '../Collision/Side';\n\n/**\n * Two PI constant\n */\nexport const TwoPI: number = Math.PI * 2;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @param deep Whether or not to do a deep clone\n * @param target The target object to attach properties on\n * @param objects The objects whose properties to merge\n * @returns Merged object with properties from other objects\n */\nexport function extend(deep: boolean, target: any, ...objects: any[]): any;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @param target The target object to attach properties on\n * @param object2 The second object whose properties to merge\n * @returns Merged object with properties from other objects\n */\nexport function extend<T1, T2>(target: T1, object2: T2): T1 & T2;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @param target The target object to attach properties on\n * @param object2 The second object whose properties to merge\n * @param object3 The third object whose properties to merge\n * @returns Merged object with properties from other objects\n */\nexport function extend<T1, T2, T3>(target: T1, object2: T2, object3: T3): T1 & T2 & T3;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @param target The target object to attach properties on\n * @param objects The objects whose properties to merge\n * @returns Merged object with properties from other objects\n */\nexport function extend(target: any, ...objects: any[]): any;\n\n/**\n * Merges one or more objects into a single target object\n *\n * @returns Merged object with properties from other objects\n * @credit https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/\n */\nexport function extend() {\n   var extended: { [key: string]: any } = {};\n   var deep = false;\n   var i = 0;\n   var length = arguments.length;\n\n   // Check if a deep merge\n   if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n      deep = arguments[0];\n      i++;\n   }\n\n   // Merge the object into the extended object\n   var assignExists = typeof (<any>Object).assign === 'function';\n   var merge = null;\n   if (!assignExists) {\n      merge = function (obj: any) {\n         for (var prop in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n               // If deep merge and property is an object, merge properties\n               if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n                  extended[prop] = extend(true, extended[prop], obj[prop]);\n               } else {\n                  extended[prop] = obj[prop];\n               }\n            }\n         }\n      };\n   } else {\n      merge = (<any>Object).assign;\n   }\n\n   // Loop through each object and conduct a merge\n   for (; i < length; i++) {\n      var obj = arguments[i];\n      if (!assignExists) {\n         merge(obj);\n      } else {\n         merge(extended, obj);\n      }\n   }\n\n   return extended;\n}\n\nexport function base64Encode(inputStr: string) {\n   var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n   var outputStr = '';\n   var i = 0;\n\n   while (i < inputStr.length) {\n      //all three \"& 0xff\" added below are there to fix a known bug\n      //with bytes returned by xhr.responseText\n      var byte1 = inputStr.charCodeAt(i++) & 0xff;\n      var byte2 = inputStr.charCodeAt(i++) & 0xff;\n      var byte3 = inputStr.charCodeAt(i++) & 0xff;\n\n      var enc1 = byte1 >> 2;\n      var enc2 = ((byte1 & 3) << 4) | (byte2 >> 4);\n\n      var enc3, enc4;\n      if (isNaN(byte2)) {\n         enc3 = enc4 = 64;\n      } else {\n         enc3 = ((byte2 & 15) << 2) | (byte3 >> 6);\n         if (isNaN(byte3)) {\n            enc4 = 64;\n         } else {\n            enc4 = byte3 & 63;\n         }\n      }\n\n      outputStr += b64.charAt(enc1) + b64.charAt(enc2) + b64.charAt(enc3) + b64.charAt(enc4);\n   }\n\n   return outputStr;\n}\n\n/**\n * Clamps a value between a min and max inclusive\n */\nexport function clamp(val: number, min: number, max: number) {\n   return Math.min(Math.max(min, val), max);\n}\n\nexport function randomInRange(min: number, max: number, random: Random = new Random()): number {\n   return random ? random.floating(min, max) : min + Math.random() * (max - min);\n}\n\nexport function randomIntInRange(min: number, max: number, random: Random = new Random()): number {\n   return random ? random.integer(min, max) : Math.round(randomInRange(min, max));\n}\n\nexport function canonicalizeAngle(angle: number): number {\n   var tmpAngle = angle;\n   if (angle > TwoPI) {\n      while (tmpAngle > TwoPI) {\n         tmpAngle -= TwoPI;\n      }\n   }\n\n   if (angle < 0) {\n      while (tmpAngle < 0) {\n         tmpAngle += TwoPI;\n      }\n   }\n   return tmpAngle;\n}\n\nexport function toDegrees(radians: number): number {\n   return 180 / Math.PI * radians;\n}\n\nexport function toRadians(degrees: number): number {\n   return degrees / 180 * Math.PI;\n}\n\nexport function getPosition(el: HTMLElement): Vector {\n   var oLeft: number = 0,\n      oTop: number = 0;\n\n   var calcOffsetLeft = (parent: HTMLElement) => {\n      oLeft += parent.offsetLeft;\n\n      if (parent.offsetParent) {\n         calcOffsetLeft(<HTMLElement>parent.offsetParent);\n      }\n   };\n   var calcOffsetTop = (parent: HTMLElement) => {\n      oTop += parent.offsetTop;\n      if (parent.offsetParent) {\n         calcOffsetTop(<HTMLElement>parent.offsetParent);\n      }\n   };\n\n   calcOffsetLeft(el);\n   calcOffsetTop(el);\n\n   return new Vector(oLeft, oTop);\n}\n\nexport function addItemToArray<T>(item: T, array: T[]): boolean {\n   if (array.indexOf(item) === -1) {\n      array.push(item);\n      return true;\n   }\n   return false;\n}\n\nexport function removeItemFromArray<T>(item: T, array: T[]): boolean {\n   var index = -1;\n   if ((index = array.indexOf(item)) > -1) {\n      array.splice(index, 1);\n      return true;\n   }\n\n   return false;\n}\n\nexport function contains(array: Array<any>, obj: any): boolean {\n   for (var i = 0; i < array.length; i++) {\n      if (array[i] === obj) {\n         return true;\n      }\n   }\n   return false;\n}\n\nexport function getOppositeSide(side: Side) {\n   if (side === Side.Top) { return Side.Bottom; }\n   if (side === Side.Bottom) { return Side.Top; }\n   if (side === Side.Left) { return Side.Right; }\n   if (side === Side.Right) { return Side.Left; }\n\n   return Side.None;\n}\n\nexport function getSideFromVector(direction: Vector) {\n   var directions = [Vector.Left, Vector.Right, Vector.Up, Vector.Down];\n   var directionEnum = [Side.Left, Side.Right, Side.Top, Side.Bottom];\n\n   var max = -Number.MAX_VALUE;\n   var maxIndex = -1;\n   for (var i = 0; i < directions.length; i++) {\n      if (directions[i].dot(direction) > max) {\n         max = directions[i].dot(direction);\n         maxIndex = i;\n      }\n   }\n   return directionEnum[maxIndex];\n}\n\n/**\n * Excalibur's dynamically resizing collection\n */\nexport class Collection<T> {\n   /**\n    * Default collection size\n    */\n   public static DefaultSize = 200;\n   private _internalArray: T[] = null;\n   private _endPointer: number = 0;\n\n   /**\n    * @param initialSize  Initial size of the internal backing array\n    */\n   constructor(initialSize: number = Collection.DefaultSize) {\n      this._internalArray = new Array<T>(initialSize);\n   }\n\n   private _resize() {\n      var newSize = this._internalArray.length * 2;\n      var newArray = new Array<T>(newSize);\n      var count = this.count();\n      for (var i = 0; i < count; i++) {\n         newArray[i] = this._internalArray[i];\n      }\n\n      delete this._internalArray;\n      this._internalArray = newArray;\n   }\n\n   /**\n    * Push elements to the end of the collection\n    */\n   public push(element: T): T {\n      if (this._endPointer === this._internalArray.length) {\n         this._resize();\n      }\n      return this._internalArray[this._endPointer++] = element;\n   }\n\n   /**\n    * Removes elements from the end of the collection\n    */\n   public pop(): T {\n      this._endPointer = this._endPointer - 1 < 0 ? 0 : this._endPointer - 1;\n      return this._internalArray[this._endPointer];\n   }\n\n   /**\n    * Returns the count of the collection\n    */\n   public count(): number {\n      return this._endPointer;\n   }\n\n   /**\n    * Empties the collection\n    */\n   public clear() {\n      this._endPointer = 0;\n   }\n\n   /**\n    * Returns the size of the internal backing array\n    */\n   public internalSize(): number {\n      return this._internalArray.length;\n   }\n\n   /**\n    * Returns an element at a specific index\n    * @param index  Index of element to retrieve\n    */\n   public elementAt(index: number): T {\n      if (index >= this.count()) {\n         //Logger.getInstance().error('Invalid parameter: ' + index);\n         throw new Error('Invalid index ' + index);\n      }\n      return this._internalArray[index];\n   }\n\n   /**\n    * Inserts an element at a specific index\n    * @param index  Index to insert the element\n    * @param value  Element to insert\n    */\n   public insert(index: number, value: T): T {\n      if (index >= this.count()) {\n         this._resize();\n      }\n      return this._internalArray[index] = value;\n   }\n\n   /**\n    * Removes an element at a specific index\n    * @param index  Index of element to remove\n    */\n   public remove(index: number): T {\n      var count = this.count();\n      if (count === 0) {\n        //Logger.getInstance().error('Invalid parameter: ' + index);\n         throw new Error('Invalid parameter ' + index);\n       }\n      // O(n) Shift\n      var removed = this._internalArray[index];\n      for (var i = index; i < count; i++) {\n         this._internalArray[i] = this._internalArray[i + 1];\n      }\n      this._endPointer--;\n      return removed;\n   }\n\n   /**\n    * Removes an element by reference\n    * @param element  Element to retrieve\n    */\n   public removeElement(element: T) {\n      var index = this._internalArray.indexOf(element);\n      this.remove(index);\n   }\n\n   /**\n    * Returns a array representing the collection\n    */\n   public toArray(): T[] {\n      return this._internalArray.slice(0, this._endPointer);\n   }\n\n   /**\n    * Iterate over every element in the collection\n    * @param func  Callback to call for each element passing a reference to the element and its index, returned values are ignored\n    */\n   public forEach(func: (element: T, index: number) => any) {\n      var i = 0, count = this.count();\n      for (i; i < count; i++) {\n         func.call(this, this._internalArray[i], i);\n      }\n   }\n\n   /**\n    * Mutate every element in the collection\n    * @param func  Callback to call for each element passing a reference to the element and its index, any values returned mutate\n    * the collection\n    */\n   public map(func: (element: T, index: number) => any) {\n      var count = this.count();\n      for (var i = 0; i < count; i++) {\n         this._internalArray[i] = func.call(this, this._internalArray[i], i);\n      }\n   }\n}\n","import { IActorTrait } from '../Interfaces/IActorTrait';\nimport { Actor } from '../Actor';\nimport { Engine } from '../Engine';\n\nexport interface ICapturePointerConfig {\n\n   /**\n    * Capture PointerMove events (may be expensive!)\n    */\n   captureMoveEvents: boolean;\n\n   /**\n    * Capture PointerDrag events (may be expensive!)\n    */\n   captureDragEvents: boolean;\n\n}\n\n/**\n * Propogates pointer events to the actor\n */\nexport class CapturePointer implements IActorTrait {\n\n   public update(actor: Actor, engine: Engine) {\n      if (!actor.enableCapturePointer) { return; }\n      if (actor.isKilled()) { return; }\n\n      engine.input.pointers.propogate(actor);\n   }\n}","import { Physics } from './../Physics';\nimport { IActorTrait } from '../Interfaces/IActorTrait';\nimport { Actor, CollisionType } from '../Actor';\nimport { Engine } from '../Engine';\n\nexport class EulerMovement implements IActorTrait { \n   public update(actor: Actor, _engine: Engine, delta: number) {\n      \n      // Update placements based on linear algebra\n      var seconds = delta / 1000;\n      \n      var totalAcc = actor.acc.clone();\n      // Only active vanilla actors are affected by global acceleration\n      if (actor.collisionType === CollisionType.Active) {\n         totalAcc.addEqual(Physics.acc);\n      }\n      \n      actor.oldVel = actor.vel;\n      actor.vel.addEqual(totalAcc.scale(seconds));\n      \n      actor.pos.addEqual(actor.vel.scale(seconds)).addEqual(totalAcc.scale(0.5 * seconds * seconds));\n      \n      actor.rx += actor.torque * (1.0 / actor.moi) * seconds;\n      actor.rotation += actor.rx * seconds;\n      \n      actor.scale.x += actor.sx * delta / 1000;\n      actor.scale.y += actor.sy * delta / 1000;\n      \n   }\n}","/**\n * Provides standard colors (e.g. [[Color.Black]])\n * but you can also create custom colors using RGB, HSL, or Hex. Also provides\n * useful color operations like [[Color.lighten]], [[Color.darken]], and more.\n *\n * [[include:Colors.md]]\n */\nexport class Color {\n   /**\n    * Red channel\n    */\n   public r: number;\n   /**\n    * Green channel\n    */\n   public g: number;\n   /**\n    * Blue channel\n    */\n   public b: number;\n   /**\n    * Alpha channel (between 0 and 1)\n    */\n   public a: number;\n\n   /**\n    * Hue\n    */\n   public h: number;\n   /**\n    * Saturation\n    */\n   public s: number;\n   /**\n    * Lightness\n    */\n   public l: number;\n\n   /**\n    * Creates a new instance of Color from an r, g, b, a\n    *\n    * @param r  The red component of color (0-255)\n    * @param g  The green component of color (0-255)\n    * @param b  The blue component of color (0-255)\n    * @param a  The alpha component of color (0-1.0)\n    */\n   constructor(r: number, g: number, b: number, a?: number) {\n      this.r = r;\n      this.g = g;\n      this.b = b;\n      this.a = (a != null ? a : 1);\n   }\n\n   /**\n    * Creates a new instance of Color from an r, g, b, a\n    *\n    * @param r  The red component of color (0-255)\n    * @param g  The green component of color (0-255)\n    * @param b  The blue component of color (0-255)\n    * @param a  The alpha component of color (0-1.0)\n    */\n   public static fromRGB(r: number, g: number, b: number, a?: number): Color {\n      return new Color(r, g, b, a);\n   }\n\n   /**\n    * Creates a new inscance of Color from a hex string\n    * \n    * @param hex  CSS color string of the form #ffffff, the alpha component is optional\n    */\n   public static fromHex(hex: string): Color {\n      var hexRegEx: RegExp = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i;\n      var match = null;\n      if (match = hex.match(hexRegEx)) {\n         var r = parseInt(match[1], 16);\n         var g = parseInt(match[2], 16);\n         var b = parseInt(match[3], 16);\n         var a = 1;\n         if (match[4]) {\n            a = parseInt(match[4], 16) / 255;\n         }\n         return new Color(r, g, b, a);\n      } else {\n         throw new Error('Invalid hex string: ' + hex);\n      }\n   }\n\n   /**\n    * Creats a new instance of Color from hsla values\n    *\n    * @param h  Hue is represented [0-1]\n    * @param s  Saturation is represented [0-1]\n    * @param l  Luminance is represented [0-1]\n    * @param a  Alpha is represented [0-1]\n    */\n   public static fromHSL(h: number, s: number, l: number, a: number = 1.0): Color {\n      var temp = new HSLColor(h, s, l, a);\n      return temp.toRGBA();\n   }\n\n   /**\n    * Lightens the current color by a specified amount \n    *\n    * @param factor  The amount to lighten by [0-1]\n    */\n   public lighten(factor: number = 0.1): Color {\n      var temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n      temp.l += (temp.l * factor);\n      return temp.toRGBA();\n   }\n\n   /**\n    * Darkens the current color by a specified amount \n    *\n    * @param factor  The amount to darken by [0-1]\n    */\n   public darken(factor: number = 0.1): Color {\n      var temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n      temp.l -= (temp.l * factor);\n      return temp.toRGBA();\n   }\n\n   /**\n    * Saturates the current color by a specified amount \n    *\n    * @param factor  The amount to saturate by [0-1]\n    */\n   public saturate(factor: number = 0.1): Color {\n      var temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n      temp.s += (temp.s * factor);\n      return temp.toRGBA();\n   }\n\n   /**\n    * Desaturates the current color by a specified amount \n    *\n    * @param factor  The amount to desaturate by [0-1]\n    */\n   public desaturate(factor: number = 0.1): Color {\n      var temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n      temp.s -= (temp.s * factor);\n      return temp.toRGBA();\n   }\n\n   /**\n    * Multiplies a color by another, results in a darker color\n    *\n    * @param color  The other color\n    */\n   public mulitiply(color: Color): Color {\n      var newR = ((color.r / 255 * this.r / 255) * 255);\n      var newG = ((color.g / 255 * this.g / 255) * 255);\n      var newB = ((color.b / 255 * this.b / 255) * 255);\n      var newA = (color.a * this.a);\n      return new Color(newR, newG, newB, newA);\n   }\n\n   /**\n    * Screens a color by another, results in a lighter color\n    *\n    * @param color  The other color\n    */\n   public screen(color: Color): Color {\n      var color1 = color.invert();\n      var color2 = color.invert();\n      return color1.mulitiply(color2).invert();\n   }\n\n   /**\n    * Inverts the current color\n    */\n   public invert(): Color {\n      return new Color(255 - this.r, 255 - this.g, 255 - this.b, 1.0 - this.a);\n   }\n\n   /**\n    * Averages the current color with another\n    *\n    * @param color  The other color\n    */\n   public average(color: Color): Color {\n      var newR = (color.r + this.r) / 2;\n      var newG = (color.g + this.g) / 2;\n      var newB = (color.b + this.b) / 2;\n      var newA = (color.a + this.a) / 2;\n      return new Color(newR, newG, newB, newA);\n   }\n\n   /**\n    * Returns a CSS string representation of a color. \n    *\n    * @param format Color representation, accepts: rgb, hsl, or hex\n    */\n   public toString(format: 'rgb'|'hsl'|'hex' = 'rgb') {\n      switch (format) {\n         case 'rgb':\n            return this.toRGBA();\n         case 'hsl':\n            return this.toHSLA();\n         case 'hex':\n            return this.toHex();\n         default:\n            throw new Error('Invalid Color format');\n      }\n   }\n\n   /**\n    * Returns Hex Value of a color component\n    * @param c color component\n    * @see https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n    */\n   private _componentToHex(c: number) {\n      var hex = c.toString(16);\n      return hex.length === 1 ? '0' + hex : hex;\n   }\n\n   /**\n    * Return Hex representation of a color.\n    */\n   public toHex() {\n       return '#' + this._componentToHex(this.r) + this._componentToHex(this.g) + this._componentToHex(this.b);  \n   }\n   \n   /**\n    * Return RGBA representation of a color. \n    */\n   public toRGBA() {\n      var result = String(this.r.toFixed(0)) + ', ' + String(this.g.toFixed(0)) + ', ' + String(this.b.toFixed(0));\n      if (this.a !== undefined || this.a !== null) {\n         return 'rgba(' + result + ', ' + String(this.a) + ')';\n      }\n      return 'rgb(' + result + ')';\n   }\n\n   /**\n    * Return HSLA representation of a color.\n    */\n   public toHSLA() {\n      return HSLColor.fromRGBA(this.r, this.g, this.b, this.a).toString();\n   }\n\n   /**\n    * Returns a CSS string representation of a color.\n    */\n   public fillStyle() {\n      return this.toString();\n   }\n\n   /**\n    * Returns a clone of the current color.\n    */\n   public clone(): Color {\n      return new Color(this.r, this.g, this.b, this.a);\n   }\n\n   /**\n    * Black (#000000)\n    */\n   public static Black: Color = Color.fromHex('#000000');\n\n   /**\n    * White (#FFFFFF)\n    */\n   public static White: Color = Color.fromHex('#FFFFFF');\n\n   /**\n    * Gray (#808080)\n    */\n   public static Gray: Color = Color.fromHex('#808080');\n\n   /**\n    * Light gray (#D3D3D3)\n    */\n   public static LightGray: Color = Color.fromHex('#D3D3D3');\n\n   /**\n    * Dark gray (#A9A9A9)\n    */\n   public static DarkGray: Color = Color.fromHex('#A9A9A9');\n\n   /**\n    * Yellow (#FFFF00)\n    */\n   public static Yellow: Color = Color.fromHex('#FFFF00');\n\n   /**\n    * Orange (#FFA500)\n    */\n   public static Orange: Color = Color.fromHex('#FFA500');\n\n   /**\n    * Red (#FF0000)\n    */\n   public static Red: Color = Color.fromHex('#FF0000');\n\n   /**\n    * Vermillion (#FF5B31)\n    */\n   public static Vermillion: Color = Color.fromHex('#FF5B31');\n\n   /**\n    * Rose (#FF007F)\n    */\n   public static Rose: Color = Color.fromHex('#FF007F');\n\n   /**\n    * Magenta (#FF00FF)\n    */\n   public static Magenta: Color = Color.fromHex('#FF00FF');\n\n   /**\n    * Violet (#7F00FF)\n    */\n   public static Violet: Color = Color.fromHex('#7F00FF');\n\n   /**\n    * Blue (#0000FF)\n    */\n   public static Blue: Color = Color.fromHex('#0000FF');\n\n   /**\n    * Azure (#007FFF)\n    */\n   public static Azure: Color = Color.fromHex('#007FFF');\n\n   /**\n    * Cyan (#00FFFF)\n    */\n   public static Cyan: Color = Color.fromHex('#00FFFF');\n\n   /**\n    * Viridian (#59978F)\n    */\n   public static Viridian: Color = Color.fromHex('#59978F');\n\n   /**\n    * Green (#00FF00)\n    */\n   public static Green: Color = Color.fromHex('#00FF00');\n\n   /**\n    * Chartreuse (#7FFF00)\n    */\n   public static Chartreuse: Color = Color.fromHex('#7FFF00');\n\n   /**\n    * Transparent (#FFFFFF00)\n    */\n   public static Transparent: Color = Color.fromHex('#FFFFFF00');\n\n   \n}\n\n/**\n * Internal HSL Color representation\n *\n * http://en.wikipedia.org/wiki/HSL_and_HSV\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\n */\nclass HSLColor {\n   constructor(public h: number, public s: number, public l: number, public a: number) { }\n\n   public static hue2rgb(p: number, q: number, t: number): number {\n      if (t < 0) { t += 1; }\n      if (t > 1) { t -= 1; }\n      if (t < 1 / 6) { return p + (q - p) * 6 * t; }\n      if (t < 1 / 2) { return q; }\n      if (t < 2 / 3) { return p + (q - p) * (2 / 3 - t) * 6; }\n      return p;\n   }\n\n   public static fromRGBA(r: number, g: number, b: number, a: number): HSLColor {\n      r /= 255;\n      g /= 255;\n      b /= 255;\n      var max = Math.max(r, g, b), min = Math.min(r, g, b);\n      var h, s, l = (max + min) / 2;\n\n      if (max === min) {\n         h = s = 0; // achromatic\n      } else {\n         var d = max - min;\n         s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n         switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n         }\n         h /= 6;\n      }\n\n      return new HSLColor(h, s, l, a);\n   }\n\n   public toRGBA(): Color {\n      var r: number, g: number, b: number;\n\n      if (this.s === 0) {\n         r = g = b = this.l; // achromatic\n      } else {\n         \n         var q = this.l < 0.5 ? this.l * (1 + this.s) : this.l + this.s - this.l * this.s;\n         var p = 2 * this.l - q;\n         r = HSLColor.hue2rgb(p, q, this.h + 1 / 3);\n         g = HSLColor.hue2rgb(p, q, this.h);\n         b = HSLColor.hue2rgb(p, q, this.h - 1 / 3);\n      }\n\n      return new Color(r * 255, g * 255, b * 255, this.a);\n   }\n\n   public toString(): string {\n      let h = this.h.toFixed(0),\n          s = this.s.toFixed(0),\n          l = this.l.toFixed(0),\n          a = this.a.toFixed(0);\n      return `hsla(${h}, ${s}, ${l}, ${a})`;\n   }\n}   ","import { Vector } from '../Algebra';\nimport { Actor } from '../Actor';\nimport { Engine } from '../Engine';\nimport { Color } from '../Drawing/Color';\n\nexport class CullingBox {\n   private _topLeft: Vector = new Vector(0, 0);\n   private _topRight: Vector = new Vector(0, 0);\n   private _bottomLeft: Vector = new Vector(0, 0);\n   private _bottomRight: Vector = new Vector(0, 0);\n\n   private _xCoords: Array<number>;\n   private _yCoords: Array<number>;\n   private _xMin: number;\n   private _yMin: number;\n   private _xMax: number;\n   private _yMax: number;\n\n   private _xMinWorld: number;\n   private _yMinWorld: number;\n   private _xMaxWorld: number;\n   private _yMaxWorld: number;\n\n   public isSpriteOffScreen(actor: Actor, engine: Engine): boolean {\n      var drawingWidth = actor.currentDrawing.drawWidth;\n      var drawingHeight = actor.currentDrawing.drawHeight;\n      var rotation = actor.rotation;\n      var anchor = actor.getCenter();\n      var worldPos = actor.getWorldPos();\n\n      this._topLeft.x = worldPos.x - (drawingWidth / 2);\n      this._topLeft.y = worldPos.y - (drawingHeight / 2);\n      this._topLeft = this._topLeft.rotate(rotation, anchor);\n\n      this._topRight.x = worldPos.x + (drawingWidth / 2);\n      this._topRight.y = worldPos.y - (drawingHeight / 2);\n      this._topRight = this._topRight.rotate(rotation, anchor);\n\n      this._bottomLeft.x = worldPos.x - (drawingWidth / 2);\n      this._bottomLeft.y = worldPos.y + (drawingHeight / 2);\n      this._bottomLeft = this._bottomLeft.rotate(rotation, anchor);\n\n      this._bottomRight.x = worldPos.x + (drawingWidth / 2);\n      this._bottomRight.y = worldPos.y + (drawingHeight / 2);\n      this._bottomRight = this._bottomRight.rotate(rotation, anchor);\n\n      ///\n\n      var topLeftScreen = engine.worldToScreenCoordinates(this._topLeft);\n      var topRightScreen = engine.worldToScreenCoordinates(this._topRight);\n      var bottomLeftScreen = engine.worldToScreenCoordinates(this._bottomLeft);\n      var bottomRightScreen = engine.worldToScreenCoordinates(this._bottomRight);\n      this._xCoords = [];\n      this._yCoords = [];\n\n      this._xCoords.push(topLeftScreen.x, topRightScreen.x, bottomLeftScreen.x, bottomRightScreen.x);\n      this._yCoords.push(topLeftScreen.y, topRightScreen.y, bottomLeftScreen.y, bottomRightScreen.y);\n\n      this._xMin = Math.min.apply(null, this._xCoords);\n      this._yMin = Math.min.apply(null, this._yCoords);\n      this._xMax = Math.max.apply(null, this._xCoords);\n      this._yMax = Math.max.apply(null, this._yCoords);\n\n      var minWorld = engine.screenToWorldCoordinates(new Vector(this._xMin, this._yMin));\n      var maxWorld = engine.screenToWorldCoordinates(new Vector(this._xMax, this._yMax));\n      this._xMinWorld = minWorld.x;\n      this._yMinWorld = minWorld.y;\n      this._xMaxWorld = maxWorld.x;\n      this._yMaxWorld = maxWorld.y;\n\n      var boundingPoints = [\n         new Vector(this._xMin, this._yMin), // topleft\n         new Vector(this._xMax, this._yMin), // topright\n         new Vector(this._xMin, this._yMax), // bottomleft\n         new Vector(this._xMax, this._yMax)]; // bottomright\n\n      // sprite can be wider than canvas screen (and still visible within canvas)\n      // top or bottom of sprite must be within canvas\n      if (boundingPoints[0].x < 0 && boundingPoints[1].x > engine.canvas.clientWidth &&\n         (boundingPoints[0].y > 0 || boundingPoints[2].y < engine.canvas.clientHeight)) {\n         return false;\n      }\n\n      // sprite can be taller than canvas screen (and still visible within canvas)\n      // left or right of sprite must be within canvas\n      if (boundingPoints[0].y < 0 && boundingPoints[2].y > engine.canvas.clientHeight &&\n         (boundingPoints[1].x > 0 || boundingPoints[0].x < engine.canvas.clientWidth)) {\n         return false;\n      }\n\n      // otherwise if any corner is visible, we're not offscreen\n      for (var i = 0; i < boundingPoints.length; i++) {\n         if (boundingPoints[i].x > 0 &&\n            boundingPoints[i].y > 0 &&\n            boundingPoints[i].x < engine.canvas.clientWidth &&\n            boundingPoints[i].y < engine.canvas.clientHeight) {\n            return false;\n         }\n      }\n\n      return true;\n   }\n\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n\n      // bounding rectangle\n      ctx.beginPath();\n      ctx.strokeStyle = Color.White.toString();\n      ctx.rect(this._xMinWorld, this._yMinWorld, this._xMaxWorld - this._xMinWorld, this._yMaxWorld - this._yMinWorld);\n      ctx.stroke();\n\n      ctx.fillStyle = Color.Red.toString();\n      ctx.beginPath();\n      ctx.arc(this._topLeft.x, this._topLeft.y, 5, 0, Math.PI * 2);\n      ctx.closePath();\n      ctx.fill();\n\n      ctx.fillStyle = Color.Green.toString();\n      ctx.beginPath();\n      ctx.arc(this._topRight.x, this._topRight.y, 5, 0, Math.PI * 2);\n      ctx.closePath();\n      ctx.fill();\n\n      ctx.fillStyle = Color.Blue.toString();\n      ctx.beginPath();\n      ctx.arc(this._bottomLeft.x, this._bottomLeft.y, 5, 0, Math.PI * 2);\n      ctx.closePath();\n      ctx.fill();\n\n      ctx.fillStyle = Color.Magenta.toString();\n      ctx.beginPath();\n      ctx.arc(this._bottomRight.x, this._bottomRight.y, 5, 0, Math.PI * 2);\n      ctx.closePath();\n      ctx.fill();\n   }\n}","import { CullingBox } from './../Util/CullingBox';\nimport { IActorTrait } from '../Interfaces/IActorTrait';\nimport { Actor } from '../Actor';\nimport { Engine } from '../Engine';\nimport { Vector } from '../Algebra';\nimport { ExitViewPortEvent, EnterViewPortEvent } from '../Events';\n\nexport class OffscreenCulling implements IActorTrait {\n\n   public cullingBox: CullingBox = new CullingBox();\n\n   public update(actor: Actor, engine: Engine) {\n      var eventDispatcher = actor.eventDispatcher;\n      var anchor = actor.anchor;\n      var globalScale = actor.getGlobalScale();\n      var width = globalScale.x * actor.getWidth() / actor.scale.x;\n      var height = globalScale.y * actor.getHeight() / actor.scale.y;\n      var worldPos = actor.getWorldPos();\n      var actorScreenCoords = engine.worldToScreenCoordinates(new Vector(worldPos.x - anchor.x * width, \n                                                                           worldPos.y - anchor.y * height));\n\n      var zoom = 1.0;\n      if (actor.scene && actor.scene.camera) {\n         zoom = Math.abs(actor.scene.camera.getZoom());   \n      }\n      \n      var isSpriteOffScreen = true;\n      if (actor.currentDrawing != null) {\n         isSpriteOffScreen = this.cullingBox.isSpriteOffScreen(actor, engine);\n      }\n      \n      if (!actor.isOffScreen) {\n         if ((actorScreenCoords.x + width * zoom < 0 || \n            actorScreenCoords.y + height * zoom < 0 ||\n            actorScreenCoords.x > engine.drawWidth ||\n            actorScreenCoords.y > engine.drawHeight) &&\n            isSpriteOffScreen ) {\n            \n            eventDispatcher.emit('exitviewport', new ExitViewPortEvent(actor));\n            actor.isOffScreen = true;\n         }\n      } else {\n         if ((actorScreenCoords.x + width * zoom > 0 &&\n            actorScreenCoords.y + height * zoom > 0 &&\n            actorScreenCoords.x < engine.drawWidth &&\n            actorScreenCoords.y < engine.drawHeight) ||\n            !isSpriteOffScreen) {\n            \n            eventDispatcher.emit('enterviewport', new EnterViewPortEvent(actor));               \n            actor.isOffScreen = false;\n         }\n      }\n   }\n}","import { IActorTrait } from '../Interfaces/IActorTrait';\nimport { Actor, CollisionType } from '../Actor';\nimport { Engine } from '../Engine';\nimport { Vector } from '../Algebra';\nimport { Side } from '../Collision/Side';\nimport { PreCollisionEvent, PostCollisionEvent } from '../Events';\n\nexport class TileMapCollisionDetection implements IActorTrait { \n   public update(actor: Actor, engine: Engine) {\n      var eventDispatcher = actor.eventDispatcher;\n      if (actor.collisionType !== CollisionType.PreventCollision && engine.currentScene && engine.currentScene.tileMaps) {            \n\n         for (var j = 0; j < engine.currentScene.tileMaps.length; j++) {\n            var map = engine.currentScene.tileMaps[j];\n            var intersectMap: Vector;\n            var side = Side.None;\n            var max = 2;\n            while (intersectMap = map.collides(actor)) {\n               if (max-- < 0) {\n                  break;\n               } \n               side = actor.getSideFromIntersect(intersectMap);\n               eventDispatcher.emit('precollision', new PreCollisionEvent(actor, null, side, intersectMap));\n               if (actor.collisionType === CollisionType.Active) {\n                  actor.pos.y += intersectMap.y;\n                  actor.pos.x += intersectMap.x;\n                  eventDispatcher.emit('postcollision', new PostCollisionEvent(actor, null, side, intersectMap));\n               }\n            }\n         }\n      }\n   }\n}","export * from './CapturePointer';\nexport * from './EulerMovement';\nexport * from './OffscreenCulling';\nexport * from './TileMapCollisionDetection';","import { Vector } from './Algebra';\nimport { Engine } from './Engine';\nimport { Actor, IActorArgs, CollisionType } from './Actor';\nimport * as Traits from './Traits/Index';\n\n\n/**\n * Helper [[Actor]] primitive for drawing UI's, optimized for UI drawing. Does\n * not participate in collisions. Drawn on top of all other actors.\n */\nexport class UIActor extends Actor {\n   protected _engine: Engine;\n\n   constructor();\n   constructor(xOrConfig?: number, y?: number, width?: number, height?: number)\n   constructor(config?: IActorArgs);\n   /**\n    * @param x       The starting x coordinate of the actor\n    * @param y       The starting y coordinate of the actor\n    * @param width   The starting width of the actor\n    * @param height  The starting height of the actor\n    */\n   constructor(xOrConfig?: number | IActorArgs, y?: number, width?: number, height?: number) {\n      if (typeof(xOrConfig !== 'object')) {\n         super(<number>xOrConfig, y, width, height);\n      } else {\n         super(<IActorArgs>xOrConfig);\n      }\n      this.traits = [];\n      this.traits.push(new Traits.CapturePointer());\n      this.anchor.setTo(0, 0);\n      this.collisionType = CollisionType.PreventCollision;\n      this.enableCapturePointer = true;\n   }\n\n   public _initialize(engine: Engine) {\n      this._engine = engine;\n      super._initialize(engine);\n   }\n\n   public contains(x: number, y: number, useWorld: boolean = true) {\n      if (useWorld) { return super.contains(x, y); }\n\n      var coords = this._engine.worldToScreenCoordinates(new Vector(x, y));\n      return super.contains(coords.x, coords.y);\n   }\n}","\n/**\n * Logging level that Excalibur will tag\n */\nexport enum LogLevel {\n   Debug,\n   Info,\n   Warn,\n   Error,\n   Fatal\n}\n\n/**\n * Static singleton that represents the logging facility for Excalibur.\n * Excalibur comes built-in with a [[ConsoleAppender]] and [[ScreenAppender]].\n * Derive from [[IAppender]] to create your own logging appenders.\n *\n * [[include:Logger.md]]\n */\nexport class Logger {\n   private static _instance: Logger = null;\n   private _appenders: IAppender[] = [];\n\n   constructor() {\n      if (Logger._instance) {\n         throw new Error('Logger is a singleton');\n      }\n      Logger._instance = this;\n      // Default console appender\n      Logger._instance.addAppender(new ConsoleAppender());\n      return Logger._instance;\n   }\n\n   /**\n    * Gets or sets the default logging level. Excalibur will only log \n    * messages if equal to or above this level. Default: [[LogLevel.Info]]\n    */\n   public defaultLevel: LogLevel = LogLevel.Info;\n\n   /**\n    * Gets the current static instance of Logger\n    */\n   public static getInstance(): Logger {\n      if (Logger._instance == null) {\n         Logger._instance = new Logger();\n      }\n      return Logger._instance;\n   }\n\n   /**\n    * Adds a new [[IAppender]] to the list of appenders to write to\n    */\n   public addAppender(appender: IAppender): void {\n      this._appenders.push(appender);\n   }\n\n   /**\n    * Clears all appenders from the logger\n    */\n   public clearAppenders(): void {\n      this._appenders.length = 0;\n   }\n\n   /**\n    * Logs a message at a given LogLevel\n    * @param level  The LogLevel`to log the message at\n    * @param args   An array of arguments to write to an appender\n    */\n   private _log(level: LogLevel, args: any[]): void {\n      if (level == null) {\n         level = this.defaultLevel;\n      }\n\n      var i = 0, len = this._appenders.length;\n\n      for (i; i < len; i++) {\n         if (level >= this.defaultLevel) {\n            this._appenders[i].log(level, args);\n         }\n      }\n   }\n\n   /**\n    * Writes a log message at the [[LogLevel.Debug]] level\n    * @param args  Accepts any number of arguments\n    */\n   public debug(...args: any[]): void {\n      this._log(LogLevel.Debug, args);\n   }\n\n   /**\n    * Writes a log message at the [[LogLevel.Info]] level\n    * @param args  Accepts any number of arguments\n    */\n   public info(...args: any[]): void {\n      this._log(LogLevel.Info, args);\n   }\n\n   /**\n    * Writes a log message at the [[LogLevel.Warn]] level\n    * @param args  Accepts any number of arguments\n    */\n   public warn(...args: any[]): void {\n      this._log(LogLevel.Warn, args);\n   }\n\n   /**\n    * Writes a log message at the [[LogLevel.Error]] level\n    * @param args  Accepts any number of arguments\n    */\n   public error(...args: any[]): void {\n      this._log(LogLevel.Error, args);\n   }\n\n   /**\n    * Writes a log message at the [[LogLevel.Fatal]] level\n    * @param args  Accepts any number of arguments\n    */\n   public fatal(...args: any[]): void {\n      this._log(LogLevel.Fatal, args);\n   }\n}\n\n/**\n * Contract for any log appender (such as console/screen)\n */\nexport interface IAppender {\n\n   /**\n    * Logs a message at the given [[LogLevel]]\n    * @param level  Level to log at\n    * @param args   Arguments to log\n    */\n   log(level: LogLevel, args: any[]): void;\n}\n\n/**\n * Console appender for browsers (i.e. `console.log`)\n */\nexport class ConsoleAppender implements IAppender {\n\n   /**\n    * Logs a message at the given [[LogLevel]]\n    * @param level  Level to log at\n    * @param args   Arguments to log\n    */\n   public log(level: LogLevel, args: any[]): void {\n      // Check for console support\n      if (!console && !console.log && console.warn && console.error) {\n         // todo maybe do something better than nothing\n         return;\n      }\n\n      // Create a new console args array\n      var consoleArgs: any[] = [];\n      consoleArgs.unshift.apply(consoleArgs, args);\n      consoleArgs.unshift('[' + LogLevel[level] + '] : ');\n\n      if (level < LogLevel.Warn) {\n\n         // Call .log for Debug/Info\n         if (console.log.apply) {\n            // this is required on some older browsers that don't support apply on console.log :(\n            console.log.apply(console, consoleArgs);\n         } else {\n            console.log(consoleArgs.join(' '));\n         }\n      } else if (level < LogLevel.Error) {\n\n         // Call .warn for Warn\n         if (console.warn.apply) {\n            console.warn.apply(console, consoleArgs);\n         } else {\n            console.warn(consoleArgs.join(' '));\n         }\n      } else {\n\n         // Call .error for Error/Fatal\n         if (console.error.apply) {\n            console.error.apply(console, consoleArgs);\n         } else {\n            console.error(consoleArgs.join(' '));\n         }\n      }\n   }\n}\n\n/**\n * On-screen (canvas) appender    \n */\nexport class ScreenAppender implements IAppender {\n   // @todo Clean this up\n\n   private _messages: string[] = [];\n   private _canvas: HTMLCanvasElement;\n   private _ctx: CanvasRenderingContext2D;\n\n   /**\n    * @param width   Width of the screen appender in pixels\n    * @param height  Height of the screen appender in pixels\n    */\n   constructor(width?: number, height?: number) {\n      this._canvas = <HTMLCanvasElement>document.createElement('canvas');\n      this._canvas.width = width || window.innerWidth;\n      this._canvas.height = height || window.innerHeight;\n      this._canvas.style.position = 'absolute';\n      this._ctx = <CanvasRenderingContext2D>this._canvas.getContext('2d');\n      document.body.appendChild(this._canvas);\n   }\n\n   /**\n    * Logs a message at the given [[LogLevel]]\n    * @param level  Level to log at\n    * @param args   Arguments to log\n    */\n   public log(level: LogLevel, args: any[]): void {\n      var message = args.join(',');\n\n      this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n\n      this._messages.unshift('[' + LogLevel[level] + '] : ' + message);\n\n      var pos = 10;\n      var opacity = 1.0;\n      for (var i = 0; i < this._messages.length; i++) {\n         this._ctx.fillStyle = 'rgba(255,255,255,' + opacity.toFixed(2) + ')';\n         this._ctx.fillText(this._messages[i], 200, pos);\n         pos += 10;\n         opacity = opacity > 0 ? opacity - .05 : 0;\n      }\n   }\n}","import { Scene } from './Scene';\n\n/**\n * The Excalibur timer hooks into the internal timer and fires callbacks, \n * after a certain interval, optionally repeating.\n */\nexport class Timer {\n   public static id: number = 0;\n   public id: number = 0;\n   public interval: number = 10;\n   public fcn: () => void = () => { return; };\n   public repeats: boolean = false;\n   private _elapsedTime: number = 0;\n   private _totalTimeAlive: number = 0;\n   private _paused: boolean = false;\n   public complete: boolean = false;\n   public scene: Scene = null;\n\n   /**\n    * @param fcn        The callback to be fired after the interval is complete.\n    * @param interval   Interval length\n    * @param repeats    Indicates whether this call back should be fired only once, or repeat after every interval as completed.    \n    */\n   constructor(fcn: () => void, interval: number, repeats?: boolean) {\n      this.id = Timer.id++;\n      this.interval = interval || this.interval;\n      this.fcn = fcn || this.fcn;\n      this.repeats = repeats || this.repeats;\n   }\n\n   /**\n    * Updates the timer after a certain number of milliseconds have elapsed. This is used internally by the engine.\n    * @param delta  Number of elapsed milliseconds since the last update.\n    */\n   public update(delta: number) {\n      if (!this._paused) {   \n         this._totalTimeAlive += delta;\n         this._elapsedTime += delta;\n         if (!this.complete && this._elapsedTime >= this.interval) {\n            this.fcn.call(this);\n            if (this.repeats) {\n               this._elapsedTime = 0;\n            } else {\n               this.complete = true;\n            }\n         }\n      }\n   }\n\n   /**\n    * Resets the timer so that it can be reused, and optionally reconfigure the timers interval.\n    * @param newInterval If specified, sets a new non-negative interval in milliseconds to refire the callback\n    */\n   public reset(newInterval?: number) {\n      if (!!newInterval && newInterval >= 0) {\n         this.interval = newInterval;\n      }\n      this.complete = false;\n      this._elapsedTime = 0;\n      \n   }\n\n   public getTimeRunning(): number {\n      return this._totalTimeAlive;\n   }\n\n   /**\n    * Pauses the timer so that no more time will be incremented towards the next call\n    */\n   public pause() {\n      this._paused = true;\n   }\n\n   /**\n    * Unpauses the timer. Time will now increment towards the next call\n    */\n   public unpause() {\n      this._paused = false;\n   }\n\n   /**\n    * Cancels the timer, preventing any further executions.\n    */\n   public cancel() {\n      if (this.scene) {\n         this.scene.cancelTimer(this);\n      }\n   }\n}","import { ICollisionArea } from './ICollisionArea';\nimport { Body } from './Body';\n\nimport { Actor, CollisionType } from '../Actor';\nimport { Vector } from '../Algebra';\nimport { Physics, CollisionResolutionStrategy } from '../Physics';\nimport { PostCollisionEvent, PreCollisionEvent } from '../Events';\nimport * as Util from '../Util/Util';\n\n/**\n * Collision contacts are used internally by Excalibur to resolve collision between actors. This\n * Pair prevents collisions from being evaluated more than one time\n */\nexport class CollisionContact {\n   /**\n    * The id of this collision contact\n    */\n   id: string;\n   /**\n    * The first rigid body in the collision\n    */\n   bodyA: ICollisionArea;\n   /**\n    * The second rigid body in the collision\n    */\n   bodyB: ICollisionArea;\n   /**\n    * The minimum translation vector to resolve penetration, pointing away from bodyA\n    */\n   mtv: Vector;\n   /**\n    * The point of collision shared between bodyA and bodyB\n    */\n   point: Vector;\n   /**\n    * The collision normal, pointing away from bodyA\n    */\n   normal: Vector;\n\n\n   constructor(bodyA: ICollisionArea, bodyB: ICollisionArea, mtv: Vector, point: Vector, normal: Vector) {\n      this.bodyA = bodyA;\n      this.bodyB = bodyB;\n      this.mtv = mtv;\n      this.point = point;\n      this.normal = normal;\n   }\n\n   resolve(strategy: CollisionResolutionStrategy) {\n      if (strategy === CollisionResolutionStrategy.RigidBody) {\n         this._resolveRigidBodyCollision();\n      } else if (strategy === CollisionResolutionStrategy.Box) {\n         this._resolveBoxCollision();\n      } else {\n         throw new Error('Unknown collision resolution strategy');\n      }\n   }\n\n   private _applyBoxImpulse(bodyA: Actor, bodyB: Actor, mtv: Vector) {\n      if (bodyA.collisionType === CollisionType.Active &&\n         bodyB.collisionType !== CollisionType.Passive) {\n\n         // Resolve overlaps\n         if (bodyA.collisionType === CollisionType.Active &&\n            bodyB.collisionType === CollisionType.Active) {\n            // split overlaps if both are Active\n            mtv = mtv.scale(.5);\n         }\n         // Apply mtv\n         bodyA.pos.y += mtv.y;\n         bodyA.pos.x += mtv.x;\n\n         // non-zero intersection on the y axis\n         if (this.mtv.x !== 0) {\n            var velX = 0;\n            // both bodies are traveling in the same direction (negative or positive)\n            if (bodyA.vel.x < 0 && bodyB.vel.x < 0) {\n               velX = Math.min(bodyA.vel.x, bodyB.vel.x);\n            } else if (bodyA.vel.x > 0 && bodyB.vel.x > 0) {\n               velX = Math.max(bodyA.vel.x, bodyB.vel.x);\n            } else if (bodyB.collisionType === CollisionType.Fixed) {\n               // bodies are traveling in opposite directions\n               if (bodyA.pos.sub(bodyB.pos).dot(bodyA.vel) > 0) {\n                  velX = bodyA.vel.x;\n               } else {\n                  // bodyA is heading towards b\n                  velX = bodyB.vel.x;\n               }\n            }\n            bodyA.vel.x = velX;\n         }\n\n         if (this.mtv.y !== 0) {\n            var velY = 0;\n\n            // both bodies are traveling in the same direction (negative or positive)\n            if (bodyA.vel.y < 0 && bodyB.vel.y < 0) {\n               velY = Math.min(bodyA.vel.y, bodyB.vel.y);\n            } else if (bodyA.vel.y > 0 && bodyB.vel.y > 0) {\n               velY = Math.max(bodyA.vel.y, bodyB.vel.y);\n            } else if (bodyB.collisionType === CollisionType.Fixed) {\n               // bodies are traveling in opposite directions\n               if (bodyA.pos.sub(bodyB.pos).dot(bodyA.vel) > 0) {\n                  velY = bodyA.vel.y;\n               } else {\n                  // bodyA is heading towards b\n                  velY = bodyB.vel.y;\n               }\n            }\n\n            bodyA.vel.y = velY;\n         }\n\n         bodyA.emit('postcollision', new PostCollisionEvent(bodyA, bodyB, Util.getSideFromVector(mtv), mtv));\n      }\n   }\n\n   private _resolveBoxCollision() {\n      var bodyA = this.bodyA.body.actor;\n      var bodyB = this.bodyB.body.actor;\n      var side = Util.getSideFromVector(this.mtv);\n      var mtv = this.mtv.negate();\n      // Publish collision events on both participants\n      bodyA.emit('precollision', new PreCollisionEvent(bodyA, bodyB, side, mtv));\n      bodyB.emit('precollision', \n         new PreCollisionEvent(bodyB, bodyA, Util.getOppositeSide(side), mtv.negate()));\n\n      this._applyBoxImpulse(bodyA, bodyB, mtv);\n      this._applyBoxImpulse(bodyB, bodyA, mtv.negate());\n   }\n\n   private _resolveRigidBodyCollision() {\n      // perform collison on bounding areas\n      var bodyA: Body = this.bodyA.body;\n      var bodyB: Body = this.bodyB.body;\n      var mtv = this.mtv; // normal pointing away from bodyA\n      var normal = this.normal; // normal pointing away from bodyA\n      if (bodyA.actor === bodyB.actor) { // sanity check for existing pairs\n         return;\n      }\n\n      // Publish collision events on both participants\n      var side = Util.getSideFromVector(this.mtv);\n      bodyA.actor.emit('precollision', new PreCollisionEvent(this.bodyA.body.actor,\n         this.bodyB.body.actor,\n         side,\n         this.mtv));\n      bodyB.actor.emit('precollision', new PreCollisionEvent(this.bodyB.body.actor,\n         this.bodyA.body.actor,\n         Util.getOppositeSide(side),\n         this.mtv.negate()));\n\n\n      // If any of the participants are passive then short circuit\n      if (bodyA.actor.collisionType === CollisionType.Passive ||\n          bodyB.actor.collisionType === CollisionType.Passive) {\n             return;\n      }\n      \n      var invMassA = bodyA.actor.collisionType === CollisionType.Fixed ? 0 : 1 / bodyA.mass;\n      var invMassB = bodyB.actor.collisionType === CollisionType.Fixed ? 0 : 1 / bodyB.mass;\n\n      var invMoiA = bodyA.actor.collisionType === CollisionType.Fixed ? 0 : 1 / bodyA.moi;\n      var invMoiB = bodyB.actor.collisionType === CollisionType.Fixed ? 0 : 1 / bodyB.moi;\n\n      // average restitution more relistic\n      var coefRestitution = Math.min(bodyA.restitution, bodyB.restitution);\n\n      var coefFriction = Math.min(bodyA.friction, bodyB.friction);\n\n      normal = normal.normalize();\n      var tangent = normal.normal().normalize();\n\n      var ra = this.point.sub(this.bodyA.getCenter()); // point relative to bodyA position\n      var rb = this.point.sub(this.bodyB.getCenter()); /// point relative to bodyB\n\n      // Relative velocity in linear terms\n      // Angular to linear velocity formula -> omega = v/r\n      var rv = bodyB.vel.add(rb.cross(-bodyB.rx)).sub(bodyA.vel.sub(ra.cross(bodyA.rx)));\n      var rvNormal = rv.dot(normal);\n      var rvTangent = rv.dot(tangent);\n\n      var raTangent = ra.dot(tangent);\n      var raNormal = ra.dot(normal);\n\n      var rbTangent = rb.dot(tangent);\n      var rbNormal = rb.dot(normal);\n\n\n      // If objects are moving away ignore\n      if (rvNormal > 0) {\n         return;\n      }\n\n      // Collision impulse formula from Chris Hecker\n      // https://en.wikipedia.org/wiki/Collision_response\n      var impulse = - ((1 + coefRestitution) * rvNormal) /\n         ((invMassA + invMassB) + invMoiA * raTangent * raTangent + invMoiB * rbTangent * rbTangent);\n\n\n      if (bodyA.actor.collisionType === CollisionType.Fixed) {\n         bodyB.vel = bodyB.vel.add(normal.scale(impulse * invMassB));\n         if (Physics.allowRigidBodyRotation) {\n            bodyB.rx -= impulse * invMoiB * -rb.cross(normal);\n         }\n         bodyB.addMtv(mtv);\n      } else if (bodyB.actor.collisionType === CollisionType.Fixed) {\n         bodyA.vel = bodyA.vel.sub(normal.scale(impulse * invMassA));\n         if (Physics.allowRigidBodyRotation) {\n            bodyA.rx += impulse * invMoiA * -ra.cross(normal);\n         }\n         bodyA.addMtv(mtv.negate());\n      } else {\n         bodyB.vel = bodyB.vel.add(normal.scale(impulse * invMassB));\n         bodyA.vel = bodyA.vel.sub(normal.scale(impulse * invMassA));\n\n         if (Physics.allowRigidBodyRotation) {\n            bodyB.rx -= impulse * invMoiB * -rb.cross(normal);\n            bodyA.rx += impulse * invMoiA * -ra.cross(normal);\n         }\n\n\n         // Split the mtv in half for the two bodies, potentially we could do something smarter here\n         bodyB.addMtv(mtv.scale(.5));\n         bodyA.addMtv(mtv.scale(-.5));\n      }\n\n      // Friction portion of impulse\n      if (coefFriction && rvTangent) {\n         // Columb model of friction, formula for impulse due to friction from  \n         // https://en.wikipedia.org/wiki/Collision_response\n\n         // tangent force exerted by body on another in contact\n         var t = rv.sub(normal.scale(rv.dot(normal))).normalize();\n\n         // impulse in the direction of tangent force\n         var jt = rv.dot(t) / (invMassA + invMassB + raNormal * raNormal * invMoiA + rbNormal * rbNormal * invMoiB);\n\n         var frictionImpulse = new Vector(0, 0);\n         if (Math.abs(jt) <= impulse * coefFriction) {\n            frictionImpulse = t.scale(jt).negate();\n         } else {\n            frictionImpulse = t.scale(-impulse * coefFriction);\n         }\n\n         if (bodyA.actor.collisionType === CollisionType.Fixed) {\n            // apply frictional impulse\n            bodyB.vel = bodyB.vel.add(frictionImpulse.scale(invMassB));\n            if (Physics.allowRigidBodyRotation) {\n               bodyB.rx += frictionImpulse.dot(t) * invMoiB * rb.cross(t);\n            }\n         } else if (bodyB.actor.collisionType === CollisionType.Fixed) {\n            // apply frictional impulse\n            bodyA.vel = bodyA.vel.sub(frictionImpulse.scale(invMassA));\n            if (Physics.allowRigidBodyRotation) {\n               bodyA.rx -= frictionImpulse.dot(t) * invMoiA * ra.cross(t);\n            }\n         } else {\n            // apply frictional impulse\n            bodyB.vel = bodyB.vel.add(frictionImpulse.scale(invMassB));\n            bodyA.vel = bodyA.vel.sub(frictionImpulse.scale(invMassA));\n\n            // apply frictional impulse\n            if (Physics.allowRigidBodyRotation) {\n               bodyB.rx += frictionImpulse.dot(t) * invMoiB * rb.cross(t);\n               bodyA.rx -= frictionImpulse.dot(t) * invMoiA * ra.cross(t);\n            }\n         }\n      }\n\n      bodyA.actor.emit('postcollision', new PostCollisionEvent(this.bodyA.body.actor,\n         this.bodyB.body.actor,\n         side,\n         this.mtv));\n      bodyB.actor.emit('postcollision', new PostCollisionEvent(this.bodyB.body.actor,\n         this.bodyA.body.actor,\n         Util.getOppositeSide(side),\n         this.mtv.negate()));\n   }\n}","import { Body } from './Body';\nimport { BoundingBox } from './BoundingBox';\nimport { ICollisionArea } from './ICollisionArea';\nimport { PolygonArea } from './PolygonArea';\nimport { EdgeArea } from './EdgeArea'; \nimport { CollisionJumpTable } from './CollisionJumpTable';\nimport { CollisionContact } from './CollisionContact';\n\nimport { Vector, Ray, Projection } from '../Algebra';\nimport { Physics } from '../Physics';\nimport { Color } from '../Drawing/Color';\n\nexport interface ICircleAreaOptions {\n   pos?: Vector;\n   radius?: number;\n   body?: Body;\n}\n\n/**\n * This is a circle collision area for the excalibur rigid body physics simulation\n */\nexport class CircleArea implements ICollisionArea {\n   /**\n    * This is the center position of the circle, relative to the body position\n    */\n   public pos: Vector = Vector.Zero.clone();\n   /**\n    * This is the radius of the circle\n    */\n   public radius: number;\n   /**\n    * The actor associated with this collision area\n    */\n   public body: Body;\n\n   constructor(options: ICircleAreaOptions) {\n      this.pos = options.pos || Vector.Zero.clone();\n      this.radius = options.radius || 0;\n      this.body = options.body || null;\n   }\n\n   /**\n    * Get the center of the collision area in world coordinates\n    */\n   public getCenter(): Vector {\n      if (this.body) {\n         return this.pos.add(this.body.pos);\n      }\n      return this.pos;\n   }\n\n   /**\n    * Tests if a point is contained in this collision area\n    */\n   public contains(point: Vector): boolean {\n      var distance = this.body.pos.distance(point);\n      if (distance <= this.radius) {\n         return true;\n      }\n      return false;\n   }\n\n   /**\n    * Casts a ray at the CircleArea and returns the nearest point of collision\n    * @param ray \n    */\n   public rayCast(ray: Ray, max: number = Infinity): Vector {\n      //https://en.wikipedia.org/wiki/Line%E2%80%93sphere_intersection\n      var c = this.getCenter();\n      var dir = ray.dir;\n      var orig = ray.pos;\n\n      var discriminant = Math.sqrt(Math.pow(dir.dot(orig.sub(c)), 2) -\n         Math.pow(orig.sub(c).distance(), 2) +\n         Math.pow(this.radius, 2));\n\n      if (discriminant < 0) {\n         // no intersection\n         return null;\n      } else {\n         var toi = 0;\n         if (discriminant === 0) {\n            toi = -dir.dot(orig.sub(c));\n            if (toi > 0 && toi < max) {\n               return ray.getPoint(toi);\n            }\n            return null;\n         } else {\n            var toi1 = -dir.dot(orig.sub(c)) + discriminant;\n            var toi2 = -dir.dot(orig.sub(c)) - discriminant;\n\n            var mintoi = Math.min(toi1, toi2);\n            if (mintoi <= max) {\n               return ray.getPoint(mintoi);\n            }\n            return null;\n         }\n      }\n   }\n\n   /**\n    * @inheritdoc\n    */\n   public collide(area: ICollisionArea): CollisionContact {\n      if (area instanceof CircleArea) {\n         return CollisionJumpTable.CollideCircleCircle(this, area);\n      } else if (area instanceof PolygonArea) {\n         return CollisionJumpTable.CollideCirclePolygon(this, area);\n      } else if (area instanceof EdgeArea) {\n         return CollisionJumpTable.CollideCircleEdge(this, area);\n      } else {\n         throw new Error(`Circle could not collide with unknown ICollisionArea ${typeof area}`);\n      }\n   }\n\n\n   /**\n    * Find the point on the shape furthest in the direction specified\n    */\n   public getFurthestPoint(direction: Vector): Vector {\n      return this.getCenter().add(direction.normalize().scale(this.radius));\n   }\n\n   /**\n    * Get the axis aligned bounding box for the circle area\n    */\n   public getBounds(): BoundingBox {\n      return new BoundingBox(this.pos.x + this.body.pos.x - this.radius,\n         this.pos.y + this.body.pos.y - this.radius,\n         this.pos.x + this.body.pos.x + this.radius,\n         this.pos.y + this.body.pos.y + this.radius);\n   }\n\n   /**\n    * Get axis not implemented on circles, since there are infinite axis in a circle\n    */\n   public getAxes(): Vector[] {\n      return null;\n   }\n\n   /**\n    * Returns the moment of inertia of a circle given it's mass\n    * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n    */\n   public getMomentOfInertia(): number {\n      var mass = this.body ? this.body.mass : Physics.defaultMass;\n      return (mass * this.radius * this.radius) / 2;\n   }\n\n   /**\n    * Tests the separating axis theorem for circles against polygons\n    */\n   public testSeparatingAxisTheorem(polygon: PolygonArea): Vector {\n\n      var axes = polygon.getAxes();\n      var pc = polygon.getCenter();\n      // Special SAT with circles\n      var closestPointOnPoly = polygon.getFurthestPoint(this.pos.sub(pc));\n      axes.push(this.pos.sub(closestPointOnPoly).normalize());\n\n      var minOverlap = Number.MAX_VALUE;\n      var minAxis = null;\n      var minIndex = -1;\n      for (var i = 0; i < axes.length; i++) {\n         var proj1 = polygon.project(axes[i]);\n         var proj2 = this.project(axes[i]);\n         var overlap = proj1.getOverlap(proj2);\n         if (overlap <= 0) {\n            return null;\n         } else {\n            if (overlap < minOverlap) {\n               minOverlap = overlap;\n               minAxis = axes[i];\n               minIndex = i;\n            }\n         }\n      }\n      if (minIndex < 0) {\n         return null;\n      }\n      return minAxis.normalize().scale(minOverlap);\n   }\n\n   /* istanbul ignore next */\n   public recalc(): void {\n      // circles don't cache\n   }\n\n   /**\n    * Project the circle along a specified axis\n    */\n   public project(axis: Vector): Projection {\n      var scalars = [];\n      var point = this.getCenter();\n      var dotProduct = point.dot(axis);\n      scalars.push(dotProduct);\n      scalars.push(dotProduct + this.radius);\n      scalars.push(dotProduct - this.radius);\n      return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n   }\n\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D, color: Color = Color.Green.clone()) {\n      var pos = this.body ? this.body.pos.add(this.pos) : this.pos;\n      var rotation = this.body ? this.body.rotation : 0;\n\n      ctx.beginPath();\n      ctx.strokeStyle = color.toString();\n      ctx.arc(pos.x, pos.y, this.radius, 0, Math.PI * 2);\n      ctx.closePath();\n      ctx.stroke();\n      ctx.beginPath();\n      ctx.moveTo(pos.x, pos.y);\n      ctx.lineTo(Math.cos(rotation) * this.radius + pos.x, Math.sin(rotation) * this.radius + pos.y);\n      ctx.closePath();\n      ctx.stroke();\n   }\n}","import { CircleArea } from './CircleArea';\nimport { CollisionContact } from './CollisionContact';\nimport { PolygonArea } from './PolygonArea';\nimport { EdgeArea } from './EdgeArea';\n\nimport { Vector } from '../Algebra';\n\nexport var CollisionJumpTable = {\n\n   CollideCircleCircle(circleA: CircleArea, circleB: CircleArea): CollisionContact {\n\n      var radius = circleA.radius + circleB.radius;\n      var circleAPos = circleA.body.pos.add(circleA.pos);\n      var circleBPos = circleB.body.pos.add(circleB.pos);\n      if (circleAPos.distance(circleBPos) > radius) {\n         return null;\n      }\n\n      var axisOfCollision = circleBPos.sub(circleAPos).normalize();\n      var mvt = axisOfCollision.scale(radius - circleBPos.distance(circleAPos));\n\n      var pointOfCollision = circleA.getFurthestPoint(axisOfCollision);\n\n      return new CollisionContact(circleA, circleB, mvt, pointOfCollision, axisOfCollision);\n   },\n\n   CollideCirclePolygon(circle: CircleArea, polygon: PolygonArea): CollisionContact {\n\n      var minAxis = circle.testSeparatingAxisTheorem(polygon);\n      if (!minAxis) {\n         return null;\n      }\n\n      // make sure that the minAxis is pointing away from circle\n      var samedir = minAxis.dot(polygon.getCenter().sub(circle.getCenter()));\n      minAxis = samedir < 0 ? minAxis.negate() : minAxis;\n\n      var verts: Vector[] = [];\n\n      var point1 = polygon.getFurthestPoint(minAxis.negate());\n      var point2 = circle.getFurthestPoint(minAxis); //.add(cc);\n      if (circle.contains(point1)) {\n         verts.push(point1);\n      }\n      if (polygon.contains(point2)) {\n         verts.push(point2);\n      }\n      if (verts.length === 0) {\n         return null;\n      }\n\n      return new CollisionContact(circle, polygon, minAxis,\n         verts.length === 2 ? verts[0].average(verts[1]) : verts[0], minAxis.normalize());\n   },\n\n   CollideCircleEdge(circle: CircleArea, edge: EdgeArea): CollisionContact {\n      // center of the circle\n      var cc = circle.getCenter();\n      // vector in the direction of the edge\n      var e = edge.end.sub(edge.begin);\n\n      // amount of overlap with the circle's center along the edge direction\n      var u = e.dot(edge.end.sub(cc));\n      var v = e.dot(cc.sub(edge.begin));\n\n      // Potential region A collision (circle is on the left side of the edge, before the beginning)\n      if (v <= 0) {\n         var da = edge.begin.sub(cc);\n         var dda = da.dot(da); // quick and dirty way of calc'n distance in r^2 terms saves some sqrts\n         // save some sqrts\n         if (dda > circle.radius * circle.radius) {\n            return null; // no collision\n         }\n         return new CollisionContact(circle, edge, da.normalize().scale(circle.radius - Math.sqrt(dda)), edge.begin, da.normalize());\n      }\n\n      // Potential region B collision (circle is on the right side of the edge, after the end)\n      if (u <= 0) {\n         var db = edge.end.sub(cc);\n         var ddb = db.dot(db);\n         if (ddb > circle.radius * circle.radius) {\n            return null;\n         }\n         return new CollisionContact(circle, edge, db.normalize().scale(circle.radius - Math.sqrt(ddb)), edge.end, db.normalize());\n      }\n\n      // Otherwise potential region AB collision (circle is in the middle of the edge between the beginning and end)\n      var den = e.dot(e);\n      var pointOnEdge = (edge.begin.scale(u).add(edge.end.scale(v))).scale(1 / den);\n      var d = cc.sub(pointOnEdge);\n\n      var dd = d.dot(d);\n      if (dd > circle.radius * circle.radius) {\n         return null; // no collision\n      }\n\n      var n = e.perpendicular();\n      // flip correct direction\n      if (n.dot(cc.sub(edge.begin)) < 0) {\n         n.x = -n.x;\n         n.y = -n.y;\n      }\n\n      n = n.normalize();\n\n      var mvt = n.scale(Math.abs(circle.radius - Math.sqrt(dd)));\n      return new CollisionContact(circle, edge, mvt.negate(), pointOnEdge, n.negate());\n\n   },\n\n   CollideEdgeEdge(): CollisionContact {\n      // Edge-edge collision doesn't make sense\n      return null;\n   },\n\n   CollidePolygonEdge(polygon: PolygonArea, edge: EdgeArea): CollisionContact {\n      // 3 cases:\n      // (1) Polygon lands on the full face\n      // (2) Polygon lands on the right point\n      // (3) Polygon lands on the left point\n\n      let e = edge.end.sub(edge.begin);\n      let edgeNormal = e.normal();\n      \n\n      if (polygon.contains(edge.begin)) {\n         let {distance: mtv, face} = polygon.getClosestFace(edge.begin);\n         if (mtv) {\n            return new CollisionContact(polygon, edge, \n                                        mtv.negate(), \n                                        edge.begin.add(mtv.negate()), \n                                        face.normal().negate());\n         }\n      }\n      \n      if (polygon.contains(edge.end)) {\n         let {distance: mtv, face} = polygon.getClosestFace(edge.end);\n         if (mtv) {\n            return new CollisionContact(polygon, edge, \n                                        mtv.negate(), \n                                        edge.end.add(mtv.negate()), \n                                        face.normal().negate());\n         }\n      }\n\n      let pc = polygon.getCenter();\n      let ec = edge.getCenter();\n      let dir =  ec.sub(pc).normalize();\n    \n\n      // build a temporary polygon from the edge to use SAT\n      var linePoly = new PolygonArea({\n         points: [\n            edge.begin,\n            edge.end,\n            edge.end.add(dir.scale(30)),\n            edge.begin.add(dir.scale(30))]\n      });\n\n      var minAxis = polygon.testSeparatingAxisTheorem(linePoly);\n\n      // no minAxis, no overlap, no collision\n      if (!minAxis) {\n         return null;\n      }\n\n      // flip the normal and axis to always have positive collisions\n      edgeNormal = edgeNormal.dot(dir) < 0 ? edgeNormal.negate() : edgeNormal;\n      minAxis = minAxis.dot(dir) < 0 ? minAxis.negate() : minAxis;\n\n      \n\n      return new CollisionContact(polygon, edge, minAxis, polygon.getFurthestPoint(edgeNormal), edgeNormal);\n   },\n\n   CollidePolygonPolygon(polyA: PolygonArea, polyB: PolygonArea): CollisionContact {      \n      // do a SAT test to find a min axis if it exists\n      var minAxis = polyA.testSeparatingAxisTheorem(polyB);\n\n      // no overlap, no collision return null\n      if (!minAxis) {\n         return null;\n      }\n\n      // make sure that minAxis is pointing from A -> B\n      var sameDir = minAxis.dot(polyB.getCenter().sub(polyA.getCenter()));\n      minAxis = sameDir < 0 ? minAxis.negate() : minAxis;\n\n      // find rough point of collision\n      // todo this could be better\n      var verts: Vector[] = [];\n      var pointA = polyA.getFurthestPoint(minAxis);\n      var pointB = polyB.getFurthestPoint(minAxis.negate());\n\n      if (polyB.contains(pointA)) {\n         verts.push(pointA);\n      }\n\n      if (polyA.contains(pointB)) {\n         verts.push(pointB);\n      }\n      // no candidates, pick something\n      if (verts.length === 0) {\n         verts.push(pointB);\n      }\n\n      var contact = verts.length === 2 ? verts[0].add(verts[1]).scale(.5) : verts[0];\n\n      return new CollisionContact(polyA, polyB, minAxis, contact, minAxis.normalize());\n   }\n};","import { Color } from './../Drawing/Color';\nimport { Physics } from './../Physics';\nimport { BoundingBox } from './BoundingBox';\nimport { EdgeArea } from './EdgeArea';\nimport { CollisionJumpTable } from './CollisionJumpTable';\nimport { CircleArea } from './CircleArea';\nimport { CollisionContact } from './CollisionContact';\nimport { ICollisionArea } from './ICollisionArea';\nimport { Body } from './Body';\nimport { Vector, Line, Ray, Projection } from './../Algebra';\n\nexport interface IPolygonAreaOptions {\n   pos?: Vector;\n   points?: Vector[];\n   clockwiseWinding?: boolean;\n   body?: Body;\n}\n\n/**\n * Polygon collision area for detecting collisions for actors, or independently\n */\nexport class PolygonArea implements ICollisionArea {\n   public pos: Vector;\n   public points: Vector[];\n   public body: Body;\n\n   private _transformedPoints: Vector[] = [];\n   private _axes: Vector[] = [];\n   private _sides: Line[] = [];\n\n   constructor(options: IPolygonAreaOptions) {\n      this.pos = options.pos || Vector.Zero.clone();\n      var winding = !!options.clockwiseWinding;\n      this.points = (winding ? options.points.reverse() : options.points) || [];\n      this.body = options.body || null;\n\n      // calculate initial transformation\n      this._calculateTransformation();\n   }\n\n   /**\n    * Get the center of the collision area in world coordinates\n    */\n   public getCenter(): Vector {\n      if (this.body) {\n         return this.body.pos.add(this.pos);\n      }\n      return this.pos;\n   }\n\n   /**\n    * Calculates the underlying transformation from the body relative space to world space\n    */\n   private _calculateTransformation() {\n      var pos = this.body ? this.body.pos.add(this.pos) : this.pos;\n      var angle = this.body ? this.body.rotation : 0;\n\n      var len = this.points.length;\n      this._transformedPoints.length = 0; // clear out old transform\n      for (var i = 0; i < len; i++) {\n         this._transformedPoints[i] = this.points[i].rotate(angle).add(pos);\n      }\n   }\n\n   /**\n    * Gets the points that make up the polygon in world space, from actor relative space (if specified)\n    */\n   public getTransformedPoints(): Vector[] {\n      if (!this._transformedPoints.length) { this._calculateTransformation(); };\n      return this._transformedPoints;\n   }\n\n   /**\n    * Gets the sides of the polygon in world space\n    */\n   public getSides(): Line[] {\n      if (this._sides.length) {\n         return this._sides;\n      }\n      var lines = [];\n      var points = this.getTransformedPoints();\n      var len = points.length;\n      for (var i = 0; i < len; i++) {\n         lines.push(new Line(points[i], points[(i - 1 + len) % len]));\n      }\n      this._sides = lines;\n      return this._sides;\n   }\n\n   public recalc(): void {\n      this._sides.length = 0;\n      this._axes.length = 0;\n      this._transformedPoints.length = 0;\n      this.getTransformedPoints();\n      this.getAxes();\n      this.getSides();\n   }\n\n   /**\n    * Tests if a point is contained in this collision area in world space\n    */\n   public contains(point: Vector): boolean {\n      // Always cast to the right, as long as we cast in a consitent fixed direction we\n      // will be fine\n      var testRay = new Ray(point, new Vector(1, 0));\n      var intersectCount = this.getSides().reduce(function (accum, side) {\n         if (testRay.intersect(side) >= 0) {\n            return accum + 1;\n         }\n         return accum;\n      }, 0);\n\n\n      if (intersectCount % 2 === 0) {\n         return false;\n      }\n      return true;\n   }\n\n   /**\n    * Returns a collision contact if the 2 collision areas collide, otherwise collide will\n    * return null.\n    * @param area\n    */\n   public collide(area: ICollisionArea): CollisionContact {\n      if (area instanceof CircleArea) {\n         return CollisionJumpTable.CollideCirclePolygon(area, this);\n      } else if (area instanceof PolygonArea) {\n         return CollisionJumpTable.CollidePolygonPolygon(this, area);\n      } else if (area instanceof EdgeArea) {\n         return CollisionJumpTable.CollidePolygonEdge(this, area);\n      } else {\n         throw new Error(`Polygon could not collide with unknown ICollisionArea ${typeof area}`);\n      }\n   }\n\n   /**\n    * Find the point on the shape furthest in the direction specified\n    */\n   public getFurthestPoint(direction: Vector): Vector {\n      var pts = this.getTransformedPoints();\n      var furthestPoint = null;\n      var maxDistance = -Number.MAX_VALUE;\n      for (var i = 0; i < pts.length; i++) {\n         var distance = direction.dot(pts[i]);\n         if (distance > maxDistance) {\n            maxDistance = distance;\n            furthestPoint = pts[i];\n         }\n      }\n      return furthestPoint;\n   }\n\n   /**\n    * Finds the closes face to the point using perpendicular distance\n    * @param point point to test against polygon\n    */\n   public getClosestFace(point: Vector): {distance: Vector, face: Line } {\n      let sides = this.getSides();\n      let min = Number.POSITIVE_INFINITY;\n      let faceIndex = -1;\n      let distance = -1;\n      for (let i = 0; i < sides.length; i++) {\n         let dist = sides[i].distanceToPoint(point);\n         if (dist < min) {\n            min = dist;\n            faceIndex = i;\n            distance = dist;\n         }\n      }\n\n      if (faceIndex !== -1) {\n         return {\n            distance: sides[faceIndex].normal().scale(distance),\n            face: sides[faceIndex]\n         };\n      }\n\n      return null;\n   }\n\n   /**\n    * Get the axis aligned bounding box for the polygon area\n    */\n   public getBounds(): BoundingBox {\n      // todo there is a faster way to do this\n      var points = this.getTransformedPoints();\n\n      var minX = points.reduce(function (prev, curr) {\n         return Math.min(prev, curr.x);\n      }, 999999999);\n      var maxX = points.reduce(function (prev, curr) {\n         return Math.max(prev, curr.x);\n      }, -99999999);\n\n      var minY = points.reduce(function (prev, curr) {\n         return Math.min(prev, curr.y);\n      }, 9999999999);\n      var maxY = points.reduce(function (prev, curr) {\n         return Math.max(prev, curr.y);\n      }, -9999999999);\n\n      return new BoundingBox(minX, minY, maxX, maxY);\n   }\n\n   /**\n    * Get the moment of inertia for an arbitrary polygon\n    * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n    */\n   public getMomentOfInertia(): number {\n      var mass = this.body ? this.body.mass : Physics.defaultMass;\n      var numerator = 0;\n      var denominator = 0;\n      for (var i = 0; i < this.points.length; i++) {\n         var iplusone = (i + 1) % this.points.length;\n         var crossTerm = this.points[iplusone].cross(this.points[i]);\n         numerator += crossTerm * (this.points[i].dot(this.points[i]) +\n            this.points[i].dot(this.points[iplusone]) +\n            this.points[iplusone].dot(this.points[iplusone]));\n         denominator += crossTerm;\n      }\n      return (mass / 6) * (numerator / denominator);\n   }\n\n   /**\n    * Casts a ray into the polygon and returns a vector representing the point of contact (in world space) or null if no collision.\n    */\n   public rayCast(ray: Ray, max: number = Infinity) {\n      // find the minimum contact time greater than 0\n      // contact times less than 0 are behind the ray and we don't want those\n      var sides = this.getSides();\n      var len = sides.length;\n      var minContactTime = Number.MAX_VALUE;\n      var contactIndex = -1;\n      for (var i = 0; i < len; i++) {\n         var contactTime = ray.intersect(sides[i]);\n         if (contactTime >= 0 && contactTime < minContactTime && contactTime <= max) {\n            minContactTime = contactTime;\n            contactIndex = i;\n         }\n      }\n\n      // contact was found\n      if (contactIndex >= 0) {\n         return ray.getPoint(minContactTime);\n      }\n\n      // no contact found\n      return null;\n   }\n\n\n   /**\n    * Get the axis associated with the edge\n    */\n   public getAxes(): Vector[] {\n      if (this._axes.length) { return this._axes; }\n\n      var axes = [];\n      var points = this.getTransformedPoints();\n      var len = points.length;\n      for (var i = 0; i < len; i++) {\n         axes.push(points[i].sub(points[(i + 1) % len]).normal());\n      }\n      this._axes = axes;\n      return this._axes;\n   }\n\n   /**\n    * Perform Separating Axis test against another polygon, returns null if no overlap in polys\n    * Reference http://www.dyn4j.org/2010/01/sat/\n    */\n   public testSeparatingAxisTheorem(other: PolygonArea): Vector {\n      var poly1 = this;\n      var poly2 = other;\n      var axes = poly1.getAxes().concat(poly2.getAxes());\n\n      var minOverlap = Number.MAX_VALUE;\n      var minAxis = null;\n      var minIndex = -1;\n      for (var i = 0; i < axes.length; i++) {\n         var proj1 = poly1.project(axes[i]);\n         var proj2 = poly2.project(axes[i]);\n         var overlap = proj1.getOverlap(proj2);\n         if (overlap <= 0) {\n            return null;\n         } else {\n            if (overlap < minOverlap) {\n               minOverlap = overlap;\n               minAxis = axes[i];\n               minIndex = i;\n            }\n         }\n      }\n\n      // Sanity check\n      if (minIndex === -1) {\n         return null;\n      }\n\n      return minAxis.normalize().scale(minOverlap);\n   }\n\n   /**\n    * Project the edges of the polygon along a specified axis\n    */\n   public project(axis: Vector): Projection {\n      var points = this.getTransformedPoints();\n      var len = points.length;\n      var min = Number.MAX_VALUE;\n      var max = -Number.MAX_VALUE;\n      for (var i = 0; i < len; i++) {\n         var scalar = points[i].dot(axis);\n         min = Math.min(min, scalar);\n         max = Math.max(max, scalar);\n      }\n\n      return new Projection(min, max);\n   }\n\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D, color: Color = Color.Red.clone()) {\n      ctx.beginPath();\n      ctx.strokeStyle = color.toString();\n      // Iterate through the supplied points and construct a 'polygon'\n      var firstPoint = this.getTransformedPoints()[0];\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      this.getTransformedPoints().forEach(function (point) {\n         ctx.lineTo(point.x, point.y);\n      });\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n      ctx.closePath();\n      ctx.stroke();\n   }\n}","import { PolygonArea } from './PolygonArea';\n\nimport { Actor } from '../Actor';\nimport { Vector, Ray } from '../Algebra';\nimport { Color } from '../Drawing/Color';\n\n/**\n * Interface all collidable objects must implement\n */\nexport interface ICollidable {\n   /** \n    * Test whether this bounding box collides with another one.\n    *\n    * @param collidable  Other collidable to test\n    * @returns Vector The intersection vector that can be used to resolve the collision. \n    * If there is no collision, `null` is returned.\n    */\n   collides(collidable: ICollidable): Vector;\n   /**\n    * Tests wether a point is contained within the collidable\n    * @param point  The point to test\n    */\n   contains(point: Vector): boolean;\n\n   debugDraw(ctx: CanvasRenderingContext2D): void;\n\n}\n\n/**\n * Axis Aligned collision primitive for Excalibur. \n */\nexport class BoundingBox implements ICollidable {\n\n   /**\n    * @param left    x coordinate of the left edge\n    * @param top     y coordinate of the top edge\n    * @param right   x coordinate of the right edge\n    * @param bottom  y coordinate of the bottom edge\n    */\n   constructor(public left: number = 0, public top: number = 0, public right: number = 0, public bottom: number = 0) { }\n\n   public static fromPoints(points: Vector[]): BoundingBox {\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n      for (var i = 0; i < points.length; i++) {\n         if (points[i].x < minX) {\n            minX = points[i].x;\n         }\n         if (points[i].x > maxX) {\n            maxX = points[i].x;\n         }\n         if (points[i].y < minY) {\n            minY = points[i].y;\n         }\n         if (points[i].y > maxY) {\n            maxY = points[i].y;\n         }\n      }\n      return new BoundingBox(minX, minY, maxX, maxY);\n   }\n\n   /**\n    * Returns the calculated width of the bounding box\n    */\n   public getWidth() {\n      return this.right - this.left;\n   }\n\n   /**\n    * Returns the calculated height of the bounding box\n    */\n   public getHeight() {\n      return this.bottom - this.top;\n   }\n\n   /**\n    * Rotates a bounding box by and angle and around a point, if no point is specified (0, 0) is used by default\n    */\n   public rotate(angle: number, point: Vector = Vector.Zero.clone()): BoundingBox {\n      var points = this.getPoints().map((p) => p.rotate(angle, point));\n      return BoundingBox.fromPoints(points);\n   }\n\n   /**\n    * Returns the perimeter of the bounding box\n    */\n   public getPerimeter(): number {\n      var wx = this.getWidth();\n      var wy = this.getHeight();\n      return 2 * (wx + wy);\n   }\n\n   public getPoints(): Vector[] {\n      var results = [];\n      results.push(new Vector(this.left, this.top));\n      results.push(new Vector(this.right, this.top));\n      results.push(new Vector(this.right, this.bottom));\n      results.push(new Vector(this.left, this.bottom));\n      return results;\n   }\n\n   /**\n    * Creates a Polygon collision area from the points of the bounding box\n    */\n   public toPolygon(actor?: Actor): PolygonArea {\n      return new PolygonArea({\n         body: actor ? actor.body : null,\n         points: this.getPoints(),\n         pos: Vector.Zero.clone()\n      });\n   }\n\n   /**\n    * Determines whether a ray intersects with a bounding box\n    */\n   public rayCast(ray: Ray, farClipDistance = Infinity): boolean {\n      // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/ \n      var tmin = -Infinity;\n      var tmax = +Infinity;\n\n      var xinv = ray.dir.x === 0 ? Number.MAX_VALUE : (1 / ray.dir.x);\n      var yinv = ray.dir.y === 0 ? Number.MAX_VALUE : (1 / ray.dir.y);\n      \n      var tx1 = (this.left - ray.pos.x) * xinv;\n      var tx2 = (this.right - ray.pos.x) * xinv;\n      tmin = Math.min(tx1, tx2);\n      tmax = Math.max(tx1, tx2);\n            \n      var ty1 = (this.top - ray.pos.y) * yinv; \n      var ty2 = (this.bottom - ray.pos.y) * yinv;\n      tmin = Math.max(tmin, Math.min(ty1, ty2));\n      tmax = Math.min(tmax, Math.max(ty1, ty2));      \n\n      return tmax >= Math.max(0, tmin) && tmin < farClipDistance;\n   }\n\n   public rayCastTime(ray: Ray, farClipDistance = Infinity): number {\n       // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/ \n      var tmin = -Infinity;\n      var tmax = +Infinity;\n\n      var xinv = ray.dir.x === 0 ? Number.MAX_VALUE : (1 / ray.dir.x);\n      var yinv = ray.dir.y === 0 ? Number.MAX_VALUE : (1 / ray.dir.y);\n      \n      var tx1 = (this.left - ray.pos.x) * xinv;\n      var tx2 = (this.right - ray.pos.x) * xinv;\n      tmin = Math.min(tx1, tx2);\n      tmax = Math.max(tx1, tx2);\n            \n      var ty1 = (this.top - ray.pos.y) * yinv; \n      var ty2 = (this.bottom - ray.pos.y) * yinv;\n      tmin = Math.max(tmin, Math.min(ty1, ty2));\n      tmax = Math.min(tmax, Math.max(ty1, ty2));\n\n      if (tmax >= Math.max(0, tmin) && tmin < farClipDistance) {\n         return tmin;\n      }\n      return -1;\n   }\n\n   /**\n    * Tests whether a point is contained within the bounding box\n    * @param p  The point to test\n    */\n   public contains(p: Vector): boolean;\n\n   /**\n    * Tests whether another bounding box is totally contained in this one\n    * @param bb  The bounding box to test\n    */\n   public contains(bb: BoundingBox): boolean;\n   public contains(val: any): boolean {\n      if (val instanceof Vector) {\n         return (this.left <= val.x && this.top <= val.y && this.bottom >= val.y && this.right >= val.x);\n      } else if (val instanceof BoundingBox) {\n         if (this.left < val.left &&\n            this.top < val.top &&\n            val.bottom < this.bottom &&\n            val.right < this.right) {\n            return true;\n         }\n         return false;\n      }\n      return false;\n   }\n\n   /**\n    * Combines this bounding box and another together returning a new bounding box\n    * @param other  The bounding box to combine\n    */\n   public combine(other: BoundingBox): BoundingBox {\n      var compositeBB = new BoundingBox(Math.min(this.left, other.left),\n         Math.min(this.top, other.top),\n         Math.max(this.right, other.right),\n         Math.max(this.bottom, other.bottom));\n      return compositeBB;\n   }\n\n   /** \n    * Test wether this bounding box collides with another returning,\n    * the intersection vector that can be used to resolve the collision. If there\n    * is no collision null is returned.\n    * @param collidable  Other collidable to test\n    */\n   public collides(collidable: ICollidable): Vector {\n      if (collidable instanceof BoundingBox) {\n         var other: BoundingBox = <BoundingBox>collidable;\n         var totalBoundingBox = this.combine(other);\n\n         // If the total bounding box is less than the sum of the 2 bounds then there is collision\n         if (totalBoundingBox.getWidth() < other.getWidth() + this.getWidth() &&\n            totalBoundingBox.getHeight() < other.getHeight() + this.getHeight()) {\n            // collision\n            var overlapX = 0;\n            if (this.right >= other.left && this.right <= other.right) {\n               overlapX = other.left - this.right;\n            } else {\n               overlapX = other.right - this.left;\n            }\n\n            var overlapY = 0;\n            if (this.top <= other.bottom && this.top >= other.top) {\n               overlapY = other.bottom - this.top;\n            } else {\n               overlapY = other.top - this.bottom;\n            }\n\n            if (Math.abs(overlapX) < Math.abs(overlapY)) {\n               return new Vector(overlapX, 0);\n            } else {\n               return new Vector(0, overlapY);\n            }\n         } else {\n            return null;\n         }\n\n      }\n\n      return null;\n   }\n\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D, color: Color = Color.Yellow) {\n      ctx.strokeStyle = color.toString();\n      ctx.strokeRect(this.left, this.top, this.getWidth(), this.getHeight());\n   }\n}\n","import { Body } from './Body';\nimport { BoundingBox } from './BoundingBox';\nimport { CollisionContact } from './CollisionContact';\nimport { CollisionJumpTable } from './CollisionJumpTable';\nimport { ICollisionArea } from './ICollisionArea';\nimport { CircleArea } from './CircleArea';\nimport { PolygonArea } from './PolygonArea';\n\nimport { Vector, Ray, Projection } from '../Algebra';\nimport { Physics } from '../Physics';\nimport { Color } from '../Drawing/Color';\n\nexport interface IEdgeAreaOptions {\n   begin?: Vector;\n   end?: Vector;\n   body?: Body;\n}\n\nexport class EdgeArea implements ICollisionArea {\n   body: Body;\n   pos: Vector;\n   begin: Vector;\n   end: Vector;\n\n   constructor(options: IEdgeAreaOptions) {\n      this.begin = options.begin || Vector.Zero.clone();\n      this.end = options.end || Vector.Zero.clone();\n      this.body = options.body || null;\n\n      this.pos = this.getCenter();\n   }\n\n   /**\n    * Get the center of the collision area in world coordinates\n    */\n   public getCenter(): Vector {\n      var pos = this.begin.average(this.end).add(this._getBodyPos());\n      return pos;\n   }\n\n   private _getBodyPos(): Vector {\n      var bodyPos = Vector.Zero.clone();\n      if (this.body.pos) {\n         bodyPos = this.body.pos;\n      }\n      return bodyPos;\n   }\n\n   private _getTransformedBegin(): Vector {\n      var angle = this.body ? this.body.rotation : 0;\n      return this.begin.rotate(angle).add(this._getBodyPos());\n   }\n\n   private _getTransformedEnd(): Vector {\n      var angle = this.body ? this.body.rotation : 0;\n      return this.end.rotate(angle).add(this._getBodyPos());\n   }\n\n   /** \n    * Returns the slope of the line in the form of a vector\n    */\n   public getSlope(): Vector {\n      var begin = this._getTransformedBegin();\n      var end = this._getTransformedEnd();\n      var distance = begin.distance(end);\n      return end.sub(begin).scale(1 / distance);\n   }\n\n   /**\n    * Returns the length of the line segment in pixels\n    */\n   public getLength(): number {\n      var begin = this._getTransformedBegin();\n      var end = this._getTransformedEnd();\n      var distance = begin.distance(end);\n      return distance;\n   }\n\n   /**\n    * Tests if a point is contained in this collision area\n    */\n   public contains(): boolean {\n      return false;\n   }\n\n\n   /**\n    * @inheritdoc\n    */\n   public rayCast(ray: Ray, max: number = Infinity): Vector {\n      var numerator = this._getTransformedBegin().sub(ray.pos);\n\n      // Test is line and ray are parallel and non intersecting\n      if (ray.dir.cross(this.getSlope()) === 0 && numerator.cross(ray.dir) !== 0) {\n         return null;\n      }\n\n      // Lines are parallel\n      var divisor = (ray.dir.cross(this.getSlope()));\n      if (divisor === 0) {\n         return null;\n      }\n\n      var t = numerator.cross(this.getSlope()) / divisor;\n\n      if (t >= 0 && t <= max) {\n         var u = (numerator.cross(ray.dir) / divisor) / this.getLength();\n         if (u >= 0 && u <= 1) {\n            return ray.getPoint(t);\n         }\n      }\n\n      return null;\n   }\n\n   /**\n    * @inheritdoc\n    */\n   public collide(area: ICollisionArea): CollisionContact {\n      if (area instanceof CircleArea) {\n         return CollisionJumpTable.CollideCircleEdge(area, this);\n      } else if (area instanceof PolygonArea) {\n         return CollisionJumpTable.CollidePolygonEdge(area, this);\n      } else if (area instanceof EdgeArea) {\n         return CollisionJumpTable.CollideEdgeEdge();\n      } else {\n         throw new Error(`Edge could not collide with unknown ICollisionArea ${typeof area}`);\n      }\n   }\n\n   /**\n    * Find the point on the shape furthest in the direction specified\n    */\n   public getFurthestPoint(direction: Vector): Vector {\n      var transformedBegin = this._getTransformedBegin();\n      var transformedEnd = this._getTransformedEnd();\n      if (direction.dot(transformedBegin) > 0) {\n         return transformedBegin;\n      } else {\n         return transformedEnd;\n      }\n   }\n\n   /**\n    * Get the axis aligned bounding box for the circle area\n    */\n   public getBounds(): BoundingBox {\n      var transformedBegin = this._getTransformedBegin();\n      var transformedEnd = this._getTransformedEnd();\n      return new BoundingBox(Math.min(transformedBegin.x, transformedEnd.x),\n         Math.min(transformedBegin.y, transformedEnd.y),\n         Math.max(transformedBegin.x, transformedEnd.x),\n         Math.max(transformedBegin.y, transformedEnd.y));\n   }\n\n   /**\n    * Get the axis associated with the edge\n    */\n   public getAxes(): Vector[] {\n      var e = this._getTransformedEnd().sub(this._getTransformedBegin());\n      var edgeNormal = e.normal();\n\n      var axes = [];\n      axes.push(edgeNormal);\n      axes.push(edgeNormal.negate());\n      axes.push(edgeNormal.normal());\n      axes.push(edgeNormal.normal().negate());\n      return axes;\n   }\n\n   /**\n    * Get the moment of inertia for an edge\n    * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n    */\n   public getMomentOfInertia(): number {\n      var mass = this.body ? this.body.mass : Physics.defaultMass;\n      var length = this.end.sub(this.begin).distance() / 2;\n      return mass * length * length;\n   }\n\n   /**\n    * @inheritdoc\n    */\n   public recalc(): void {\n      // edges don't have any cached data\n   }\n\n   /**\n    * Project the edge along a specified axis\n    */\n   public project(axis: Vector): Projection {\n      var scalars = [];\n\n      var points = [this._getTransformedBegin(), this._getTransformedEnd()];\n      var len = points.length;\n      for (var i = 0; i < len; i++) {\n         scalars.push(points[i].dot(axis));\n      }\n\n      return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n   }\n\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D, color: Color = Color.Red.clone()) {\n      ctx.strokeStyle = color.toString();\n      ctx.beginPath();\n      ctx.moveTo(this.begin.x, this.begin.y);\n      ctx.lineTo(this.end.x, this.end.y);\n      ctx.closePath();\n      ctx.stroke();\n   }\n}","import { Color } from '../Drawing/Color';\nimport { Vector } from '../Algebra';\n\n/**\n * A canvas linecap style. \"butt\" is the default flush style, \"round\" is a semi-circle cap with a radius half the width of\n * the line, and \"square\" is a rectangle that is an equal width and half height cap.\n */\nexport type LineCapStyle = 'butt'|'round'|'square';\n\n/**\n * Draw a line on canvas context\n * \n * @param ctx The canvas context\n * @param color The color of the line\n * @param x1 The start x coordinate\n * @param y1 The start y coordinate\n * @param x2 The ending x coordinate\n * @param y2 The ending y coordinate\n * @param thickness The line thickness\n * @param cap The [[LineCapStyle]] (butt, round, or square)\n */\n/* istanbul ignore next */\nexport function line(ctx: CanvasRenderingContext2D, color: Color = Color.Red.clone(), \n                     x1: number, y1: number, x2: number, y2: number, thickness: number = 1, cap: LineCapStyle = 'butt') {\n   ctx.beginPath();\n   ctx.lineWidth = thickness;\n   ctx.lineCap = cap;   \n   ctx.strokeStyle = color.toString();\n   ctx.moveTo(x1, y1);\n   ctx.lineTo(x2, y2);\n   ctx.closePath();\n   ctx.stroke();  \n}\n\n/**\n * Draw the vector as a point onto the canvas.\n */\n/* istanbul ignore next */\nexport function point(ctx: CanvasRenderingContext2D, color: Color = Color.Red.clone(), point: Vector): void {\n   ctx.beginPath();\n   ctx.strokeStyle = color.toString();\n   ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n   ctx.closePath();    \n   ctx.stroke();\n}\n\n/**\n * Draw the vector as a line onto the canvas starting a origin point.\n */\n/* istanbul ignore next */\nexport function vector(ctx: CanvasRenderingContext2D, color: Color, origin: Vector, vector: Vector, scale: number = 1.0): void {\n   var c = color ? color.toString() : 'blue';\n   var v = vector.scale(scale); \n   ctx.beginPath();\n   ctx.strokeStyle = c;\n   ctx.moveTo(origin.x, origin.y);\n   ctx.lineTo(origin.x + v.x, origin.y + v.y);\n   ctx.closePath();\n   ctx.stroke(); \n}\n\n\n/**\n * Represents border radius values\n */\nexport interface IBorderRadius {\n\n   /**\n    * Top-left\n    */\n   tl: number;\n   /**\n    * Top-right\n    */\n   tr: number;\n   /**\n    * Bottom-right\n    */\n   br: number;\n   /**\n    * Bottom-left\n    */\n   bl: number;\n}\n\n/**\n * Draw a round rectangle on a canvas context\n * \n * @param ctx The canvas context\n * @param x The top-left x coordinate\n * @param y The top-left y coordinate\n * @param width The width of the rectangle\n * @param height The height of the rectangle\n * @param radius The border radius of the rectangle\n * @param fill The [[Color]] to fill rectangle with\n * @param stroke The [[Color]] to stroke rectangle with\n */\nexport function roundRect(ctx: CanvasRenderingContext2D, \n   x: number, y: number, width: number, height: number, \n   radius: number|IBorderRadius = 5, stroke: Color = Color.White, fill: Color = null) {\n   var br: IBorderRadius;\n\n   if (typeof radius === 'number') {\n      br = {tl: radius, tr: radius, br: radius, bl: radius};\n   } else {\n      var defaultRadius: IBorderRadius = { tl: 0, tr: 0, br: 0, bl: 0 };\n      \n      for (var prop in defaultRadius) {\n         if (defaultRadius.hasOwnProperty(prop)) {\n            let side = <keyof IBorderRadius>prop;\n            br[side] = radius[side] || defaultRadius[side];\n         }\n      }\n   }\n\n   ctx.beginPath();\n   ctx.moveTo(x + br.tl, y);\n   ctx.lineTo(x + width - br.tr, y);\n   ctx.quadraticCurveTo(x + width, y, x + width, y + br.tr);\n   ctx.lineTo(x + width, y + height - br.br);\n   ctx.quadraticCurveTo(x + width, y + height, x + width - br.br, y + height);\n   ctx.lineTo(x + br.bl, y + height);\n   ctx.quadraticCurveTo(x, y + height, x, y + height - br.bl);\n   ctx.lineTo(x, y + br.tl);\n   ctx.quadraticCurveTo(x, y, x + br.tl, y);\n   ctx.closePath();\n\n   if (fill) {\n      ctx.fillStyle = fill.toString();\n      ctx.fill();\n   }\n\n   if (stroke) {\n      ctx.strokeStyle = stroke.toString();\n      ctx.stroke();\n   }\n}\n\nexport function circle(ctx: CanvasRenderingContext2D, \n                        x: number, \n                        y: number, \n                        radius: number, \n                        stroke: Color = Color.White, \n                        fill: Color = null) {\n   ctx.beginPath();\n   ctx.arc(x, y, radius, 0, Math.PI * 2);\n   ctx.closePath();\n\n   if (fill) {\n      ctx.fillStyle = fill.toString();\n      ctx.fill();\n   }\n\n   if (stroke) {\n      ctx.strokeStyle = stroke.toString();\n      ctx.stroke();\n   }\n\n}","import { Physics } from './../Physics';\nimport { Color } from './../Drawing/Color';\nimport { Body } from './Body';\nimport { CollisionContact } from './CollisionContact';\nimport { CollisionType } from '../Actor';\nimport { CollisionResolutionStrategy } from '../Physics';\nimport * as DrawUtil from '../Util/DrawUtil';\n\n/**\n * Models a potential collision between 2 bodies\n */\nexport class Pair {\n   public id: string = null;\n   public collision: CollisionContact = null;\n\n   constructor(public bodyA: Body, public bodyB: Body) {\n      this.id = Pair.calculatePairHash(bodyA, bodyB);\n   }\n   \n   /**\n    * Returns whether or not it is possible for the pairs to collide\n    */\n   public get canCollide(): boolean {\n      let actorA = this.bodyA.actor;\n      let actorB = this.bodyB.actor;\n      // if both are fixed short circuit\n      if (actorA.collisionType === CollisionType.Fixed && actorB.collisionType === CollisionType.Fixed) {\n         return false;\n      }\n\n      // if the other is prevent collision or is dead short circuit\n      if (actorB.collisionType === CollisionType.PreventCollision || actorB.isKilled()) { return false; }\n\n      return true;\n\n   }\n\n   /**\n    * Runs the collison intersection logic on the members of this pair\n    */\n   public collide() {\n      this.collision = this.bodyA.collisionArea.collide(this.bodyB.collisionArea);\n   }\n\n   /**\n    * Resovles the collision body position and velocity if a collision occured\n    */\n   public resolve(strategy: CollisionResolutionStrategy) {\n      if (this.collision) {\n         this.collision.resolve(strategy);\n      }\n   }\n\n   /**\n    * Calculates the unique pair hash id for this collision pair\n    */\n   public static calculatePairHash(bodyA: Body, bodyB: Body): string {\n      if (bodyA.actor.id < bodyB.actor.id) {\n         return `#${bodyA.actor.id}+${bodyB.actor.id}`;\n      } else {\n         return `#${bodyB.actor.id}+${bodyA.actor.id}`;\n      }\n   }\n\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      if (this.collision) {\n         if (Physics.showContacts) {\n            DrawUtil.point(ctx, Color.Red, this.collision.point);\n         }\n         if (Physics.showCollisionNormals) {\n            DrawUtil.vector(ctx, Color.Cyan, this.collision.point, this.collision.normal, 30);\n         }\n      }\n   }\n}\n","import { Physics, CollisionResolutionStrategy } from './../Physics';\nimport { EdgeArea } from './EdgeArea';\nimport { CircleArea } from './CircleArea';\nimport { ICollisionArea } from './ICollisionArea';\nimport { PolygonArea } from './PolygonArea';\nimport { BoundingBox } from './BoundingBox';\nimport { Pair } from './Pair';\n\nimport { Vector } from '../Algebra';\nimport { Actor } from '../Actor';\nimport { Color } from '../Drawing/Color';\nimport * as DrawUtil from '../Util/DrawUtil';\n\nexport class Body {\n\n   /**\n    * Constructs a new physics body associated with an actor\n    */\n   constructor(public actor: Actor) { }\n\n   /**\n    * [[ICollisionArea|Collision area]] of this physics body, defines the shape for rigid body collision\n    */\n   public collisionArea: ICollisionArea = null;\n\n   /**\n    * The (x, y) position of the actor this will be in the middle of the actor if the \n    * [[Actor.anchor]] is set to (0.5, 0.5) which is default.\n    * If you want the (x, y) position to be the top left of the actor specify an anchor of (0, 0). \n    */\n   public pos: Vector = new Vector(0, 0);\n\n   /**\n    * The position of the actor last frame (x, y) in pixels\n    */\n   public oldPos: Vector = new Vector(0, 0);\n\n   /**\n    * The current velocity vector (vx, vy) of the actor in pixels/second\n    */\n   public vel: Vector = new Vector(0, 0);\n\n   /**\n    * The velocity of the actor last frame (vx, vy) in pixels/second\n    */\n   public oldVel: Vector = new Vector(0, 0);\n\n   /**\n    * The curret acceleration vector (ax, ay) of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may \n    * be useful to simulate a gravitational effect.  \n    */\n   public acc: Vector = new Vector(0, 0);\n\n   /**\n    * The current torque applied to the actor\n    */\n   public torque: number = 0;\n\n   /**\n    * The current mass of the actor, mass can be thought of as the resistance to acceleration.\n    */\n   public mass: number = 1.0;\n\n   /**\n    * The current moment of inertia, moi can be thought of as the resistance to rotation.\n    */\n   public moi: number = 1000;\n\n   /**\n    * The current \"motion\" of the actor, used to calculated sleep in the physics simulation\n    */\n   public motion: number = 10;\n\n   /**\n    * The coefficient of friction on this actor\n    */\n   public friction: number = .99;\n\n   /**\n    * The coefficient of restitution of this actor, represents the amount of energy preserved after collision\n    */\n   public restitution: number = .2;\n\n   /** \n    * The rotation of the actor in radians\n    */\n   public rotation: number = 0; // radians\n\n   /** \n    * The rotational velocity of the actor in radians/second\n    */\n   public rx: number = 0; //radians/sec\n\n\n   private _totalMtv: Vector = Vector.Zero.clone();\n\n   /**\n    * Add minimum translation vectors accumulated during the current frame to resolve collisions.\n    */\n   public addMtv(mtv: Vector) {\n      this._totalMtv.addEqual(mtv);\n   }\n\n   /**\n    * Applies the accumulated translation vectors to the actors position\n    */\n   public applyMtv(): void {\n      this.pos.addEqual(this._totalMtv);\n      this._totalMtv.setTo(0, 0);\n   }\n\n\n   /**\n    * Returns the body's [[BoundingBox]] calculated for this instant in world space.\n    */\n   public getBounds(): BoundingBox {\n      if (Physics.collisionResolutionStrategy === CollisionResolutionStrategy.Box) {\n         return this.actor.getBounds();\n      } else {\n         return this.collisionArea.getBounds();\n      }\n   }\n\n   /**\n    * Returns the actor's [[BoundingBox]] relative to the actors position.\n    */\n   public getRelativeBounds(): BoundingBox {\n      if (Physics.collisionResolutionStrategy === CollisionResolutionStrategy.Box) {\n         return this.actor.getRelativeBounds();\n      } else {\n         return this.actor.getRelativeBounds();\n      }\n   }\n\n   /**\n    * Updates the collision area geometry and internal caches\n    */\n   public update() {\n      if (this.collisionArea) {\n         this.collisionArea.recalc();\n      }\n   }\n\n\n   /**\n    * Sets up a box collision area based on the current bounds of the associated actor of this physics body.\n    * \n    * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n    */\n   public useBoxCollision(center: Vector = Vector.Zero.clone()) {\n\n      this.collisionArea = new PolygonArea({\n         body: this,\n         points: this.actor.getRelativeBounds().getPoints(),\n         pos: center // position relative to actor\n      });\n\n      // in case of a nan moi, coalesce to a safe default\n      this.moi = this.collisionArea.getMomentOfInertia() || this.moi;\n\n   }\n\n   /**\n    * Sets up a polygon collision area based on a list of of points relative to the anchor of the associated actor of this physics body.\n    * \n    * Only [convex polygon](https://en.wikipedia.org/wiki/Convex_polygon) definitions are supported. \n    * \n    * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n    */\n   public usePolygonCollision(points: Vector[], center: Vector = Vector.Zero.clone()) {\n      this.collisionArea = new PolygonArea({\n         body: this,\n         points: points,\n         pos: center // position relative to actor\n      });\n\n      // in case of a nan moi, collesce to a safe default\n      this.moi = this.collisionArea.getMomentOfInertia() || this.moi;\n   }\n\n   /**\n    * Sets up a [[CircleArea|circle collision area]] with a specified radius in pixels.\n    * \n    * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n    */\n   public useCircleCollision(radius?: number, center: Vector = Vector.Zero.clone()) {\n      if (!radius) {\n         radius = this.actor.getWidth() / 2;\n      }\n      this.collisionArea = new CircleArea({\n         body: this,\n         radius: radius,\n         pos: center\n      });\n      this.moi = this.collisionArea.getMomentOfInertia() || this.moi;\n   }\n\n   /**\n    * Sets up an [[EdgeArea|edge collision]] with a start point and an end point relative to the anchor of the associated actor \n    * of this physics body. \n    * \n    * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n    */\n   public useEdgeCollision(begin: Vector, end: Vector) {\n      this.collisionArea = new EdgeArea({\n         begin: begin,\n         end: end,\n         body: this\n      });\n\n      this.moi = this.collisionArea.getMomentOfInertia() || this.moi;\n   }\n\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n\n      // Draw motion vectors\n      if (Physics.showMotionVectors) {\n         DrawUtil.vector(ctx, Color.Yellow, this.pos, (this.acc.add(Physics.acc)));\n         DrawUtil.vector(ctx, Color.Red, this.pos, (this.vel));\n         DrawUtil.point(ctx, Color.Red, this.pos);\n      }\n\n      if (Physics.showBounds) {\n         this.getBounds().debugDraw(ctx, Color.Yellow);\n      }\n\n      if (Physics.showArea) {\n         this.collisionArea.debugDraw(ctx, Color.Green);\n      }\n   }\n   \n   /**\n    * Returns a boolean indicating whether this body collided with \n    * or was in stationary contact with\n    * the body of the other [[Actor]]\n    */\n   public touching(other: Actor): boolean {\n     \n     var pair = new Pair(this, other.body);\n     pair.collide();\n     \n     if (pair.collision) {\n       return true;\n     }\n     \n     return false;\n   }\n}","import { IDebugFlags } from './DebugFlags';\nimport { Pair } from './Collision/Pair';\n\n/**\n * Debug stats containing current and previous frame statistics\n */\nexport interface IDebugStats {\n   currFrame: FrameStats;\n   prevFrame: FrameStats;\n}\n\n/**\n * Hash containing the [[Pair.id]]s of pairs that collided in a frame\n */\nexport interface ICollidersHash {\n   [pairId: string]: Pair;\n}\n\n\n/**\n * Represents a frame's individual statistics\n */\nexport interface IFrameStats {\n\n   /**\n    * The number of the frame\n    */\n   id: number;\n\n   /**\n    * Gets the frame's delta (time since last frame scaled by [[Engine.timescale]]) (in ms)\n    */\n   delta: number;\n\n   /**\n    * Gets the frame's frames-per-second (FPS)\n    */\n   fps: number;\n\n   /**\n    * Duration statistics (in ms)\n    */\n   duration: IFrameDurationStats;\n\n   /**\n    * Actor statistics\n    */\n   actors: IFrameActorStats;\n\n   /**\n    * Physics statistics\n    */\n   physics: IPhysicsStats;\n}\n\n/**\n * Represents actor stats for a frame\n */\nexport interface IFrameActorStats {\n\n   /**\n    * Gets the frame's number of actors (alive)\n    */\n   alive: number;\n\n   /**\n    * Gets the frame's number of actors (killed)\n    */\n   killed: number;\n\n   /**\n    * Gets the frame's number of remaining actors (alive - killed)\n    */\n   remaining: number;\n\n   /**\n    * Gets the frame's number of UI actors\n    */\n   ui: number;\n\n   /**\n    * Gets the frame's number of total actors (remaining + UI)\n    */\n   total: number;\n}\n\n/**\n * Represents duration stats for a frame\n */\nexport interface IFrameDurationStats {\n\n   /**\n    * Gets the frame's total time to run the update function (in ms)\n    */\n   update: number;\n\n   /**\n    * Gets the frame's total time to run the draw function (in ms)\n    */\n   draw: number;\n\n   /**\n    * Gets the frame's total render duration (update + draw duration) (in ms)\n    */\n   total: number;\n}\n\n/**\n * Represents physics stats for the current frame\n */\nexport interface IPhysicsStats {\n   /**\n    * Gets the number of broadphase collision pairs which \n    */\n   pairs: number;\n\n   /**\n    * Gets the number of actual collisons \n    */\n   collisions: number;\n   \n   /**\n    * A Hash storing the [[Pair.id]]s of [[Pair]]s that collided in the frame\n    */\n   collidersHash: ICollidersHash;\n     \n   /**\n    * Gets the number of fast moving bodies using raycast continuous collisions in the scene \n    */\n   fastBodies: number;\n\n   /**\n    * Gets the number of bodies that had a fast body collision resolution\n    */\n   fastBodyCollisions: number;\n\n   /**\n    * Gets the time it took to calculate the broadphase pairs\n    */\n   broadphase: number;\n\n   /**\n    * Gets the time it took to calculate the narrowphase \n    */\n   narrowphase: number;\n}\n\n/**\n * Debug statistics and flags for Excalibur. If polling these values, it would be\n * best to do so on the `postupdate` event for [[Engine]], after all values have been\n * updated during a frame.\n */\nexport class Debug implements IDebugFlags {\n\n   /**\n    * Performance statistics\n    */\n   public stats: IDebugStats = {\n\n      /**\n       * Current frame statistics. Engine reuses this instance, use [[FrameStats.clone]] to copy frame stats. \n       * Best accessed on [[postframe]] event. See [[IFrameStats]]\n       */\n      currFrame: new FrameStats(),\n\n      /**\n       * Previous frame statistics. Engine reuses this instance, use [[FrameStats.clone]] to copy frame stats. \n       * Best accessed on [[preframe]] event. Best inspected on engine event `preframe`. See [[IFrameStats]]\n       */\n      prevFrame: new FrameStats()\n\n   };\n\n}\n\n/**\n * Implementation of a frame's stats. Meant to have values copied via [[FrameStats.reset]], avoid\n * creating instances of this every frame.\n */\nexport class FrameStats implements IFrameStats {\n   private _id: number = 0;\n   private _delta: number = 0;\n   private _fps: number = 0;\n   private _actorStats: IFrameActorStats = {\n      alive: 0,\n      killed: 0,\n      ui: 0,\n      get remaining(this: IFrameActorStats) {\n         return this.alive - this.killed;\n      },\n      get total(this: IFrameActorStats) {\n         return this.remaining + this.ui;\n      }\n   };\n   private _durationStats: IFrameDurationStats = {\n      update: 0,\n      draw: 0,\n      get total(this: IFrameDurationStats) {\n         return this.update + this.draw;\n      }\n   };\n\n   private _physicsStats: PhysicsStats = new PhysicsStats();\n\n   /**\n    * Zero out values or clone other IFrameStat stats. Allows instance reuse.\n    *  \n    * @param [otherStats] Optional stats to clone\n    */\n   public reset(otherStats?: IFrameStats) {\n      if (otherStats) {\n         this.id = otherStats.id;\n         this.delta = otherStats.delta;\n         this.fps = otherStats.fps;\n         this.actors.alive = otherStats.actors.alive;\n         this.actors.killed = otherStats.actors.killed;\n         this.actors.ui = otherStats.actors.ui;\n         this.duration.update = otherStats.duration.update;\n         this.duration.draw = otherStats.duration.draw;\n         this._physicsStats.reset(otherStats.physics);\n      } else {\n         this.id = this.delta = this.fps = 0;\n         this.actors.alive = this.actors.killed = this.actors.ui = 0;\n         this.duration.update = this.duration.draw = 0;\n         this._physicsStats.reset();\n      }\n   }\n\n   /**\n    * Provides a clone of this instance.\n    */\n   public clone(): FrameStats {\n      var fs = new FrameStats();\n\n      fs.reset(this);\n\n      return fs;\n   }\n\n   /**\n    * Gets the frame's id\n    */\n   public get id() {\n      return this._id;\n   }\n\n   /**\n    * Sets the frame's id\n    */\n   public set id(value: number) {\n      this._id = value;\n   }\n\n   /**\n    * Gets the frame's delta (time since last frame)\n    */\n   public get delta() {\n      return this._delta;\n   }\n\n   /**\n    * Sets the frame's delta (time since last frame). Internal use only.\n    * @internal\n    */\n   public set delta(value: number) {\n      this._delta = value;\n   }\n\n   /**\n    * Gets the frame's frames-per-second (FPS)\n    */\n   public get fps() {\n      return this._fps;\n   }\n\n   /**\n    * Sets the frame's frames-per-second (FPS). Internal use only.\n    * @internal\n    */\n   public set fps(value: number) {\n      this._fps = value;\n   }\n\n   /**\n    * Gets the frame's actor statistics\n    */\n   public get actors() {\n      return this._actorStats;\n   }\n\n   /**\n    * Gets the frame's duration statistics\n    */\n   public get duration() {\n      return this._durationStats;\n   }\n\n   /**\n    * Gets the frame's physics statistics\n    */\n   public get physics() {\n      return this._physicsStats;\n   }\n}\n\nexport class PhysicsStats implements IPhysicsStats {\n   private _pairs: number = 0;\n   private _collisions: number = 0;\n   private _collidersHash: ICollidersHash = {};\n   private _fastBodies: number = 0;\n   private _fastBodyCollisions: number = 0;\n   private _broadphase: number = 0;\n   private _narrowphase: number = 0;\n\n   /**\n    * Zero out values or clone other IPhysicsStats stats. Allows instance reuse.\n    *  \n    * @param [otherStats] Optional stats to clone\n    */\n   public reset(otherStats?: IPhysicsStats) {\n      if (otherStats) {\n         this.pairs = otherStats.pairs;\n         this.collisions = otherStats.collisions;\n         this.collidersHash = otherStats.collidersHash;\n         this.fastBodies = otherStats.fastBodies;\n         this.fastBodyCollisions = otherStats.fastBodyCollisions;\n         this.broadphase = otherStats.broadphase;\n         this.narrowphase = otherStats.narrowphase;\n      } else {\n         this.pairs = this.collisions = this.fastBodies = 0;\n         this.fastBodyCollisions = this.broadphase = this.narrowphase = 0;\n         this.collidersHash = {};\n      }\n   }\n\n   /**\n    * Provides a clone of this instance.\n    */\n   public clone(): IPhysicsStats {\n      var ps = new PhysicsStats();\n\n      ps.reset(this);\n\n      return ps;\n   }\n\n   public get pairs(): number {\n      return this._pairs;\n   }\n\n   public set pairs(value: number) {\n      this._pairs = value;\n   }\n\n   public get collisions(): number {\n      return this._collisions;\n   }\n\n   public set collisions(value: number) {\n      this._collisions = value;\n   }\n   \n   public get collidersHash(): ICollidersHash {\n      return this._collidersHash;\n   }\n   \n   public set collidersHash(colliders: ICollidersHash) {\n      this._collidersHash = colliders;\n   }\n\n   public get fastBodies(): number {\n      return this._fastBodies;\n   }\n\n   public set fastBodies(value: number) {\n      this._fastBodies = value;\n   }\n\n   public get fastBodyCollisions(): number {\n      return this._fastBodyCollisions;\n   }\n\n   public set fastBodyCollisions(value: number) {\n      this._fastBodyCollisions = value;\n   }\n\n   public get broadphase(): number {\n      return this._broadphase;\n   }\n\n   public set broadphase(value: number) {\n      this._broadphase = value;\n   }\n\n   public get narrowphase(): number {\n      return this._narrowphase;\n   }\n\n   public set narrowphase(value: number) {\n      this._narrowphase = value;\n   }\n}","import { Physics } from './../Physics';\nimport { BoundingBox } from './BoundingBox';\nimport { Body } from './Body';\n\nimport { Ray } from '../Algebra';\nimport { Logger } from '../Util/Log';\n\n/**\n * Dynamic Tree Node used for tracking bounds within the tree\n */\nexport class TreeNode {\n   public left: TreeNode;\n   public right: TreeNode;\n   public bounds: BoundingBox;\n   public height: number;\n   public body: Body;\n   constructor(public parent?: TreeNode) {\n      this.parent = parent || null;\n      this.body = null;\n      this.bounds = new BoundingBox();\n      this.left = null;\n      this.right = null;\n      this.height = 0;\n   }\n\n   public isLeaf(): boolean {\n      return (!this.left && !this.right);\n   }\n}\n\n/**\n * The DynamicTrees provides a spatial partiioning data structure for quickly querying for overlapping bounding boxes for \n * all tracked bodies. The worst case performance of this is O(n*log(n)) where n is the number of bodies in the tree.\n *\n * Internally the bounding boxes are organized as a balanced binary tree of bounding boxes, where the leaf nodes are tracked bodies.\n * Every non-leaf node is a bounding box that contains child bounding boxes. \n */\nexport class DynamicTree {\n\n   public root: TreeNode;\n   public nodes: { [key: number]: TreeNode };\n   constructor(public worldBounds: BoundingBox = new BoundingBox(-Number.MAX_VALUE,\n      -Number.MAX_VALUE,\n      Number.MAX_VALUE,\n      Number.MAX_VALUE)) {\n      this.root = null;\n      this.nodes = {};\n   }\n\n   /**\n    * Inserts a node into the dynamic tree\n    */\n   private _insert(leaf: TreeNode): void {\n\n      // If there are no nodes in the tree, make this the root leaf\n      if (this.root === null) {\n         this.root = leaf;\n         this.root.parent = null;\n         return;\n      }\n\n      // Search the tree for a node that is not a leaf and find the best place to insert\n      var leafAABB = leaf.bounds;\n      var currentRoot = this.root;\n      while (!currentRoot.isLeaf()) {\n         var left = currentRoot.left;\n         var right = currentRoot.right;\n\n         var area = currentRoot.bounds.getPerimeter();\n         var combinedAABB = currentRoot.bounds.combine(leafAABB);\n         var combinedArea = combinedAABB.getPerimeter();\n\n         // Calculate cost heuristic for creating a new parent and leaf\n         var cost = 2 * combinedArea;\n\n         // Minimum cost of pushing the leaf down the tree\n         var inheritanceCost = 2 * (combinedArea - area);\n\n         // Cost of descending\n         var leftCost = 0;\n         var leftCombined = leafAABB.combine(left.bounds);\n         var newArea;\n         var oldArea;\n         if (left.isLeaf()) {\n            leftCost = leftCombined.getPerimeter() + inheritanceCost;\n         } else {\n            oldArea = left.bounds.getPerimeter();\n            newArea = leftCombined.getPerimeter();\n            leftCost = (newArea - oldArea) + inheritanceCost;\n         }\n\n         var rightCost = 0;\n         var rightCombined = leafAABB.combine(right.bounds);\n         if (right.isLeaf()) {\n            rightCost = rightCombined.getPerimeter() + inheritanceCost;\n         } else {\n            oldArea = right.bounds.getPerimeter();\n            newArea = rightCombined.getPerimeter();\n            rightCost = (newArea - oldArea) + inheritanceCost;\n         }\n\n         // cost is acceptable\n         if (cost < leftCost && cost < rightCost) {\n            break;\n         }\n\n         // Descend to the depths\n         if (leftCost < rightCost) {\n            currentRoot = left;\n         } else {\n            currentRoot = right;\n         }\n      }\n\n      // Create the new parent node and insert into the tree\n      var oldParent = currentRoot.parent;\n      var newParent = new TreeNode(oldParent);\n      newParent.bounds = leafAABB.combine(currentRoot.bounds);\n      newParent.height = currentRoot.height + 1;\n\n      if (oldParent !== null) {\n         // The sibling node was not the root\n         if (oldParent.left === currentRoot) {\n            oldParent.left = newParent;\n         } else {\n            oldParent.right = newParent;\n         }\n\n         newParent.left = currentRoot;\n         newParent.right = leaf;\n\n         currentRoot.parent = newParent;\n         leaf.parent = newParent;\n      } else {\n         // The sibling node was the root\n         newParent.left = currentRoot;\n         newParent.right = leaf;\n\n         currentRoot.parent = newParent;\n         leaf.parent = newParent;\n         this.root = newParent;\n      }\n\n      // Walk up the tree fixing heights and AABBs\n      var currentNode = leaf.parent;\n      while (currentNode) {\n         currentNode = this._balance(currentNode);\n\n         if (!currentNode.left) {\n            throw new Error('Parent of current leaf cannot have a null left child' + currentNode);\n         }\n         if (!currentNode.right) {\n            throw new Error('Parent of current leaf cannot have a null right child' + currentNode);\n         }\n\n         currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\n         currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\n\n         currentNode = currentNode.parent;\n      }\n   }\n\n   /**\n    * Removes a node from the dynamic tree\n    */\n   private _remove(leaf: TreeNode) {\n      if (leaf === this.root) {\n         this.root = null;\n         return;\n      }\n\n      var parent = leaf.parent;\n      var grandParent = parent.parent;\n      var sibling: TreeNode;\n      if (parent.left === leaf) {\n         sibling = parent.right;\n      } else {\n         sibling = parent.left;\n      }\n\n      if (grandParent) {\n         if (grandParent.left === parent) {\n            grandParent.left = sibling;\n         } else {\n            grandParent.right = sibling;\n         }\n         sibling.parent = grandParent;\n\n         var currentNode = grandParent;\n         while (currentNode) {\n            currentNode = this._balance(currentNode);\n            currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\n            currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\n\n            currentNode = currentNode.parent;\n         }\n\n      } else {\n         this.root = sibling;\n         sibling.parent = null;\n      }\n\n   }\n\n   /**\n    * Tracks a body in the dynamic tree\n    */\n   public trackBody(body: Body) {\n      var node = new TreeNode();\n      node.body = body;\n      node.bounds = body.getBounds();\n      node.bounds.left -= 2;\n      node.bounds.top -= 2;\n      node.bounds.right += 2;\n      node.bounds.bottom += 2;\n      this.nodes[body.actor.id] = node;\n      this._insert(node);\n   }\n\n   /**\n    * Updates the dynamic tree given the current bounds of each body being tracked\n    */\n   public updateBody(body: Body) {\n      var node = this.nodes[body.actor.id];\n      if (!node) { return false; }\n      var b = body.getBounds();\n\n      // if the body is outside the world no longer update it\n      if (!this.worldBounds.contains(b)) {\n         Logger.getInstance().warn('Actor with id ' + body.actor.id +\n            ' is outside the world bounds and will no longer be tracked for physics');\n         this.untrackBody(body);\n         return false;\n      }\n\n      if (node.bounds.contains(b)) {\n         return false;\n      }\n\n      this._remove(node);\n      b.left -= Physics.boundsPadding;\n      b.top -= Physics.boundsPadding;\n      b.right += Physics.boundsPadding;\n      b.bottom += Physics.boundsPadding;\n\n      var multdx = body.vel.x * Physics.dynamicTreeVelocityMultiplyer;\n      var multdy = body.vel.y * Physics.dynamicTreeVelocityMultiplyer;\n\n      if (multdx < 0) {\n         b.left += multdx;\n      } else {\n         b.right += multdx;\n      }\n\n      if (multdy < 0) {\n         b.top += multdy;\n      } else {\n         b.bottom += multdy;\n      }\n\n      node.bounds = b;\n      this._insert(node);\n      return true;\n   }\n\n   /**\n    * Untracks a body from the dynamic tree\n    */\n   public untrackBody(body: Body) {\n      var node = this.nodes[body.actor.id];\n      if (!node) { return; }\n      this._remove(node);\n      this.nodes[body.actor.id] = null;\n      delete this.nodes[body.actor.id];\n   }\n\n   /**\n    * Balances the tree about a node\n    */\n   private _balance(node: TreeNode) {\n      if (node === null) {\n         throw new Error('Cannot balance at null node');\n      }\n\n      if (node.isLeaf() || node.height < 2) {\n         return node;\n      }\n\n      var left = node.left;\n      var right = node.right;\n\n      var a = node;\n      var b = left;\n      var c = right;\n      var d = left.left;\n      var e = left.right;\n      var f = right.left;\n      var g = right.right;\n\n      var balance = c.height - b.height;\n      // Rotate c node up\n      if (balance > 1) {\n         // Swap the right node with it's parent\n         c.left = a;\n         c.parent = a.parent;\n         a.parent = c;\n\n         // The original node's old parent should point to the right node\n         // this is mega confusing\n         if (c.parent) {\n            if (c.parent.left === a) {\n               c.parent.left = c;\n            } else {\n               c.parent.right = c;\n            }\n         } else {\n            this.root = c;\n         }\n\n         // Rotate\n         if (f.height > g.height) {\n            c.right = f;\n            a.right = g;\n            g.parent = a;\n\n            a.bounds = b.bounds.combine(g.bounds);\n            c.bounds = a.bounds.combine(f.bounds);\n\n            a.height = 1 + Math.max(b.height, g.height);\n            c.height = 1 + Math.max(a.height, f.height);\n\n         } else {\n            c.right = g;\n            a.right = f;\n            f.parent = a;\n\n            a.bounds = b.bounds.combine(f.bounds);\n            c.bounds = a.bounds.combine(g.bounds);\n\n            a.height = 1 + Math.max(b.height, f.height);\n            c.height = 1 + Math.max(a.height, g.height);\n\n         }\n\n         return c;\n\n      }\n      // Rotate left node up\n      if (balance < -1) {\n\n         // swap\n         b.left = a;\n         b.parent = a.parent;\n         a.parent = b;\n\n         // node's old parent should point to b\n         if (b.parent) {\n            if (b.parent.left === a) {\n               b.parent.left = b;\n            } else {\n               if (b.parent.right !== a) { throw 'Error rotating Dynamic Tree'; }\n               b.parent.right = b;\n            }\n         } else {\n            this.root = b;\n         }\n\n         // rotate\n         if (d.height > e.height) {\n            b.right = d;\n            a.left = e;\n            e.parent = a;\n\n            a.bounds = c.bounds.combine(e.bounds);\n            b.bounds = a.bounds.combine(d.bounds);\n\n            a.height = 1 + Math.max(c.height, e.height);\n            b.height = 1 + Math.max(a.height, d.height);\n         } else {\n            b.right = e;\n            a.left = d;\n            d.parent = a;\n\n            a.bounds = c.bounds.combine(d.bounds);\n            b.bounds = a.bounds.combine(e.bounds);\n\n            a.height = 1 + Math.max(c.height, d.height);\n            b.height = 1 + Math.max(a.height, e.height);\n         }\n         return b;\n\n      }\n\n      return node;\n   }\n\n   /**\n    * Returns the internal height of the tree, shorter trees are better. Performance drops as the tree grows\n    */\n   public getHeight(): number {\n      if (this.root === null) {\n         return 0;\n      }\n      return this.root.height;\n   }\n\n   /**\n    * Queries the Dynamic Axis Aligned Tree for bodies that could be colliding with the provided body. \n    * \n    * In the query callback, it will be passed a potential collider. Returning true from this callback indicates\n    * that you are complete with your query and you do not want to continue. Returning false will continue searching\n    * the tree until all possible colliders have been returned.\n    */\n   public query(body: Body, callback: (other: Body) => boolean): void {\n      var bounds = body.getBounds();\n      var helper = (currentNode: TreeNode): boolean => {\n         if (currentNode && currentNode.bounds.collides(bounds)) {\n            if (currentNode.isLeaf() && currentNode.body !== body) {\n               if (callback.call(body, currentNode.body)) {\n                  return true;\n               }\n            } else {\n               return helper(currentNode.left) || helper(currentNode.right);\n            }\n         }\n         return false;\n      };\n      helper(this.root);\n   }\n\n   /**\n    * Queries the Dynamic Axis Aligned Tree for bodies that could be intersecting. By default the raycast query uses an infinitely\n    * long ray to test the tree specified by `max`.\n    * \n    * In the query callback, it will be passed a potential body that intersects with the racast. Returning true from this\n    * callback indicates that your are complete with your query and do not want to continue. Return false will continue searching\n    * the tree until all possible bodies that would intersect with the ray have been returned. \n    */\n   public rayCastQuery(ray: Ray, max: number = Infinity, callback: (other: Body) => boolean): void {\n      var helper = (currentNode: TreeNode): boolean => {\n         if (currentNode && currentNode.bounds.rayCast(ray, max)) {\n            if (currentNode.isLeaf()) {\n               if (callback.call(ray, currentNode.body)) {\n                  // ray hit a leaf! return the body\n                  return true;\n               }\n            } else {\n               // ray hit but not at a leaf, recurse deeper\n               return helper(currentNode.left) || helper(currentNode.right);\n            }\n         }\n         return false; // ray missed         \n      };\n      helper(this.root);\n   }\n\n\n   public getNodes(): TreeNode[] {\n      var helper = (currentNode: TreeNode): TreeNode[] => {\n         if (currentNode) {\n            return [currentNode].concat(helper(currentNode.left), helper(currentNode.right));\n         } else {\n            return [];\n         }\n      };\n      return helper(this.root);\n   }\n\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      // draw all the nodes in the Dynamic Tree\n      var helper = (currentNode: TreeNode) => {\n\n         if (currentNode) {\n            if (currentNode.isLeaf()) {\n               ctx.lineWidth = 1;\n               ctx.strokeStyle = 'green';\n            } else {\n               ctx.lineWidth = 1;\n               ctx.strokeStyle = 'white';\n            }\n            currentNode.bounds.debugDraw(ctx);\n\n            if (currentNode.left) { helper(currentNode.left); }\n            if (currentNode.right) { helper(currentNode.right); }\n         }\n      };\n\n      helper(this.root);\n   }\n}","import { Physics } from './../Physics';\nimport { ICollisionBroadphase } from './ICollisionResolver';\nimport { DynamicTree } from './DynamicTree';\nimport { Pair } from './Pair';\nimport { Body } from './Body';\n\nimport { Vector, Ray } from '../Algebra';\nimport { Actor, CollisionType } from '../Actor';\nimport { FrameStats } from '../Debug';\nimport { CollisionResolutionStrategy } from '../Physics';\nimport { Logger } from '../Util/Log';\nimport { CollisionStartEvent, CollisionEndEvent } from '../Events';\n\nexport class DynamicTreeCollisionBroadphase implements ICollisionBroadphase {\n   private _dynamicCollisionTree = new DynamicTree();\n   private _collisionHash: { [key: string]: boolean; } = {};\n   private _collisionPairCache: Pair[] = [];\n   private _lastFramePairs: Pair[] = [];\n   private _lastFramePairsHash: { [pairId: string]: Pair; } = {};\n\n   /**\n    * Tracks a physics body for collisions\n    */\n   public track(target: Body): void {\n      if (!target) {\n         Logger.getInstance().warn('Cannot track null physics body');\n         return;\n      }\n      this._dynamicCollisionTree.trackBody(target);\n   }\n\n   /**\n    * Untracks a physics body\n    */\n   public untrack(target: Body): void {\n      if (!target) {\n         Logger.getInstance().warn('Cannot untrack a null physics body');\n         return;\n      }\n      this._dynamicCollisionTree.untrackBody(target);\n   }\n\n   private _canCollide(actorA: Actor, actorB: Actor) {\n      // if the collision pair has been calculated already short circuit\n      var hash = Pair.calculatePairHash(actorA.body, actorB.body);\n      if (this._collisionHash[hash]) {\n         return false; // pair exists easy exit return false\n      }\n\n      // if both are fixed short circuit\n      if (actorA.collisionType === CollisionType.Fixed && actorB.collisionType === CollisionType.Fixed) {\n         return false;\n      }\n\n      // if the other is prevent collision or is dead short circuit\n      if (actorB.collisionType === CollisionType.PreventCollision || actorB.isKilled()) { return false; }\n\n      // they can collide\n      return true;\n   }\n\n   /**\n    * Detects potential collision pairs in a broadphase approach with the dynamic aabb tree strategy\n    */\n   public broadphase(targets: Actor[], delta: number, stats?: FrameStats): Pair[] {\n      var seconds = delta / 1000;\n      // TODO optimization use only the actors that are moving to start \n      // Retrieve the list of potential colliders, exclude killed, prevented, and self\n      var potentialColliders = targets.filter((other) => {\n         return !other.isKilled() && other.collisionType !== CollisionType.PreventCollision;\n      });\n\n      // clear old list of collision pairs\n      this._collisionPairCache = [];\n      this._collisionHash = {};\n\n      // check for normal collision pairs\n      var actor: Actor;\n      for (var j = 0, l = potentialColliders.length; j < l; j++) {\n         actor = potentialColliders[j];\n\n         // Query the collision tree for potential colliders\n         this._dynamicCollisionTree.query(actor.body, (other: Body) => {\n            if (this._canCollide(actor, other.actor)) {\n               var pair = new Pair(actor.body, other);\n               this._collisionHash[pair.id] = true;\n               this._collisionPairCache.push(pair);\n            }\n            // Always return false, to query whole tree. Returning true in the query method stops searching\n            return false;\n         });\n      }\n      if (stats) {\n         stats.physics.pairs = this._collisionPairCache.length;\n      }\n\n      // Check dynamic tree for fast moving objects\n      // Fast moving objects are those moving at least there smallest bound per frame\n      if (Physics.checkForFastBodies) {\n         for (var actor of potentialColliders) {\n            // Skip non-active objects. Does not make sense on other collison types\n            if (actor.collisionType !== CollisionType.Active) { continue; };\n\n            // Maximum travel distance next frame\n            var updateDistance = (actor.vel.magnitude() * seconds) + // velocity term \n               (actor.acc.magnitude() * .5 * seconds * seconds); // acc term\n\n            // Find the minimum dimension\n            var minDimension = Math.min(actor.body.getBounds().getHeight(), actor.body.getBounds().getWidth());\n            if (Physics.disableMinimumSpeedForFastBody || updateDistance > (minDimension / 2)) {\n               if (stats) {\n                  stats.physics.fastBodies++;\n               }\n\n               // start with the oldPos because the integration for actors has already happened\n               // objects resting on a surface may be slightly penatrating in the current position\n               var updateVec = actor.pos.sub(actor.oldPos);\n               var centerPoint = actor.body.collisionArea.getCenter();\n               var furthestPoint = actor.body.collisionArea.getFurthestPoint(actor.vel);\n               var origin: Vector = furthestPoint.sub(updateVec);\n\n               var ray: Ray = new Ray(origin, actor.vel);\n\n               // back the ray up by -2x surfaceEpsilon to account for fast moving objects starting on the surface \n               ray.pos = ray.pos.add(ray.dir.scale(-2 * Physics.surfaceEpsilon));\n               var minBody: Body;\n               var minTranslate: Vector = new Vector(Infinity, Infinity);\n               this._dynamicCollisionTree.rayCastQuery(ray, updateDistance + Physics.surfaceEpsilon * 2, (other: Body) => {\n                  if (actor.body !== other && other.collisionArea) {\n                     var hitPoint = other.collisionArea.rayCast(ray, updateDistance + Physics.surfaceEpsilon * 10);\n                     if (hitPoint) {\n                        var translate = hitPoint.sub(origin);\n                        if (translate.magnitude() < minTranslate.magnitude()) {\n                           minTranslate = translate;\n                           minBody = other;\n                        }\n                     }\n                  }\n                  return false;\n               });\n\n               if (minBody && Vector.isValid(minTranslate)) {\n                  var pair = new Pair(actor.body, minBody);\n                  if (!this._collisionHash[pair.id]) {\n                     this._collisionHash[pair.id] = true;\n                     this._collisionPairCache.push(pair);\n                  }\n                  // move the fast moving object to the other body\n                  // need to push into the surface by ex.Physics.surfaceEpsilon\n                  var shift = centerPoint.sub(furthestPoint);\n                  actor.pos = origin.add(shift).add(minTranslate).add(ray.dir.scale(2 * Physics.surfaceEpsilon));\n                  actor.body.collisionArea.recalc();\n\n                  if (stats) {\n                     stats.physics.fastBodyCollisions++;\n                  }\n               }\n            }\n         }\n      }\n      // return cache\n      return this._collisionPairCache;\n   }\n\n   /**\n    * Applies narrow phase on collision pairs to find actual area intersections\n    * Adds actual colliding pairs to stats' Frame data \n    */\n   public narrowphase(pairs: Pair[], stats?: FrameStats): Pair[] {\n      for (var i = 0; i < pairs.length; i++) {\n         pairs[i].collide();\n         if (stats && pairs[i].collision) {\n            stats.physics.collisions++;\n            stats.physics.collidersHash[pairs[i].id] = pairs[i];\n         }\n      }\n      return pairs.filter(p => p.collision);\n   }\n\n   /**\n    * Perform collision resolution given a strategy (rigid body or box) and move objects out of intersect. \n    */\n   public resolve(pairs: Pair[], delta: number, strategy: CollisionResolutionStrategy): Pair[] {\n      for (let pair of pairs) {\n         pair.resolve(strategy);\n\n         if (pair.collision) {\n            pair.bodyA.applyMtv();\n            pair.bodyB.applyMtv();\n            // todo still don't like this, this is a small integration step to resolve narrowphase collisions\n            pair.bodyA.actor.integrate(delta * Physics.collisionShift);\n            pair.bodyB.actor.integrate(delta * Physics.collisionShift);\n         }\n      }\n\n      return pairs.filter(p => p.canCollide);\n\n   }\n\n   public runCollisionStartEnd(pairs: Pair[]) {\n      let currentFrameHash: { [pairId: string]: Pair; } = {};\n\n      \n      for (let p of pairs) {\n         // load currentFrameHash\n         currentFrameHash[p.id] = p;\n\n         // find all new collisions\n         if (!this._lastFramePairsHash[p.id]) {\n            let actor1 = p.bodyA.actor;\n            let actor2 = p.bodyB.actor;\n            actor1.emit('collisionstart', new CollisionStartEvent(actor1, actor2, p));\n            actor2.emit('collisionstart', new CollisionStartEvent(actor2, actor1, p));\n         }\n      }\n\n      // find all old collisions\n      for (let p of this._lastFramePairs) {\n         if (!currentFrameHash[p.id]) {\n            let actor1 = p.bodyA.actor;\n            let actor2 = p.bodyB.actor;\n            actor1.emit('collisionend', new CollisionEndEvent(actor1, actor2));\n            actor2.emit('collisionend', new CollisionEndEvent(actor2, actor1));\n         }\n      }\n\n      // reset the last frame cache\n      this._lastFramePairs = pairs;\n      this._lastFramePairsHash = currentFrameHash;\n   }\n\n   /**\n    * Update the dynamic tree positions\n    */\n   public update(targets: Actor[]): number {\n      var updated = 0, i = 0, len = targets.length;\n\n      for (i; i < len; i++) {\n         if (this._dynamicCollisionTree.updateBody(targets[i].body)) {\n            updated++;\n         }\n      }\n      return updated;\n   }\n\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      if (Physics.broadphaseDebug) {\n         this._dynamicCollisionTree.debugDraw(ctx);\n      }\n\n      if (Physics.showContacts || Physics.showCollisionNormals) {\n         for (var pair of this._collisionPairCache) {\n            pair.debugDraw(ctx);\n         }\n      }\n   }\n}\n","/**\n * A sorted list implementation. NOTE: this implementation is not self-balancing\n */\nexport class SortedList<T> {\n\n   private _getComparable: Function;\n   private _root: BinaryTreeNode;\n\n   constructor(getComparable: () => any) {\n      this._getComparable = getComparable;\n   }\n\n   public find(element: any): boolean {\n      return this._find(this._root, element);\n   }\n\n   private _find(node: BinaryTreeNode, element: any): boolean {\n      if (node == null) {\n         return false;\n      } else if (this._getComparable.call(element) === node.getKey()) {\n         if (node.getData().indexOf(element) > -1) {\n            return true;\n         } else {\n            return false;\n         }\n      } else if (this._getComparable.call(element) < node.getKey()) {\n         return this._find(node.getLeft(), element);\n      } else {\n         return this._find(node.getRight(), element);\n      }\n   }\n\n   // returns the array of elements at a specific key value\n   public get(key: number): any[] {\n      return this._get(this._root, key);\n   }\n\n   private _get(node: BinaryTreeNode, key: number): any[] {\n      if (node == null) {\n         return [];\n      } else if (key === node.getKey()) {\n         return node.getData();\n      } else if (key < node.getKey()) {\n         return this._get(node.getLeft(), key);\n      } else {\n         return this._get(node.getRight(), key);\n      }\n   }\n\n   public add(element: any): boolean {\n      if (this._root == null) {\n         this._root = new BinaryTreeNode(this._getComparable.call(element), [element], null, null);\n         return true;\n      } else {\n         return this._insert(this._root, element);\n      }\n   }\n\n   private _insert(node: BinaryTreeNode, element: any): boolean {\n      if (node != null) {\n         if (this._getComparable.call(element) === node.getKey()) {\n            if (node.getData().indexOf(element) > -1) {\n               return false; // the element we're trying to insert already exists\n            } else {\n               node.getData().push(element);\n               return true;\n            }\n         } else if (this._getComparable.call(element) < node.getKey()) {\n            if (node.getLeft() == null) {\n               node.setLeft(new BinaryTreeNode(this._getComparable.call(element), [element], null, null));\n               return true;\n            } else {\n               return this._insert(node.getLeft(), element);\n            }\n         } else {\n            if (node.getRight() == null) {\n               node.setRight(new BinaryTreeNode(this._getComparable.call(element), [element], null, null));\n               return true;\n            } else {\n               return this._insert(node.getRight(), element);\n            }\n         }\n      }\n      return false;\n   }\n\n   public removeByComparable(element: any): void {\n      this._root = this._remove(this._root, element);\n   }\n\n   private _remove(node: BinaryTreeNode, element: any): BinaryTreeNode {\n      if (node == null) {\n         return null;\n      } else if (this._getComparable.call(element) === node.getKey()) {\n         var elementIndex = node.getData().indexOf(element);\n         // if the node contains the element, remove the element\n         if (elementIndex > -1) {\n            node.getData().splice(elementIndex, 1);\n            // if we have removed the last element at this node, remove the node\n            if (node.getData().length === 0) {\n               // if the node is a leaf\n               if (node.getLeft() == null && node.getRight() == null) {\n                  return null;\n               } else if (node.getLeft() == null) {\n                  return node.getRight();\n               } else if (node.getRight() == null) {\n                  return node.getLeft();\n               }\n               // if node has 2 children\n               var temp = this._findMinNode(node.getRight());\n               node.setKey(temp.getKey());\n               node.setData(temp.getData());\n               node.setRight(this._cleanup(node.getRight(), temp)); //\"cleanup nodes\" (move them up recursively)\n               return node;\n\n            } else {\n               // this prevents the node from being removed since it still contains elements\n               return node;\n            }\n         }\n      } else if (this._getComparable.call(element) < node.getKey()) {\n         node.setLeft(this._remove(node.getLeft(), element));\n         return node;\n      } else {\n         node.setRight(this._remove(node.getRight(), element));\n         return node;\n      }\n      return null;\n   }\n\n   // called once we have successfully removed the element we wanted, recursively corrects the part of the tree below the removed node\n   private _cleanup(node: BinaryTreeNode, element: BinaryTreeNode): BinaryTreeNode {\n      var comparable = element.getKey();\n      if (node == null) {\n         return null;\n      } else if (comparable === node.getKey()) {\n         // if the node is a leaf\n         if (node.getLeft() == null && node.getRight() == null) {\n            return null;\n         } else if (node.getLeft() == null) {\n            return node.getRight();\n         } else if (node.getRight() == null) {\n            return node.getLeft();\n         }\n         // if node has 2 children\n         var temp = this._findMinNode(node.getRight());\n         node.setKey(temp.getKey());\n         node.setData(temp.getData());\n\n         node.setRight(this._cleanup(node.getRight(), temp));\n         return node;\n      } else if (this._getComparable.call(element) < node.getKey()) {\n         node.setLeft(this._cleanup(node.getLeft(), element));\n         return node;\n      } else {\n         node.setRight(this._cleanup(node.getRight(), element));\n         return node;\n      }\n   }\n\n   private _findMinNode(node: BinaryTreeNode): BinaryTreeNode {\n      var current = node;\n      while (current.getLeft() != null) {\n         current = current.getLeft();\n      }\n      return current;\n   }\n\n   public list(): Array<T> {\n      var results = new Array<any>();\n      this._list(this._root, results);\n      return results;\n   }\n\n   private _list(treeNode: BinaryTreeNode, results: Array<T>): void {\n      if (treeNode != null) {\n         this._list(treeNode.getLeft(), results);\n         treeNode.getData().forEach(function (element) {\n            results.push(element);\n         });\n         this._list(treeNode.getRight(), results);\n      }\n   }\n\n}\n\n/**\n * A tree node part of [[SortedList]]\n */\nexport class BinaryTreeNode {\n   private _key: number;\n   private _data: Array<any>;\n   private _left: BinaryTreeNode;\n   private _right: BinaryTreeNode;\n\n   constructor(key: number, data: Array<any>, left: BinaryTreeNode, right: BinaryTreeNode) {\n      this._key = key;\n      this._data = data;\n      this._left = left;\n      this._right = right;\n   }\n\n   public getKey(): number {\n      return this._key;\n   }\n\n   public setKey(key: number) {\n      this._key = key;\n   }\n\n   public getData(): Array<any> {\n      return this._data;\n   }\n\n   public setData(data: any) {\n      this._data = data;\n   }\n\n   public getLeft(): BinaryTreeNode {\n      return this._left;\n   }\n\n   public setLeft(left: BinaryTreeNode) {\n      this._left = left;\n   }\n\n   public getRight(): BinaryTreeNode {\n      return this._right;\n   }\n\n   public setRight(right: BinaryTreeNode) {\n      this._right = right;\n   }\n}\n\n/**\n * Mock element for testing\n * \n * @internal\n */\nexport class MockedElement {\n   private _key: number = 0;\n\n   constructor(key: number) {\n      this._key = key;\n   }\n\n   public getTheKey() {\n      return this._key;\n   }\n\n   public setKey(key: number) {\n      this._key = key;\n   }\n}","import * as Actions from './Action';\nimport { RotationType } from './RotationType';\n\nimport { Actor } from '../Actor';\nimport { Promise } from '../Promises';\nimport { EasingFunction, EasingFunctions } from '../Util/EasingFunctions';\n\n/**\n * The fluent Action API allows you to perform \"actions\" on\n * [[Actor|Actors]] such as following, moving, rotating, and\n * more. You can implement your own actions by implementing\n * the [[IAction]] interface.\n *\n * [[include:Actions.md]]\n */\nexport class ActionContext {\n   private _actors: Actor[] = [];\n   private _queues: Actions.ActionQueue[] = [];\n\n   constructor();\n   constructor(actor: Actor);\n   constructor(actors: Actor[]);\n   constructor() {\n      if (arguments !== null) {\n         this._actors = Array.prototype.slice.call(arguments, 0);\n         this._queues = this._actors.map((a) => {\n            return a.actionQueue;\n         });\n      }\n   }\n\n   /**\n    * Clears all queued actions from the Actor\n    */\n   public clearActions(): void {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].clearActions();\n      }\n   }\n\n   public addActorToContext(actor: Actor) {\n      this._actors.push(actor);\n      // if we run into problems replace the line below with:\n      this._queues.push(actor.actionQueue);\n   }\n\n   public removeActorFromContext(actor: Actor) {\n      var index = this._actors.indexOf(actor);\n      if (index > -1) {\n         this._actors.splice(index, 1);\n         this._queues.splice(index, 1);\n      }\n   }\n   \n      /**\n       * This method will move an actor to the specified `x` and `y` position over the \n       * specified duration using a given [[EasingFunctions]] and return back the actor. This \n       * method is part of the actor 'Action' fluent API allowing action chaining.\n       * @param x         The x location to move the actor to\n       * @param y         The y location to move the actor to\n       * @param duration  The time it should take the actor to move to the new location in milliseconds\n       * @param easingFcn Use [[EasingFunctions]] or a custom function to use to calculate position\n       */\n   public easeTo(x: number,\n                  y: number,\n                  duration: number,\n                  easingFcn: EasingFunction = EasingFunctions.Linear) {\n\n      var i = 0, len = this._queues.length;\n      \n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.EaseTo(this._actors[i], x, y, duration, easingFcn));\n      }\n      \n      return this;       \n   }\n\n   /**\n    * This method will move an actor to the specified x and y position at the \n    * speed specified (in pixels per second) and return back the actor. This \n    * method is part of the actor 'Action' fluent API allowing action chaining.\n    * @param x      The x location to move the actor to\n    * @param y      The y location to move the actor to\n    * @param speed  The speed in pixels per second to move\n    */\n   public moveTo(x: number, y: number, speed: number): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.MoveTo(this._actors[i], x, y, speed));\n      }\n\n      return this;\n   }\n\n   /**\n    * This method will move an actor to the specified x and y position by a \n    * certain time (in milliseconds). This method is part of the actor \n    * 'Action' fluent API allowing action chaining.\n    * @param x     The x location to move the actor to\n    * @param y     The y location to move the actor to\n    * @param time  The time it should take the actor to move to the new location in milliseconds\n    */\n   public moveBy(x: number, y: number, time: number): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.MoveBy(this._actors[i], x, y, time));\n      }\n      return this;\n   }\n\n   /**\n    * This method will rotate an actor to the specified angle at the speed\n    * specified (in radians per second) and return back the actor. This \n    * method is part of the actor 'Action' fluent API allowing action chaining.\n    * @param angleRadians  The angle to rotate to in radians\n    * @param speed         The angular velocity of the rotation specified in radians per second\n    * @param rotationType  The [[RotationType]] to use for this rotation\n    */\n   public rotateTo(angleRadians: number, speed: number, rotationType?: RotationType): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n            this._queues[i].add(new Actions.RotateTo(this._actors[i], angleRadians, speed, rotationType));\n      }\n      return this;\n   }\n\n   /**\n    * This method will rotate an actor to the specified angle by a certain\n    * time (in milliseconds) and return back the actor. This method is part\n    * of the actor 'Action' fluent API allowing action chaining.\n    * @param angleRadians  The angle to rotate to in radians\n    * @param time          The time it should take the actor to complete the rotation in milliseconds\n    * @param rotationType  The [[RotationType]] to use for this rotation\n    */\n   public rotateBy(angleRadians: number, time: number, rotationType?: RotationType): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n            this._queues[i].add(new Actions.RotateBy(this._actors[i], angleRadians, time, rotationType));\n      }\n      return this;\n   }\n\n   /**\n    * This method will scale an actor to the specified size at the speed\n    * specified (in magnitude increase per second) and return back the \n    * actor. This method is part of the actor 'Action' fluent API allowing \n    * action chaining.\n    * @param sizeX   The scaling factor to apply on X axis\n    * @param sizeY   The scaling factor to apply on Y axis\n    * @param speedX  The speed of scaling specified in magnitude increase per second on X axis\n    * @param speedY  The speed of scaling specified in magnitude increase per second on Y axis\n    */\n   public scaleTo(sizeX: number, sizeY: number, speedX: number, speedY: number): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.ScaleTo(this._actors[i], sizeX, sizeY, speedX, speedY));\n      }\n      return this;\n   }\n\n   /**\n    * This method will scale an actor to the specified size by a certain time\n    * (in milliseconds) and return back the actor. This method is part of the\n    * actor 'Action' fluent API allowing action chaining.\n    * @param sizeX   The scaling factor to apply on X axis\n    * @param sizeY   The scaling factor to apply on Y axis\n    * @param time    The time it should take to complete the scaling in milliseconds\n    */\n   public scaleBy(sizeX: number, sizeY: number, time: number): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.ScaleBy(this._actors[i], sizeX, sizeY, time));\n      }\n      return this;\n   }\n\n   /**\n    * This method will cause an actor to blink (become visible and not \n    * visible). Optionally, you may specify the number of blinks. Specify the amount of time \n    * the actor should be visible per blink, and the amount of time not visible.\n    * This method is part of the actor 'Action' fluent API allowing action chaining.\n    * @param timeVisible     The amount of time to stay visible per blink in milliseconds\n    * @param timeNotVisible  The amount of time to stay not visible per blink in milliseconds\n    * @param numBlinks       The number of times to blink\n    */\n   public blink(timeVisible: number, timeNotVisible: number, numBlinks: number = 1): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.Blink(this._actors[i], timeVisible, timeNotVisible, numBlinks));\n      }\n      return this;\n   }\n\n   /**\n    * This method will cause an actor's opacity to change from its current value\n    * to the provided value by a specified time (in milliseconds). This method is\n    * part of the actor 'Action' fluent API allowing action chaining.\n    * @param opacity  The ending opacity\n    * @param time     The time it should take to fade the actor (in milliseconds)\n    */\n   public fade(opacity: number, time: number): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.Fade(this._actors[i], opacity, time));\n      }\n      return this;\n   }\n\n   /**\n    * This method will delay the next action from executing for a certain \n    * amount of time (in milliseconds). This method is part of the actor \n    * 'Action' fluent API allowing action chaining.\n    * @param time  The amount of time to delay the next action in the queue from executing in milliseconds\n    */\n   public delay(time: number): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.Delay(this._actors[i], time));\n      }\n      return this;\n   }\n\n   /**\n    * This method will add an action to the queue that will remove the actor from the \n    * scene once it has completed its previous actions. Any actions on the\n    * action queue after this action will not be executed.\n    */\n   public die(): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.Die(this._actors[i]));\n      }\n      return this;\n   }\n\n   /**\n    * This method allows you to call an arbitrary method as the next action in the\n    * action queue. This is useful if you want to execute code in after a specific\n    * action, i.e An actor arrives at a destination after traversing a path\n    */\n   public callMethod(method: () => any): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.CallMethod(this._actors[i], method));\n      }\n      return this;\n   }\n\n   /**\n    * This method will cause the actor to repeat all of the previously \n    * called actions a certain number of times. If the number of repeats \n    * is not specified it will repeat forever. This method is part of \n    * the actor 'Action' fluent API allowing action chaining\n    * @param times  The number of times to repeat all the previous actions in the action queue. If nothing is specified the actions \n    * will repeat forever\n    */\n   public repeat(times?: number): ActionContext {\n      if (!times) {\n         this.repeatForever();\n         return this;\n      }\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.Repeat(this._actors[i], times, this._actors[i].actionQueue.getActions()));\n      }\n\n      return this;\n   }\n\n   /**\n    * This method will cause the actor to repeat all of the previously \n    * called actions forever. This method is part of the actor 'Action'\n    * fluent API allowing action chaining.\n    */\n   public repeatForever(): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         this._queues[i].add(new Actions.RepeatForever(this._actors[i], this._actors[i].actionQueue.getActions()));\n      }\n      return this;\n   }\n\n   /**\n    * This method will cause the actor to follow another at a specified distance\n    * @param actor           The actor to follow\n    * @param followDistance  The distance to maintain when following, if not specified the actor will follow at the current distance.\n    */\n   public follow(actor: Actor, followDistance?: number): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         if (followDistance === undefined) {\n            this._queues[i].add(new Actions.Follow(this._actors[i], actor));\n         } else {\n            this._queues[i].add(new Actions.Follow(this._actors[i], actor, followDistance));\n         }\n      }\n      return this;\n   }\n\n   /**\n    * This method will cause the actor to move towards another until they \n    * collide \"meet\" at a specified speed.\n    * @param actor  The actor to meet\n    * @param speed  The speed in pixels per second to move, if not specified it will match the speed of the other actor\n    */\n   public meet(actor: Actor, speed?: number): ActionContext {\n      var i = 0, len = this._queues.length;\n      for (i; i < len; i++) {\n         if (speed === undefined) {\n            this._queues[i].add(new Actions.Meet(this._actors[i], actor));\n         } else {\n            this._queues[i].add(new Actions.Meet(this._actors[i], actor, speed));\n         }\n      }\n      return this;\n   }\n\n\n   /**\n    * Returns a promise that resolves when the current action queue up to now\n    * is finished.\n    */\n   public asPromise<T>(): Promise<T> {\n      var promises = this._queues.map((q, i) => {\n         var temp = new Promise<T>();\n         q.add(new Actions.CallMethod(this._actors[i], () => {\n            temp.resolve();\n         }));\n         return temp;\n      });\n      return Promise.join.apply(this, promises);\n   }\n\n}","import { GameEvent, SubscribeEvent, UnsubscribeEvent } from './Events';\nimport { IEvented } from './Interfaces/IEvented';\n\n\n/**\n * Excalibur's internal event dispatcher implementation. \n * Callbacks are fired immediately after an event is published.\n * Typically you will use [[Class.eventDispatcher]] since most classes in\n * Excalibur inherit from [[Class]]. You will rarely create an `EventDispatcher`\n * yourself.\n *\n * [[include:Events.md]]\n */\nexport class EventDispatcher implements IEvented {\n   private _handlers: { [key: string]: { (event?: GameEvent<any>): void }[]; } = {};\n   private _wiredEventDispatchers: EventDispatcher[] = [];\n\n   private _target: any;\n\n   /**\n    * @param target  The object that will be the recipient of events from this event dispatcher\n    */\n   constructor(target: any) {\n      this._target = target;\n   }\n\n   /**\n    * Emits an event for target\n    * @param eventName  The name of the event to publish\n    * @param event      Optionally pass an event data object to the handler\n    */\n   public emit(eventName: string, event?: GameEvent<any>) {\n      if (!eventName) {\n         // key not mapped\n         return;\n      }\n      eventName = eventName.toLowerCase();\n      var target = this._target;\n      if (!event) {\n         event = new GameEvent();\n      }\n      event.target = target;\n\n      var i: number, len: number;\n\n      if (this._handlers[eventName]) {\n         i = 0;\n         len = this._handlers[eventName].length;\n\n         for (i; i < len; i++) {\n            this._handlers[eventName][i].call(target, event);\n         }\n      }\n\n      i = 0;\n      len = this._wiredEventDispatchers.length;\n\n      for (i; i < len; i++) {\n         this._wiredEventDispatchers[i].emit(eventName, event);\n      }\n   }\n\n   /**\n    * Subscribe an event handler to a particular event name, multiple handlers per event name are allowed.\n    * @param eventName  The name of the event to subscribe to\n    * @param handler    The handler callback to fire on this event\n    */\n   public on(eventName: string, handler: (event?: GameEvent<any>) => void) {\n      eventName = eventName.toLowerCase();\n      if (!this._handlers[eventName]) {\n         this._handlers[eventName] = [];\n      }\n      this._handlers[eventName].push(handler);\n\n      // meta event handlers\n      if (eventName !== 'unsubscribe' && eventName !== 'subscribe') {\n         this.emit('subscribe', new SubscribeEvent(eventName, handler));\n      }\n   }\n\n   /**\n    * Unsubscribe an event handler(s) from an event. If a specific handler\n    * is specified for an event, only that handler will be unsubscribed. \n    * Otherwise all handlers will be unsubscribed for that event.\n    *\n    * @param eventName  The name of the event to unsubscribe\n    * @param handler    Optionally the specific handler to unsubscribe\n    *\n    */\n   public off(eventName: string, handler?: (event?: GameEvent<any>) => void) {\n      eventName = eventName.toLowerCase();\n      var eventHandlers = this._handlers[eventName];\n\n      if (eventHandlers) {\n         // if no explicit handler is give with the event name clear all handlers\n         if (!handler) {\n            this._handlers[eventName].length = 0;\n         } else {\n            var index = eventHandlers.indexOf(handler);\n            this._handlers[eventName].splice(index, 1);\n         }\n      }\n      // meta event handlers\n      if (eventName !== 'unsubscribe' && eventName !== 'subscribe') {\n         this.emit('unsubscribe', new UnsubscribeEvent(eventName, handler));\n      }\n   }\n\n   /**\n    * Once listens to an event one time, then unsubscribes from that event\n    *\n    * @param eventName The name of the event to subscribe to once\n    * @param handler   The handler of the event that will be auto unsubscribed\n    */\n   public once(eventName: string, handler: (event?: GameEvent<any>) => void) {\n\n      let metaHandler = (event?: GameEvent<any>) => {\n         let ev = event || new GameEvent();\n         ev.target = ev.target || this._target;\n\n         this.off(eventName, handler);\n         handler.call(ev.target, ev);\n      };\n\n      this.on(eventName, metaHandler);\n   }\n\n   /**\n    * Wires this event dispatcher to also recieve events from another\n    */\n   public wire(eventDispatcher: EventDispatcher): void {\n      eventDispatcher._wiredEventDispatchers.push(this);\n   }\n\n   /**\n    * Unwires this event dispatcher from another\n    */\n   public unwire(eventDispatcher: EventDispatcher): void {\n      var index = eventDispatcher._wiredEventDispatchers.indexOf(this);\n      if (index > -1) {\n         eventDispatcher._wiredEventDispatchers.splice(index, 1);\n      }\n\n   }\n\n}","import { GameEvent } from './Events';\nimport { EventDispatcher } from './EventDispatcher';\nimport { IEvented } from './Interfaces/IEvented';\n\n/**\n * Excalibur base class that provides basic functionality such as [[EventDispatcher]]\n * and extending abilities for vanilla Javascript projects\n */\nexport class Class implements IEvented {\n\n   /**\n    * Direct access to the game object event dispatcher.\n    */\n   public eventDispatcher: EventDispatcher;\n\n   constructor() {\n      this.eventDispatcher = new EventDispatcher(this);\n   }\n\n   /**\n    * Alias for `addEventListener`. You can listen for a variety of\n    * events off of the engine; see the events section below for a complete list.\n    * @param eventName  Name of the event to listen for\n    * @param handler    Event handler for the thrown event\n    */\n   public on(eventName: string, handler: (event?: GameEvent<any>) => void) {\n      this.eventDispatcher.on(eventName, handler);\n   }\n\n   /**\n    * Alias for `removeEventListener`. If only the eventName is specified\n    * it will remove all handlers registered for that specific event. If the eventName\n    * and the handler instance are specified only that handler will be removed.\n    *\n    * @param eventName  Name of the event to listen for\n    * @param handler    Event handler for the thrown event\n    */\n   public off(eventName: string, handler?: (event?: GameEvent<any>) => void) {\n      this.eventDispatcher.off(eventName, handler);\n   }\n\n   /**\n    * Emits a new event\n    * @param eventName   Name of the event to emit\n    * @param eventObject Data associated with this event\n    */\n   public emit(eventName: string, eventObject?: GameEvent<any>) {\n      this.eventDispatcher.emit(eventName, eventObject);\n   }\n\n   /**\n    * Once listens to an event one time, then unsubscribes from that event\n    *\n    * @param eventName The name of the event to subscribe to once\n    * @param handler   The handler of the event that will be auto unsubscribed\n    */\n   public once(eventName: string, handler: (event?: GameEvent<any>) => void) {\n      this.eventDispatcher.once(eventName, handler);\n   }\n\n\n   /**\n    * You may wish to extend native Excalibur functionality in vanilla Javascript. \n    * Any method on a class inheriting [[Class]] may be extended to support \n    * additional functionality. In the example below we create a new type called `MyActor`.\n    * \n    *\n    * ```js\n    * var MyActor = Actor.extend({\n    *\n    *    constructor: function() { \n    *       this.newprop = 'something';\n    *       Actor.apply(this, arguments);\n    *    },\n    *\n    *    update: function(engine, delta) {\n    *       // Implement custom update \n    *       // Call super constructor update\n    *       Actor.prototype.update.call(this, engine, delta);\n    *\n    *       console.log(\"Something cool!\");\n    *    }\n    * });\n    * \n    * var myActor = new MyActor(100, 100, 100, 100, Color.Azure);\n    * ```\n    *\n    * In TypeScript, you only need to use the `extends` syntax, you do not need\n    * to use this method of extension.\n    *\n    * @param methods A JSON object contain any methods/properties you want to extend\n    */\n   public static extend(methods: any): any {\n      var parent: any = this;\n      var child: any;\n\n      if (methods && methods.hasOwnProperty('constructor')) {\n         child = methods.constructor;\n      } else {\n         child = function (this: any) { return parent.apply(this, arguments); };\n      }\n\n      // Using constructor allows JS to lazily instantiate super classes\n      var Super: any = function (this: any) { this.constructor = child; };\n      Super.prototype = parent.prototype;\n      child.prototype = new Super;\n\n      if (methods) {\n         for (var prop in methods) {\n            if (methods.hasOwnProperty(prop)) {\n               child.prototype[prop] = methods[prop];\n            }\n         }\n      }\n\n      // Make subclasses extendable\n      child.extend = Class.extend;\n\n      return child;\n   }\n}","import { BoundingBox } from './Collision/BoundingBox';\nimport { GameEvent } from './Events';\nimport { Vector } from './Algebra';\nimport { Scene } from './Scene';\nimport { ActionContext } from './Actions/ActionContext';\nimport { Actor } from './Actor';\nimport { Logger } from './Util/Log';\nimport { IEvented } from './Interfaces/IEvented';\nimport { IActionable } from './Actions/IActionable';\nimport { Class } from './Class';\n\n\n/**\n * Groups are used for logically grouping Actors so they can be acted upon\n * in bulk.\n *\n * [[include:Groups.md]]\n */\nexport class Group extends Class implements IActionable, IEvented {\n\n   private _logger: Logger = Logger.getInstance();\n   private _members: Actor[] = [];\n\n   public actions: ActionContext = new ActionContext();\n\n\n   constructor(public name: string, public scene: Scene) {\n      super();\n      if (scene == null) {\n         this._logger.error('Invalid constructor arguments passed to Group: ', name, ', scene must not be null!');\n      } else {\n         var existingGroup = scene.groups[name];\n         if (existingGroup) {\n            this._logger.warn('Group with name', name, 'already exists. This new group will replace it.');\n         }\n         scene.groups[name] = this;\n      }\n   }\n\n   public add(actor: Actor): void;\n   public add(actors: Actor[]): void;\n   public add(actorOrActors: any): void {\n      if (actorOrActors instanceof Actor) {\n         actorOrActors = [].concat(actorOrActors);\n      }\n\n      var i = 0, len = actorOrActors.length, groupIdx: number;\n\n      for (i; i < len; i++) {\n         groupIdx = this.getMembers().indexOf(actorOrActors[i]);\n         if (groupIdx === -1) {\n            this._members.push(actorOrActors[i]);\n            this.scene.add(actorOrActors[i]);\n            this.actions.addActorToContext(actorOrActors[i]);\n            this.eventDispatcher.wire(actorOrActors[i].eventDispatcher);\n         }\n      }\n   }\n\n   public remove(actor: Actor): void {\n      var index = this._members.indexOf(actor);\n      if (index > -1) {\n         this._members.splice(index, 1);\n         this.actions.removeActorFromContext(actor);\n         this.eventDispatcher.unwire(actor.eventDispatcher);\n      }\n   }\n\n   public move(vector: Vector): void;\n   public move(dx: number, dy: number): void;\n   public move(args: Vector | number): void {\n      var i = 0, members = this.getMembers(), len = members.length;\n\n      if (arguments.length === 1 && args instanceof Vector) {\n         for (i; i < len; i++) {\n            members[i].pos.x += args.x;\n            members[i].pos.y += args.y;\n         }\n      } else if (typeof arguments[0] === 'number' && typeof arguments[1] === 'number') {\n         var x = arguments[0];\n         var y = arguments[1];\n\n         for (i; i < len; i++) {\n            members[i].pos.x += x;\n            members[i].pos.y += y;\n         }\n      } else {\n         this._logger.error('Invalid arguments passed to group move', this.name, 'args:', arguments);\n      }\n\n   }\n\n   public rotate(angle: number): void {\n      if (typeof angle !== 'number') {\n         this._logger.error('Invalid arguments passed to group rotate', this.name, 'args:', arguments);\n         return;\n      }\n\n      for (let member of this.getMembers()) {\n         member.rotation += angle;\n      }\n   }\n\n\n   public on(eventName: string, handler: (event?: GameEvent<any>) => void) {\n      this.eventDispatcher.on(eventName, handler);\n   }\n\n   public off(eventName: string, handler?: (event?: GameEvent<any>) => void) {\n      this.eventDispatcher.off(eventName, handler);\n   }\n\n   public emit(topic: string, event?: GameEvent<any>) {\n      this.eventDispatcher.emit(topic, event);\n   }\n\n   public contains(actor: Actor): boolean {\n      return this.getMembers().indexOf(actor) > -1;\n   }\n\n   public getMembers(): Actor[] {\n      return this._members;\n   }\n\n   public getRandomMember(): Actor {\n      return this._members[Math.floor(Math.random() * this._members.length)];\n   }\n\n   public getBounds(): BoundingBox {\n      return this.getMembers().map(a => a.getBounds()).reduce((prev: BoundingBox, curr: BoundingBox) => {\n         return prev.combine(curr);\n      });\n   }\n\n}","/**\n * These effects can be applied to any bitmap image but are mainly used\n * for [[Sprite]] effects or [[Animation]] effects.\n *\n * [[include:SpriteEffects.md]]\n */\n\n/**\n * @typedoc\n */\n\nimport { Color } from './Color';\n\n/**\n * The interface that all sprite effects must implement\n */\nexport interface ISpriteEffect {\n   /**\n    * Should update individual pixels values\n    * @param x          The pixel's x coordinate\n    * @param y          The pixel's y coordinate\n    * @param imageData  The sprite's raw pixel data\n    */\n   updatePixel(x: number, y: number, imageData: ImageData): void;\n}\n\n/**\n * Applies the \"Grayscale\" effect to a sprite, removing color information.\n */\nexport class Grayscale implements ISpriteEffect {\n   updatePixel(x: number, y: number, imageData: ImageData): void {\n      var firstPixel = (x + y * imageData.width) * 4;\n      var pixel = imageData.data;\n      var avg = (pixel[firstPixel + 0] + pixel[firstPixel + 1] + pixel[firstPixel + 2]) / 3;\n      pixel[firstPixel + 0] = avg;\n      pixel[firstPixel + 1] = avg;\n      pixel[firstPixel + 2] = avg;\n   }\n}\n\n/**\n * Applies the \"Invert\" effect to a sprite, inverting the pixel colors.\n */\nexport class Invert implements ISpriteEffect {\n   updatePixel(x: number, y: number, imageData: ImageData): void {\n      var firstPixel = (x + y * imageData.width) * 4;\n      var pixel = imageData.data;\n      pixel[firstPixel + 0] = 255 - pixel[firstPixel + 0];\n      pixel[firstPixel + 1] = 255 - pixel[firstPixel + 1];\n      pixel[firstPixel + 2] = 255 - pixel[firstPixel + 2];\n   }\n}\n\n/**\n * Applies the \"Opacity\" effect to a sprite, setting the alpha of all pixels to a given value.\n */\nexport class Opacity implements ISpriteEffect {\n\n   /**\n    * @param opacity  The new opacity of the sprite from 0-1.0 \n    */\n   constructor(public opacity: number) {}\n   updatePixel(x: number, y: number, imageData: ImageData): void {\n      var firstPixel = (x + y * imageData.width) * 4;\n      var pixel = imageData.data;\n      if (pixel[firstPixel + 3] !== 0) {\n         pixel[firstPixel + 3] = Math.round(this.opacity * pixel[firstPixel + 3]);\n      }\n   }\n}\n\n/**\n * Applies the \"Colorize\" effect to a sprite, changing the color channels of all the pixels to an \n * average of the original color and the provided color\n */\nexport class Colorize implements ISpriteEffect {\n   /**\n    * @param color  The color to apply to the sprite\n    */\n   constructor(public color: Color) {}\n   updatePixel(x: number, y: number, imageData: ImageData): void {\n      var firstPixel = (x + y * imageData.width) * 4;\n      var pixel = imageData.data;\n      if (pixel[firstPixel + 3] !== 0) {\n         pixel[firstPixel + 0] = (pixel[firstPixel + 0] + this.color.r) / 2;\n         pixel[firstPixel + 1] = (pixel[firstPixel + 1] + this.color.g) / 2;\n         pixel[firstPixel + 2] = (pixel[firstPixel + 2] + this.color.b) / 2;\n      }\n   }\n}\n\n\n/**\n * Applies the \"Lighten\" effect to a sprite, changes the lightness of the color according to HSL\n */\nexport class Lighten implements ISpriteEffect {\n   /**\n    * @param factor  The factor of the effect between 0-1\n    */\n   constructor(public factor: number = 0.1) { }\n   updatePixel(x: number, y: number, imageData: ImageData): void {\n      var firstPixel = (x + y * imageData.width) * 4;\n      var pixel = imageData.data;\n      var color = Color.fromRGB(pixel[firstPixel + 0], \n                                 pixel[firstPixel + 1], \n                                 pixel[firstPixel + 2], \n                                 pixel[firstPixel + 3]).lighten(this.factor);\n      pixel[firstPixel + 0] = color.r;\n      pixel[firstPixel + 1] = color.g;\n      pixel[firstPixel + 2] = color.b;\n      pixel[firstPixel + 3] = color.a;\n   }\n}\n\n/**\n * Applies the \"Darken\" effect to a sprite, changes the darkness of the color according to HSL\n */\nexport class Darken implements ISpriteEffect {\n   /**\n    * @param factor  The factor of the effect between 0-1\n    */\n   constructor(public factor: number = 0.1) { }\n   updatePixel(x: number, y: number, imageData: ImageData): void {\n      var firstPixel = (x + y * imageData.width) * 4;\n      var pixel = imageData.data;\n      var color = Color.fromRGB(pixel[firstPixel + 0], \n                                 pixel[firstPixel + 1], \n                                 pixel[firstPixel + 2], \n                                 pixel[firstPixel + 3]).darken(this.factor);\n      pixel[firstPixel + 0] = color.r;\n      pixel[firstPixel + 1] = color.g;\n      pixel[firstPixel + 2] = color.b;\n      pixel[firstPixel + 3] = color.a;\n   }\n}\n\n/**\n * Applies the \"Saturate\" effect to a sprite, saturates the color according to HSL\n */\nexport class Saturate implements ISpriteEffect {\n   /**\n    * @param factor  The factor of the effect between 0-1\n    */\n   constructor(public factor: number = 0.1) { }\n   updatePixel(x: number, y: number, imageData: ImageData): void {\n      var firstPixel = (x + y * imageData.width) * 4;\n      var pixel = imageData.data;\n      var color = Color.fromRGB(pixel[firstPixel + 0], \n                                 pixel[firstPixel + 1], \n                                 pixel[firstPixel + 2], \n                                 pixel[firstPixel + 3]).saturate(this.factor);\n      pixel[firstPixel + 0] = color.r;\n      pixel[firstPixel + 1] = color.g;\n      pixel[firstPixel + 2] = color.b;\n      pixel[firstPixel + 3] = color.a;\n   }\n}\n\n/**\n * Applies the \"Desaturate\" effect to a sprite, desaturates the color according to HSL\n */\nexport class Desaturate implements ISpriteEffect {\n   /**\n    * @param factor  The factor of the effect between 0-1\n    */\n   constructor(public factor: number = 0.1) { }\n   updatePixel(x: number, y: number, imageData: ImageData): void {\n      var firstPixel = (x + y * imageData.width) * 4;\n      var pixel = imageData.data;\n      var color = Color.fromRGB(pixel[firstPixel + 0], \n                                 pixel[firstPixel + 1], \n                                 pixel[firstPixel + 2],\n                                 pixel[firstPixel + 3]).desaturate(this.factor);\n      pixel[firstPixel + 0] = color.r;\n      pixel[firstPixel + 1] = color.g;\n      pixel[firstPixel + 2] = color.b;\n      pixel[firstPixel + 3] = color.a;\n   }\n}\n\n/**\n * Applies the \"Fill\" effect to a sprite, changing the color channels of all non-transparent pixels to match\n * a given color\n */\nexport class Fill implements ISpriteEffect {\n\n   /**\n    * @param color  The color to apply to the sprite\n    */\n   constructor(public color: Color) {}\n   updatePixel(x: number, y: number, imageData: ImageData): void {\n      var firstPixel = (x + y * imageData.width) * 4;\n      var pixel = imageData.data;\n      if (pixel[firstPixel + 3] !== 0) {\n         pixel[firstPixel + 0] = this.color.r;\n         pixel[firstPixel + 1] = this.color.g;\n         pixel[firstPixel + 2] = this.color.b;\n      }\n   }\n}\n   ","import { ILoadable } from '../Interfaces/ILoadable';\nimport { Class } from '../Class';\nimport { Engine } from '../Engine';\nimport { Promise } from '../Promises';\nimport { Logger } from '../Util/Log';\n\n/**\n * The [[Resource]] type allows games built in Excalibur to load generic resources.\n * For any type of remote resource it is recommended to use [[Resource]] for preloading.\n *\n * [[include:Resources.md]]\n */\nexport class Resource<T> extends Class implements ILoadable {\n   public data: T = null;\n   public logger: Logger = Logger.getInstance();\n\n   /**\n    * @param path          Path to the remote resource\n    * @param responseType  The type to expect as a response: \"\" | \"arraybuffer\" | \"blob\" | \"document\" | \"json\" | \"text\";\n    * @param bustCache     Whether or not to cache-bust requests\n    */\n   constructor(public path: string, \n               public responseType: '' | 'arraybuffer' | 'blob' | 'document' | 'json' | 'text', \n               public bustCache: boolean = true) {\n         super();\n   }\n\n   /**\n    * Returns true if the Resource is completely loaded and is ready\n    * to be drawn.\n    */\n   public isLoaded(): boolean {\n      return this.data !== null;\n   }\n\n   public wireEngine(_engine: Engine) { \n      // override me\n   }\n\n   private _cacheBust(uri: string): string {\n      var query: RegExp = /\\?\\w*=\\w*/;\n      if (query.test(uri)) {\n         uri += ('&__=' + Date.now());\n      } else {\n         uri += ('?__=' + Date.now());\n      }\n      return uri;\n   }\n\n   private _start() {\n      this.logger.debug('Started loading resource ' + this.path);\n   }\n\n   /**\n    * Begin loading the resource and returns a promise to be resolved on completion\n    */\n   public load(): Promise<T> {\n      var complete = new Promise<T>();\n      \n      // Exit early if we already have data\n      if (this.data !== null) {\n         this.logger.debug('Already have data for resource', this.path);\n         complete.resolve(this.data);\n         this.oncomplete();\n         return complete;\n      }\n      \n      var request = new XMLHttpRequest();\n      request.open('GET', this.bustCache ? this._cacheBust(this.path) : this.path, true);\n      request.responseType = this.responseType;\n      request.onloadstart = () => { this._start(); };\n      request.onprogress = this.onprogress;\n      request.onerror = this.onerror;\n      request.onload = () => {\n\n         // XHR on file:// success status is 0, such as with PhantomJS\n         if (request.status !== 0 && request.status !== 200) {\n            this.logger.error('Failed to load resource ', this.path, ' server responded with error code', request.status);\n            this.onerror(request.response);\n            complete.resolve(request.response);\n            return;\n         }\n\n         this.data = this.processData(request.response);\n\n         this.oncomplete();\n         this.logger.debug('Completed loading resource', this.path);\n         complete.resolve(this.data);\n      };\n      request.send();\n\n      return complete;\n   }\n\n\n   /**\n    * Returns the loaded data once the resource is loaded\n    */\n   public getData(): any {\n      return this.data;\n   }\n   \n   /**\n    * Sets the data for this resource directly\n    */\n   public setData(data: any) {\n      this.data = this.processData(data);         \n   }\n\n   /**\n    * This method is meant to be overriden to handle any additional\n    * processing. Such as decoding downloaded audio bits.\n    */\n   public processData(data: T): any {\n\n      // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType\n      // Blob requires an object url\n      if (this.responseType === 'blob') {\n         return URL.createObjectURL(data);\n      }\n      return data;\n   }\n\n   public onprogress: (e: any) => void = () => { return; };\n\n   public oncomplete: () => void = () => { return; };\n\n   public onerror: (e: any) => void = () => { return; };\n}","import { Resource } from './Resource';\nimport { Promise } from '../Promises';\nimport { Sprite } from '../Drawing/Sprite';\n\n/**\n * The [[Texture]] object allows games built in Excalibur to load image resources.\n * [[Texture]] is an [[ILoadable]] which means it can be passed to a [[Loader]]\n * to pre-load before starting a level or game.\n *\n * [[include:Textures.md]]\n */\nexport class Texture extends Resource<HTMLImageElement> {\n\n   /**\n    * The width of the texture in pixels\n    */\n   public width: number;\n\n   /**\n    * The height of the texture in pixels\n    */\n   public height: number;\n\n   /**\n    * A [[Promise]] that resolves when the Texture is loaded.\n    */\n   public loaded: Promise<any> = new Promise<any>();\n\n   private _isLoaded: boolean = false;\n   private _sprite: Sprite = null;\n\n   /**\n    * Populated once loading is complete\n    */\n   public image: HTMLImageElement;\n\n   /**\n    * @param path       Path to the image resource\n    * @param bustCache  Optionally load texture with cache busting\n    */\n   constructor(public path: string, public bustCache = true) {\n      super(path, 'blob', bustCache);\n      this._sprite = new Sprite(this, 0, 0, 0, 0);\n   }\n   \n\n   /**\n    * Returns true if the Texture is completely loaded and is ready\n    * to be drawn.\n    */\n   public isLoaded(): boolean {\n      return this._isLoaded;\n   }\n\n   /**\n    * Begins loading the texture and returns a promise to be resolved on completion\n    */\n   public load(): Promise<HTMLImageElement> {\n      var complete = new Promise<HTMLImageElement>();\n\n      var loaded = super.load();\n      loaded.then(() => {\n         this.image = new Image();\n         this.image.addEventListener('load', () => {\n            this._isLoaded = true;\n            this.width = this._sprite.width = this.image.naturalWidth;\n            this.height = this._sprite.height = this.image.naturalHeight;\n            this.loaded.resolve(this.image);\n            complete.resolve(this.image);\n         });\n         this.image.src = super.getData();            \n         \n\n      }, () => {\n         complete.reject('Error loading texture.');\n      });\n      return complete;\n   }\n\n   public asSprite(): Sprite {\n      return this._sprite;\n   }\n\n}","export type Constructor<T> = {\n   new(...args: any[]): T;\n}\nexport function Configurable<T extends Constructor<{}>>(base: T): T {\n   return class extends base {\n      public assign(props: Partial<T>) {\n\n         //set the value of every property that was passed in,\n         //if the constructor previously set this value, it will be overridden here\n         for (var k in props) {\n            if (typeof (<any>this)[k] !== 'function') {\n               (<any>this)[k] = (<any>props)[k];\n            }\n         }\n      }\n\n      constructor(...args: any[]) {\n         super(...args);\n         //get the number of arguments that aren't undefined. TS passes a value to all parameters\n         //of whatever ctor is the implementation, so args.length doesn't work here.\n         var size = args.filter(function (value) { return value !== undefined; }).length;\n         if (size === 1 && args[0] && typeof args[0] === 'object' && !(args[0] instanceof Array)) {\n            this.assign(args[0]);\n         }\n      }\n\n   };\n}","import { Logger } from './Log';\nimport * as Util from './Util';\n\n/**\n * Obsolete decorator options\n */\nexport interface IObsoleteOptions {\n   // Optionally specify a custom message\n   message?: string;\n   // Optionally indicate that an alternate method to the obsolete one exists\n   alternateMethod?: string;\n} \n\n/**\n * Obsolete decorator for marking Excalibur methods obsolete, you can optionally specify a custom message and/or alternate replacement\n * method do the deprecated one. Inspired by https://github.com/jayphelps/core-decorators.js\n */\nexport function obsolete(options?: IObsoleteOptions) {\n\n   options = Util.extend({}, {message: 'This method will be removed in future versions of Excalibur.', alternateMethod: null}, options);\n\n   return function (target: any, property: string, descriptor: PropertyDescriptor): any {\n      if (!(typeof descriptor.value === 'function' || \n            typeof descriptor.get   === 'function' ||\n            typeof descriptor.set   === 'function')) {\n         throw new SyntaxError('Only functions/getters/setters can be marked as obsolete');\n      }\n      const methodSignature = `${target.name || ''}${target.name ? '.' : ''}${property}`;\n\n      var message = `${methodSignature} is marked obsolete: ${options.message}` + \n                     (options.alternateMethod ? ` Use ${options.alternateMethod} instead` : '');\n      \n      let method = Util.extend({}, descriptor);\n\n      if (descriptor.value) {\n         method.value = function(this: any) {\n            Logger.getInstance().warn(message);\n            return descriptor.value.apply(this, arguments);\n         };             \n         return method;\n      }\n\n      if (descriptor.get) {\n         method.get = function(this: any) {\n            Logger.getInstance().warn(message);\n            return descriptor.get.apply(this, arguments);\n         };\n      }\n\n      if (descriptor.set) {\n         method.set = function(this: any) {\n            Logger.getInstance().warn(message);\n            return descriptor.set.apply(this, arguments);\n         };            \n      }\n      return method;\n   };\n}","import * as Effects from './SpriteEffects';\nimport { Color } from './Color';\n\nimport { IDrawable } from '../Interfaces/IDrawable';\nimport { Texture } from '../Resources/Texture';\nimport { Vector } from '../Algebra';\nimport { Logger } from '../Util/Log';\nimport { clamp } from '../Util/Util';\nimport { Configurable } from '../Configurable';\nimport { obsolete } from '../Util/Decorators';\n\n/**\n * @hidden\n */\nexport class SpriteImpl implements IDrawable {\n   private _texture: Texture;\n\n   \n   public x: number = 0;\n   public y: number = 0;\n\n\n   public get drawWidth(): number {\n      return this.width * this.scale.x;\n   }\n\n   public get drawHeight(): number {\n      return this.height * this.scale.y;\n   }\n\n\n   /** @obsolete ex.[[Sprite.sx]] will be deprecated in 0.17.0 use ex.[[Sprite.x]] */\n   public get sx() {\n      return this.x;\n   }\n\n   @obsolete({message: 'ex.Sprite.sx will be deprecated in 0.17.0', alternateMethod: 'x'})\n   /** @obsolete ex.[[Sprite.sx]] will be deprecated in 0.17.0 use ex.[[Sprite.x]] */\n   public set sx(value: number) {\n      this.x = value;\n   }\n\n   /** @obsolete ex.[[Sprite.sy]] will be deprecated in 0.17.0 use ex.[[Sprite.y]] */\n   public get sy() {\n      return this.y;\n   }\n\n   @obsolete({message: 'ex.Sprite.sy will be deprecated in 0.17.0', alternateMethod: 'y'})\n   /** @obsolete ex.[[Sprite.sy]] will be deprecated in 0.17.0 use ex.[[Sprite.y]] */\n   public set sy(value: number) {\n      this.y = value;\n   }\n\n   /** @obsolete ex.[[Sprite.swidth]] will be deprecated in 0.17.0 use ex.[[Sprite.width]] */\n   public get swidth() {\n      return this.width;\n   }\n\n   @obsolete({message: 'ex.Sprite.swidth will be deprecated in 0.17.0', alternateMethod: 'width'})\n   /** @obsolete ex.[[Sprite.swidth]] will be deprecated in 0.17.0 use ex.[[Sprite.width]] */\n   public set swidth(value: number) {\n      this.width = value;\n   }\n\n   /** @obsolete ex.[[Sprite.sheight]] will be deprecated in 0.17.0 use [[Sprite.height]] */\n   public get sheight() {\n      return this.height;\n   }\n\n   @obsolete({message: 'ex.Sprite.sheight will be deprecated in 0.17.0', alternateMethod: 'height'})\n   /** @obsolete ex.[[Sprite.sheight]] will be deprecated in 0.17.0 use [[Sprite.height]] */\n   public set sheight(value: number) {\n      this.height = value;\n   }\n\n   public rotation: number = 0.0;\n   public anchor: Vector = new Vector(0.0, 0.0);\n   public scale: Vector = new Vector(1, 1);\n\n   public logger: Logger = Logger.getInstance();\n\n   /**\n    * Draws the sprite flipped vertically\n    */\n   public flipVertical: boolean = false;\n\n   /**\n    * Draws the sprite flipped horizontally\n    */\n   public flipHorizontal: boolean = false;\n\n   public effects: Effects.ISpriteEffect[] = [];\n\n   public width: number = 0;\n   public height: number = 0;\n\n   private _spriteCanvas: HTMLCanvasElement = null;\n   private _spriteCtx: CanvasRenderingContext2D = null;\n   private _pixelData: ImageData = null;\n   private _pixelsLoaded: boolean = false;\n   private _dirtyEffect: boolean = false;\n\n   /**\n    * @param image   The backing image texture to build the Sprite\n    * @param x      The x position of the sprite\n    * @param y      The y position of the sprite\n    * @param width  The width of the sprite in pixels\n    * @param height The height of the sprite in pixels\n    */\n   constructor(imageOrConfig: Texture | ISpriteArgs, x: number, y: number, width: number, height: number) {\n      var image = imageOrConfig;\n      if (imageOrConfig && !(imageOrConfig instanceof Texture)) {\n         x = imageOrConfig.x || imageOrConfig.sx;\n         y = imageOrConfig.y || imageOrConfig.sy;\n         width = imageOrConfig.drawWidth || imageOrConfig.swidth;\n         height = imageOrConfig.drawHeight || imageOrConfig.sheight;\n         image = imageOrConfig.image;\n         if (!image) {\n            const message = 'An image texture is required to contsruct a sprite';\n            throw new Error(message);\n         }\n      }\n\n      this.x = x || 0;\n      this.y = y || 0;\n\n      this._texture = <Texture>image;\n      this._spriteCanvas = document.createElement('canvas');\n      this._spriteCanvas.width = width;\n      this._spriteCanvas.height = height;\n      this._spriteCtx = <CanvasRenderingContext2D>this._spriteCanvas.getContext('2d');\n      this._texture.loaded.then(() => {\n         this._spriteCanvas.width = this._spriteCanvas.width || this._texture.image.naturalWidth;\n         this._spriteCanvas.height = this._spriteCanvas.height || this._texture.image.naturalHeight;\n         this._loadPixels();            \n         this._dirtyEffect = true;\n      }).error((e) => {\n         this.logger.error('Error loading texture ', this._texture.path, e);\n      });\n      \n      this.width = width;\n      this.height = height;\n   }\n\n   private _loadPixels() {\n      if (this._texture.isLoaded() && !this._pixelsLoaded) {\n         var naturalWidth = this._texture.image.naturalWidth || 0;\n         var naturalHeight = this._texture.image.naturalHeight || 0;\n\n         if (this.width > naturalWidth) {\n            this.logger.warn(`The sprite width ${this.width} exceeds the width \n                              ${naturalWidth} of the backing texture ${this._texture.path}`);\n         }            \n         if (this.height > naturalHeight) {\n            this.logger.warn(`The sprite height ${this.height} exceeds the height \n                              ${naturalHeight} of the backing texture ${this._texture.path}`);\n         }\n         this._spriteCtx.drawImage(this._texture.image, \n            clamp(this.x, 0, naturalWidth), \n            clamp(this.y, 0, naturalHeight),\n            clamp(this.width, 0, naturalWidth),\n            clamp(this.height, 0, naturalHeight),\n            0, 0, this.width, this.height);\n\n         this._pixelsLoaded = true;\n      }\n   }\n\n   /**\n    * Applies the [[Opacity]] effect to a sprite, setting the alpha of all pixels to a given value\n    */\n   public opacity(value: number) {\n      this.addEffect(new Effects.Opacity(value));\n   }\n\n   /**\n    * Applies the [[Grayscale]] effect to a sprite, removing color information.\n    */\n   public grayscale() {\n      this.addEffect(new Effects.Grayscale());\n   }\n\n   /**\n    * Applies the [[Invert]] effect to a sprite, inverting the pixel colors.\n    */\n   public invert() {\n      this.addEffect(new Effects.Invert());\n   }\n\n   /**\n    * Applies the [[Fill]] effect to a sprite, changing the color channels of all non-transparent pixels to match a given color\n    */\n   public fill(color: Color) {\n      this.addEffect(new Effects.Fill(color));\n   }\n\n   /**\n    * Applies the [[Colorize]] effect to a sprite, changing the color channels of all pixels to be the average of the original color\n    * and the provided color.\n    */\n   public colorize(color: Color) {\n      this.addEffect(new Effects.Colorize(color));\n   }\n\n   /**\n    * Applies the [[Lighten]] effect to a sprite, changes the lightness of the color according to HSL\n    */\n   public lighten(factor: number = 0.1) {\n      this.addEffect(new Effects.Lighten(factor));\n   }\n\n   /**\n    * Applies the [[Darken]] effect to a sprite, changes the darkness of the color according to HSL\n    */\n   public darken(factor: number = 0.1) {\n      this.addEffect(new Effects.Darken(factor));\n   }\n\n   /**\n    * Applies the [[Saturate]] effect to a sprite, saturates the color according to HSL\n    */\n   public saturate(factor: number = 0.1) {\n      this.addEffect(new Effects.Saturate(factor));\n   }\n\n   /**\n    * Applies the [[Desaturate]] effect to a sprite, desaturates the color according to HSL\n    */\n   public desaturate(factor: number = 0.1) {\n      this.addEffect(new Effects.Desaturate(factor));\n   }\n\n   /**\n    * Adds a new [[ISpriteEffect]] to this drawing.\n    * @param effect  Effect to add to the this drawing\n    */\n   public addEffect(effect: Effects.ISpriteEffect) {\n      this.effects.push(effect);\n      // We must check if the texture and the backing sprite pixels are loaded as well before \n      // an effect can be applied\n      if (!this._texture.isLoaded() || !this._pixelsLoaded) {\n         this._dirtyEffect = true;\n      } else {\n         this._applyEffects();\n      }\n   }\n\n   /**\n    * Removes a [[ISpriteEffect]] from this sprite.\n    * @param effect  Effect to remove from this sprite\n    */\n   public removeEffect(effect: Effects.ISpriteEffect): void;\n   \n   /**\n    * Removes an effect given the index from this sprite.\n    * @param index  Index of the effect to remove from this sprite\n    */\n   public removeEffect(index: number): void;\n   public removeEffect(param: any) {\n      var indexToRemove = -1;\n      if (typeof param === 'number') {\n         indexToRemove = param;\n      } else {\n         indexToRemove = this.effects.indexOf(param);\n      }\n\n      // bounds check\n      if (indexToRemove < 0 || indexToRemove >= this.effects.length) {\n         return;\n      }\n\n      this.effects.splice(indexToRemove, 1);\n\n      // We must check if the texture and the backing sprite pixels are loaded as well before \n      // an effect can be applied\n      if (!this._texture.isLoaded() || !this._pixelsLoaded) {\n         this._dirtyEffect = true;\n      } else {\n         this._applyEffects();\n      }\n   }\n\n   private _applyEffects() {\n      var naturalWidth = this._texture.image.naturalWidth || 0;\n      var naturalHeight = this._texture.image.naturalHeight || 0;\n\n      this._spriteCtx.clearRect(0, 0, this.width, this.height);\n      this._spriteCtx.drawImage(this._texture.image, \n         clamp(this.x, 0, naturalWidth),\n         clamp(this.y, 0, naturalHeight),\n         clamp(this.width, 0, naturalWidth),\n         clamp(this.height, 0, naturalHeight),\n         0, 0, this.width, this.height);\n      this._pixelData = this._spriteCtx.getImageData(0, 0, this.width, this.height);\n\n      var i = 0, x = 0, y = 0, len = this.effects.length;\n      for (i; i < len; i++) {\n         y = 0;\n         for (y; y < this.height; y++) {\n            x = 0;\n            for (x; x < this.width; x++) {\n               this.effects[i].updatePixel(x, y, this._pixelData);\n            }\n         }\n      }\n      this._spriteCtx.clearRect(0, 0, this.width, this.height);\n      this._spriteCtx.putImageData(this._pixelData, 0, 0);\n      \n      this._dirtyEffect = false;\n   }\n\n   /**\n    * Clears all effects from the drawing and return it to its original state.\n    */\n   public clearEffects() {\n      this.effects.length = 0;\n      this._applyEffects();\n   }\n   \n   /**\n    * Resets the internal state of the drawing (if any)\n    */\n   public reset() {\n      // do nothing\n   }\n\n   public debugDraw(ctx: CanvasRenderingContext2D, x: number, y: number) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(this.rotation);\n      var xpoint = this.drawWidth * this.anchor.x;\n      var ypoint = this.drawHeight * this.anchor.y;\n\n      ctx.strokeStyle = Color.Black.toString();\n      ctx.strokeRect(-xpoint, -ypoint, this.drawWidth, this.drawHeight);\n      ctx.restore();\n   }\n\n   /**\n    * Draws the sprite appropriately to the 2D rendering context, at an x and y coordinate.\n    * @param ctx  The 2D rendering context\n    * @param x    The x coordinate of where to draw\n    * @param y    The y coordinate of where to draw\n    */\n   public draw(ctx: CanvasRenderingContext2D, x: number, y: number) {\n      if (this._dirtyEffect) {\n         this._applyEffects();\n      }\n      \n      // calculating current dimensions      \n      ctx.save();\n      var xpoint = this.drawWidth * this.anchor.x;\n      var ypoint = this.drawHeight * this.anchor.y;\n      ctx.translate(x, y);\n      ctx.rotate(this.rotation);\n      \n      // todo cache flipped sprites\n      if (this.flipHorizontal) {\n         ctx.translate(this.drawWidth, 0);\n         ctx.scale(-1, 1);\n      }\n\n      if (this.flipVertical) {\n         ctx.translate(0, this.drawHeight);\n         ctx.scale(1, -1);\n      }\n\n      ctx.drawImage(this._spriteCanvas, 0, 0, this.width, this.height, \n         -xpoint, \n         -ypoint, \n         this.drawWidth,\n         this.drawHeight);\n      \n      ctx.restore();\n   }\n\n   /**\n    * Produces a copy of the current sprite\n    */\n   public clone(): SpriteImpl {\n      var result = new Sprite(this._texture, this.x, this.y, this.width, this.height);\n      result.scale = this.scale.clone();\n      result.rotation = this.rotation;\n      result.flipHorizontal = this.flipHorizontal;\n      result.flipVertical = this.flipVertical;\n\n      var i = 0, len = this.effects.length;\n      for (i; i < len; i++) {\n         result.addEffect(this.effects[i]);\n      }\n      return result;\n   }\n\n}\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface ISpriteArgs extends Partial<SpriteImpl> {\n   image?: Texture;\n   x?: number;\n   /** @obsolete ex.[[Sprite.sx]] will be deprecated in 0.17.0 use ex.[[Sprite.x]] */\n   sx?: number;\n   y?: number;\n   /** @obsolete ex.[[Sprite.sy]] will be deprecated in 0.17.0 use ex.[[Sprite.y]] */\n   sy?: number;\n   width?: number;\n   /** @obsolete ex.[[Sprite.swidth]] will be deprecated in 0.17.0 use ex.[[Sprite.width]] */\n   swidth?: number;\n   height?: number;\n   /** @obsolete ex.[[Sprite.sheight]] will be deprecated in 0.17.0 use ex.[[Sprite.height]] */\n   sheight?: number;\n   rotation?: number;\n   anchor?: Vector;\n   scale?: Vector;\n   flipVertical?: boolean;\n   flipHorizontal?: boolean;\n} \n\n/**\n * A [[Sprite]] is one of the main drawing primitives. It is responsible for drawing\n * images or parts of images from a [[Texture]] resource to the screen.\n *\n * [[include:Sprites.md]]\n */\nexport class Sprite extends Configurable(SpriteImpl) {\n   constructor(config: ISpriteArgs);\n   constructor(image: Texture, x: number, y: number, width: number, height: number)\n   constructor(imageOrConfig: Texture | ISpriteArgs,\n               x?: number,\n               y?: number,\n               width?: number,\n               height?: number) {\n      super(imageOrConfig, x, y, width, height);\n   }\n}\n\n","import { Sprite } from './Sprite';\nimport { IAnimationArgs } from '../Drawing/Animation';\nimport * as Effects from './SpriteEffects';\nimport { Color } from './Color';\n\nimport { IDrawable } from '../Interfaces/IDrawable';\nimport { Vector } from '../Algebra';\nimport { Engine } from '../Engine';\nimport * as Util from '../Util/Util';\nimport { Configurable } from '../Configurable';\n\n/**\n * @hidden\n */\nexport class AnimationImpl implements IDrawable {\n\n   /**\n    * The sprite frames to play, in order. See [[SpriteSheet.getAnimationForAll]] to quickly\n    * generate an [[Animation]].\n    */\n   public sprites: Sprite[] = [];\n\n   /**\n    * Duration to show each frame (in milliseconds)\n    */\n   public speed: number;\n\n   /**\n    * Current frame index being shown\n    */\n   public currentFrame: number = 0;\n\n   private _oldTime: number = Date.now();\n   \n   public anchor: Vector = new Vector(0.0, 0.0);\n   public rotation: number = 0.0;\n   public scale: Vector = new Vector(1, 1);\n\n   /**\n    * Indicates whether the animation should loop after it is completed\n    */\n   public loop: boolean = true;\n\n   /**\n    * Indicates the frame index the animation should freeze on for a non-looping\n    * animation. By default it is the last frame.\n    */\n   public freezeFrame: number = -1;\n\n   private _engine: Engine;\n\n   /**\n    * Flip each frame vertically. Sets [[Sprite.flipVertical]].\n    */\n   public flipVertical: boolean = false;\n\n   /**\n    * Flip each frame horizontally. Sets [[Sprite.flipHorizontal]].\n    */\n   public flipHorizontal: boolean = false;\n   \n   public drawWidth: number = 0;\n   public drawHeight: number= 0;\n   public width: number = 0;\n   public height: number = 0;\n\n   /**\n    * Typically you will use a [[SpriteSheet]] to generate an [[Animation]].\n    *\n    * @param engine  Reference to the current game engine\n    * @param images  An array of sprites to create the frames for the animation\n    * @param speed   The number in milliseconds to display each frame in the animation\n    * @param loop    Indicates whether the animation should loop after it is completed\n    */\n   constructor(engineOrConfig: Engine | IAnimationArgs, sprites: Sprite[], speed: number, loop?: boolean) {\n      \n      var engine = engineOrConfig;\n      if (engineOrConfig && !(engineOrConfig instanceof Engine)) {\n         var config = engineOrConfig;\n         engine = config.engine;\n         sprites = config.sprites;\n         speed = config.speed;\n         loop = config.loop;\n      }\n      \n      this.sprites = sprites;\n      this.speed = speed;\n      this._engine = <Engine>engine;\n      \n      if (loop != null) {\n         this.loop = loop;\n      }\n      \n      if (sprites && sprites[0]) {\n         this.drawHeight = sprites[0] ? sprites[0].drawHeight : 0;\n         this.drawWidth = sprites[0] ? sprites[0].drawWidth : 0;\n         \n         this.width = sprites[0] ? sprites[0].width : 0;\n         this.height = sprites[0] ? sprites[0].height : 0;\n\n         this.freezeFrame = sprites.length - 1;\n      }\n\n   }\n\n   /**\n    * Applies the opacity effect to a sprite, setting the alpha of all pixels to a given value\n    */\n   public opacity(value: number) {\n      this.addEffect(new Effects.Opacity(value));\n   }\n\n   /**\n    * Applies the grayscale effect to a sprite, removing color information.\n    */\n   public grayscale() {\n      this.addEffect(new Effects.Grayscale());\n   }\n\n   /**\n    * Applies the invert effect to a sprite, inverting the pixel colors.\n    */\n   public invert() {\n      this.addEffect(new Effects.Invert());\n   }\n\n   /**\n    * Applies the fill effect to a sprite, changing the color channels of all non-transparent pixels to match a given color\n    */\n   public fill(color: Color) {\n      this.addEffect(new Effects.Fill(color));\n   }\n\n   /**\n    * Applies the colorize effect to a sprite, changing the color channels of all pixels to be the average of the original color and the\n    * provided color.\n    */\n   public colorize(color: Color) {\n      this.addEffect(new Effects.Colorize(color));\n   }\n\n   /**\n    * Applies the lighten effect to a sprite, changes the lightness of the color according to hsl\n    */\n   public lighten(factor: number = 0.1) {\n      this.addEffect(new Effects.Lighten(factor));\n   }\n\n   /**\n    * Applies the darken effect to a sprite, changes the darkness of the color according to hsl\n    */\n   public darken(factor: number = 0.1) {\n      this.addEffect(new Effects.Darken(factor));\n   }\n\n   /**\n    * Applies the saturate effect to a sprite, saturates the color according to hsl\n    */\n   public saturate(factor: number = 0.1) {\n      this.addEffect(new Effects.Saturate(factor));\n   }\n\n   /**\n    * Applies the desaturate effect to a sprite, desaturates the color according to hsl\n    */\n   public desaturate(factor: number = 0.1) {\n      this.addEffect(new Effects.Desaturate(factor));\n   }\n\n   /**\n    * Add a [[ISpriteEffect]] manually\n    */\n   public addEffect(effect: Effects.ISpriteEffect) {\n      for (var i in this.sprites) {\n         this.sprites[i].addEffect(effect);\n      }\n   }\n\n   /**\n    * Removes an [[ISpriteEffect]] from this animation.\n    * @param effect Effect to remove from this animation\n    */\n   public removeEffect(effect: Effects.ISpriteEffect): void;\n   \n   /**\n    * Removes an effect given the index from this animation.\n    * @param index  Index of the effect to remove from this animation\n    */\n   public removeEffect(index: number): void;\n   public removeEffect(param: any) {\n      for (var i in this.sprites) {\n         this.sprites[i].removeEffect(param);\n      }\n   }\n\n   /**\n    * Clear all sprite effects\n    */\n   public clearEffects() {\n      for (var i in this.sprites) {\n         this.sprites[i].clearEffects();\n      }  \n   }\n\n   private _setAnchor(point: Vector) {\n      //if (!this.anchor.equals(point)) {\n         for (var i in this.sprites) {\n            this.sprites[i].anchor.setTo(point.x, point.y);\n         }\n      //}\n   }\n\n   private _setRotation(radians: number) {\n      //if (this.rotation !== radians) {\n         for (var i in this.sprites) {\n            this.sprites[i].rotation = radians;\n         }\n      //}\n   }\n   \n   private _setScale(scale: Vector) {\n      //if (!this.scale.equals(scale)) {\n         for (var i in this.sprites) {\n            this.sprites[i].scale = scale;\n         }\n      //}\n   }\n   \n   /**\n    * Resets the animation to first frame.\n    */\n   public reset() {\n      this.currentFrame = 0;\n   }\n\n   /**\n    * Indicates whether the animation is complete, animations that loop are never complete.\n    */\n   public isDone() {\n      return (!this.loop && this.currentFrame >= this.sprites.length);\n   }\n\n   /**\n    * Not meant to be called by game developers. Ticks the animation forward internally and\n    * calculates whether to change to the frame.\n    * @internal\n    */\n   public tick() {\n      var time = Date.now();\n      if ((time - this._oldTime) > this.speed) {\n         this.currentFrame = (this.loop ? (this.currentFrame + 1) % this.sprites.length : this.currentFrame + 1);\n         this._oldTime = time;\n      }\n   }\n\n   private _updateValues(): void {\n      this._setAnchor(this.anchor);\n      this._setRotation(this.rotation);\n      this._setScale(this.scale);\n   }\n\n   /**\n    * Skips ahead a specified number of frames in the animation\n    * @param frames  Frames to skip ahead\n    */\n   public skip(frames: number) {\n      this.currentFrame = (this.currentFrame + frames) % this.sprites.length;\n   }\n\n   public draw(ctx: CanvasRenderingContext2D, x: number, y: number) {\n      this.tick();\n      this._updateValues();\n      var currSprite: Sprite;\n      if (this.currentFrame < this.sprites.length) {\n         currSprite = this.sprites[this.currentFrame];\n         if (this.flipVertical) {\n            currSprite.flipVertical = this.flipVertical;\n         }\n         if (this.flipHorizontal) {\n            currSprite.flipHorizontal = this.flipHorizontal;\n         }\n         currSprite.draw(ctx, x, y);\n      }\n\n      if (this.freezeFrame !== -1 && this.currentFrame >= this.sprites.length) {\n         currSprite = this.sprites[Util.clamp(this.freezeFrame, 0, this.sprites.length - 1)];\n         currSprite.draw(ctx, x, y);\n      }\n      \n      // add the calculated width\n      if (currSprite) {\n         this.drawWidth = currSprite.drawWidth;\n         this.drawHeight = currSprite.drawHeight;\n      }\n   }\n\n   /**\n    * Plays an animation at an arbitrary location in the game.\n    * @param x  The x position in the game to play\n    * @param y  The y position in the game to play\n    */\n   public play(x: number, y: number) {\n      this.reset();\n      this._engine.playAnimation(this, x, y);\n   }\n}\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface IAnimationArgs extends Partial<AnimationImpl> {\n   engine: Engine;\n   sprites: Sprite[];\n   speed: number;\n   loop?: boolean;\n   anchor?: Vector;\n   rotation?: number;\n   scale?: Vector;\n   flipVertical?: boolean;\n   flipHorizontal?: boolean;\n   width?: number;\n   height?: number;\n} \n\n/**\n * Animations allow you to display a series of images one after another,\n * creating the illusion of change. Generally these images will come from a [[SpriteSheet]] source.\n *\n * [[include:Animations.md]]\n */\nexport class Animation extends Configurable(AnimationImpl) {\n   constructor(config: IAnimationArgs);\n   constructor(engine: Engine, images: Sprite[], speed: number, loop?: boolean);\n   constructor(engineOrConfig: Engine | IAnimationArgs, images?: Sprite[], speed?: number, loop?: boolean) {\n      super(engineOrConfig, images, speed, loop);\n   }\n}","import { Engine } from './Engine';\nimport { Color } from './Drawing/Color';\nimport { SpriteFont } from './Drawing/SpriteSheet';\nimport { Actor, CollisionType } from './Actor';\nimport { Configurable } from './Configurable';\nimport { Vector } from './Algebra';\n/**\n * Enum representing the different font size units\n * https://developer.mozilla.org/en-US/docs/Web/CSS/font-size\n */\nexport enum FontUnit {\n   /**\n    * Em is a scalable unit, 1 em is equal to the current font size of the current element, parent elements can effect em values\n    */\n   Em,\n   /**\n    * Rem is similar to the Em, it is a scalable unit. 1 rem is eqaul to the font size of the root element\n    */\n   Rem,\n   /**\n    * Pixel is a unit of length in screen pixels\n    */\n   Px,\n   /**\n    * Point is a physical unit length (1/72 of an inch)\n    */\n   Pt,\n   /**\n    * Percent is a scalable unit similar to Em, the only difference is the Em units scale faster when Text-Size stuff\n    */\n   Percent\n}\n\n/**\n * Enum representing the different horizontal text alignments\n */\nexport enum TextAlign {\n   /**\n    * The text is left-aligned.\n    */\n   Left,\n   /**\n    * The text is right-aligned.\n    */\n   Right,\n   /**\n    * The text is centered.\n    */\n   Center,\n   /**\n    * The text is aligned at the normal start of the line (left-aligned for left-to-right locales, \n    * right-aligned for right-to-left locales).\n    */\n   Start,\n   /**\n    * The text is aligned at the normal end of the line (right-aligned for left-to-right locales, \n    * left-aligned for right-to-left locales).\n    */\n   End\n}\n\n/**\n * Enum representing the different baseline text alignments\n */\nexport enum BaseAlign {\n   /**\n    * The text baseline is the top of the em square.\n    */\n   Top,\n   /**\n    * The text baseline is the hanging baseline.  Currently unsupported; this will act like \n    * alphabetic.\n    */\n   Hanging,\n   /**\n    * The text baseline is the middle of the em square.\n    */\n   Middle,\n   /**\n    * The text baseline is the normal alphabetic baseline.\n    */\n   Alphabetic,\n   /**\n    * The text baseline is the ideographic baseline; this is the bottom of \n    * the body of the characters, if the main body of characters protrudes \n    * beneath the alphabetic baseline.  Currently unsupported; this will \n    * act like alphabetic.\n    */\n   Ideographic,\n   /**\n    * The text baseline is the bottom of the bounding box.  This differs\n    * from the ideographic baseline in that the ideographic baseline \n    * doesn't consider descenders.\n    */\n   Bottom\n}\n\n/**\n * Enum representing the different possible font styles\n */\nexport enum FontStyle {\n   Normal,\n   Italic,\n   Oblique\n}\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface ILabelArgs extends Partial<LabelImpl> {\n   text?: string;\n   bold?: boolean;\n   pos?: Vector;\n   spriteFont?: SpriteFont;\n   fontFamily?: string;\n   fontSize?: number;\n   fontStyle?: FontStyle;\n   fontUnit?: FontUnit;\n   textAlign?: TextAlign;\n   maxWidth?: number;\n}\n\n/**\n * @hidden\n */\nexport class LabelImpl extends Actor {\n\n   /**\n    * The text to draw.\n    */\n   public text: string;\n\n   /**\n    * Sets or gets the bold property of the label's text, by default it's false\n    */\n   public bold: boolean = false;\n\n   /**\n    * The [[SpriteFont]] to use, if any. Overrides [[fontFamily]] if present.\n    */\n   public spriteFont: SpriteFont;\n\n   /**\n    * The CSS font family string (e.g. `sans-serif`, `Droid Sans Pro`). Web fonts\n    * are supported, same as in CSS.\n    */\n   public fontFamily: string;\n\n   /**\n    * The font size in the selected units, default is 10 (default units is pixel)\n    */\n   public fontSize: number = 10;\n\n   /**\n    * The font style for this label, the default is [[FontStyle.Normal]]\n    */\n   public fontStyle: FontStyle = FontStyle.Normal;\n\n   /**\n    * The css units for a font size such as px, pt, em (SpriteFont only support px), by default is 'px';\n    */\n   public fontUnit: FontUnit = FontUnit.Px;\n\n   /**\n    * Gets or sets the horizontal text alignment property for the label. \n    */\n   public textAlign: TextAlign = TextAlign.Left;\n\n   /**\n    * Gets or sets the baseline alignment property for the label.\n    */\n   public baseAlign: BaseAlign = BaseAlign.Bottom;\n\n   /**\n    * Gets or sets the maximum width (in pixels) that the label should occupy\n    */\n   public maxWidth: number;\n\n   /**\n    * Gets or sets the letter spacing on a Label. Only supported with Sprite Fonts.\n    */\n   public letterSpacing: number = 0; //px\n\n   /**\n    * Whether or not the [[SpriteFont]] will be case-sensitive when matching characters.\n    */\n   public caseInsensitive: boolean = true;\n\n   private _textShadowOn: boolean;\n   private _shadowOffsetX: number;\n   private _shadowOffsetY: number;\n\n   /**\n    * @param text        The text of the label\n    * @param x           The x position of the label\n    * @param y           The y position of the label\n    * @param fontFamily  Use any valid CSS font string for the label's font. Web fonts are supported. Default is `10px sans-serif`.\n    * @param spriteFont  Use an Excalibur sprite font for the label's font, if a SpriteFont is provided it will take precedence \n    * over a css font.\n    */\n   constructor(textOrConfig?: string | Partial<LabelImpl>, x?: number, y?: number, fontFamily?: string, spriteFont?: SpriteFont) {\n      super(textOrConfig && typeof textOrConfig === 'object' ?  { \n            x: textOrConfig.x,\n            y: textOrConfig.y\n         } : { x: x, y: y} );\n\n      let text = '';\n      if (textOrConfig && typeof textOrConfig === 'object') {\n         fontFamily = textOrConfig.fontFamily;\n         spriteFont = textOrConfig.spriteFont;\n         text = textOrConfig.text;\n      } else {\n         text = <string>textOrConfig;\n      }\n\n      this.text = text || '';\n      this.color = Color.Black.clone();\n      this.spriteFont = spriteFont;\n      this.collisionType = CollisionType.PreventCollision;\n      this.fontFamily = fontFamily || 'sans-serif'; // coalesce to default canvas font\n      \n\n      this._textShadowOn = false;\n      this._shadowOffsetX = 0;\n      this._shadowOffsetY = 0;\n      if (spriteFont) {\n         //this._textSprites = spriteFont.getTextSprites();\n      }\n   }\n\n   /**\n    * Returns the width of the text in the label (in pixels);\n    * @param ctx  Rendering context to measure the string with\n    */\n   public getTextWidth(ctx: CanvasRenderingContext2D): number {\n      var oldFont = ctx.font;\n      ctx.font = this._fontString;\n      var width = ctx.measureText(this.text).width;\n      ctx.font = oldFont;\n      return width;\n   }\n\n   // TypeScript doesn't support string enums :(\n   private _lookupFontUnit(fontUnit: FontUnit): string {\n      switch (fontUnit) {\n         case FontUnit.Em:\n            return 'em';\n         case FontUnit.Rem:\n            return 'rem';\n         case FontUnit.Pt:\n            return 'pt';\n         case FontUnit.Px:\n            return 'px';\n         case FontUnit.Percent:\n            return '%';\n         default:\n            return 'px';\n      }\n   }\n\n   private _lookupTextAlign(textAlign: TextAlign): string {\n      switch (textAlign) {\n         case TextAlign.Left:\n            return 'left';\n         case TextAlign.Right:\n            return 'right';\n         case TextAlign.Center:\n            return 'center';\n         case TextAlign.End:\n            return 'end';\n         case TextAlign.Start:\n            return 'start';\n         default:\n            return 'start';\n      }\n   }\n\n   private _lookupBaseAlign(baseAlign: BaseAlign): string {\n      switch (baseAlign) {\n         case BaseAlign.Alphabetic:\n            return 'alphabetic';\n         case BaseAlign.Bottom:\n            return 'bottom';\n         case BaseAlign.Hanging:\n            return 'hangin';\n         case BaseAlign.Ideographic:\n            return 'ideographic';\n         case BaseAlign.Middle:\n            return 'middle';\n         case BaseAlign.Top:\n            return 'top';\n         default:\n            return 'alphabetic';\n      }\n   }\n\n   private _lookupFontStyle(fontStyle: FontStyle): string {\n      var boldstring = this.bold ? ' bold' : '';\n      switch (fontStyle) {\n         case FontStyle.Italic:\n            return 'italic' + boldstring;\n         case FontStyle.Normal:\n            return 'normal' + boldstring;\n         case FontStyle.Oblique:\n            return 'oblique' + boldstring;\n         default:\n            return 'normal' + boldstring;\n      }\n   }\n\n   /**\n    * Sets the text shadow for sprite fonts\n    * @param offsetX      The x offset in pixels to place the shadow\n    * @param offsetY      The y offset in pixels to place the shadow\n    * @param shadowColor  The color of the text shadow\n    */\n   public setTextShadow(offsetX: number, offsetY: number, shadowColor: Color) {\n      this.spriteFont.setTextShadow(offsetX, offsetY, shadowColor);\n   }\n\n   /**\n    * Toggles text shadows on or off, only applies when using sprite fonts\n    */\n   public useTextShadow(on: boolean) {\n      this.spriteFont.useTextShadow(on);\n   }\n\n   /**\n    * Clears the current text shadow\n    */\n   public clearTextShadow() {\n      this._textShadowOn = false;\n      this._shadowOffsetX = 0;\n      this._shadowOffsetY = 0;\n   }\n\n   public update(engine: Engine, delta: number) {\n      super.update(engine, delta);\n   }\n\n   public draw(ctx: CanvasRenderingContext2D, delta: number) {\n\n      ctx.save();\n      ctx.translate(this.pos.x, this.pos.y);\n      ctx.scale(this.scale.x, this.scale.y);\n      ctx.rotate(this.rotation);\n\n      if (this._textShadowOn) {\n         ctx.save();\n         ctx.translate(this._shadowOffsetX, this._shadowOffsetY);\n         this._fontDraw(ctx);\n         ctx.restore();\n      }\n      this._fontDraw(ctx);\n\n      super.draw(ctx, delta);\n      ctx.restore();\n   }\n\n   private _fontDraw(ctx: CanvasRenderingContext2D) {\n\n      if (this.spriteFont) {\n         this.spriteFont.draw(ctx, this.text, 0, 0, {\n            color: this.color.clone(),\n            baseAlign: this.baseAlign,\n            textAlign: this.textAlign,\n            fontSize: this.fontSize,\n            letterSpacing: this.letterSpacing,\n            opacity: this.opacity\n         });\n      } else {\n         var oldAlign = ctx.textAlign;\n         var oldTextBaseline = ctx.textBaseline;\n\n         ctx.textAlign = this._lookupTextAlign(this.textAlign);\n         ctx.textBaseline = this._lookupBaseAlign(this.baseAlign);\n         if (this.color) {\n            this.color.a = this.opacity;\n         }\n         ctx.fillStyle = this.color.toString();\n         ctx.font = this._fontString;\n         if (this.maxWidth) {\n            ctx.fillText(this.text, 0, 0, this.maxWidth);\n         } else {\n            ctx.fillText(this.text, 0, 0);\n         }\n\n         ctx.textAlign = oldAlign;\n         ctx.textBaseline = oldTextBaseline;\n      }\n   }\n\n   protected get _fontString() {\n      return `${this._lookupFontStyle(this.fontStyle)} ${this.fontSize}${this._lookupFontUnit(this.fontUnit)} ${this.fontFamily}`;\n   }\n\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      super.debugDraw(ctx);\n   }\n\n}\n\n/**\n * Labels are the way to draw small amounts of text to the screen. They are\n * actors and inherit all of the benefits and capabilities.\n *\n * [[include:Labels.md]]\n */\nexport class Label extends Configurable(LabelImpl) {\n   constructor();\n   constructor(config?: ILabelArgs);\n   constructor(text?: string, x?: number, y?: number, fontFamily?: string, spriteFont?: SpriteFont);\n   constructor(textOrConfig?: string | ILabelArgs, x?: number, y?: number, fontFamily?: string, spriteFont?: SpriteFont) {\n      super(textOrConfig, x, y, fontFamily, spriteFont);\n   }\n}","import { Sprite, ISpriteArgs } from './Sprite';\nimport { Animation } from './Animation';\nimport { Color } from './Color';\nimport * as Effects from './SpriteEffects';\n\nimport { Texture } from '../Resources/Texture';\nimport { Engine } from '../Engine';\nimport { Logger } from '../Util/Log';\nimport { TextAlign, BaseAlign } from '../Label';\nimport { Configurable } from '../Configurable';\n\n/**\n * @hidden\n */\nexport class SpriteSheetImpl {\n   public sprites: Sprite[] = [];\n   public image: Texture = null;\n   public columns: number = 0;\n   public rows: number = 0;\n   public spWidth: number = 0;\n   public spHeight: number = 0;\n\n   /**\n    * @param image     The backing image texture to build the SpriteSheet\n    * @param columns   The number of columns in the image texture\n    * @param rows      The number of rows in the image texture\n    * @param spWidth   The width of each individual sprite in pixels\n    * @param spHeight  The height of each individual sprite in pixels\n    */\n   constructor(imageOrConfigOrSprites: Texture | ISpriteSheetArgs | Sprite[],\n               columns?: number, rows?: number, spWidth?: number, spHeight?: number) {\n\n      var loadFromImage: boolean = false;\n      if (imageOrConfigOrSprites instanceof Array) {\n         this.sprites = imageOrConfigOrSprites;\n      } else {\n         if (imageOrConfigOrSprites && !(imageOrConfigOrSprites instanceof Texture)) {\n            this.columns = imageOrConfigOrSprites.columns;\n            this.rows = imageOrConfigOrSprites.rows;\n            this.spWidth = imageOrConfigOrSprites.spWidth;\n            this.spHeight = imageOrConfigOrSprites.spHeight;\n            this.image = imageOrConfigOrSprites.image;\n         } else {\n            this.image = <Texture> imageOrConfigOrSprites;\n            this.columns = columns;\n            this.rows = rows;\n            this.spWidth = spWidth;\n            this.spHeight = spHeight;\n         }\n         this.sprites = new Array(this.columns * this.rows);\n         loadFromImage = true;\n      }\n\n      // TODO: Inspect actual image dimensions with preloading\n      /*if(spWidth * columns > this.internalImage.naturalWidth){\n         throw new Error(\"SpriteSheet specified is wider than image width\");\n      }\n\n      if(spHeight * rows > this.internalImage.naturalHeight){\n         throw new Error(\"SpriteSheet specified is higher than image height\");\n      }*/\n\n      if (loadFromImage) {\n         var i = 0;\n         var j = 0;\n         for (i = 0; i < this.rows; i++) {\n            for (j = 0; j < this.columns; j++) {\n               this.sprites[j + i * this.columns] = new Sprite(this.image,\n                                                               j * this.spWidth, i * this.spHeight, this.spWidth, this.spHeight);\n            }\n         }\n      }\n   }\n\n\n   /**\n    * Create an animation from the this SpriteSheet by listing out the\n    * sprite indices. Sprites are organized in row major order in the SpriteSheet.\n    * @param engine   Reference to the current game [[Engine]]\n    * @param indices  An array of sprite indices to use in the animation\n    * @param speed    The number in milliseconds to display each frame in the animation\n    */\n   public getAnimationByIndices(engine: Engine, indices: number[], speed: number) {\n      var images: Sprite[] = indices.map((index) => {\n         return this.sprites[index];\n      });\n\n      images = images.map(function(i) {\n         return i.clone();\n      });\n      return new Animation(engine, images, speed);\n   }\n\n   /**\n    * Create an animation from the this SpriteSheet by specifing the range of\n    * images with the beginning (inclusive) and ending (exclusive) index\n    * For example `getAnimationBetween(engine, 0, 5, 200)` returns an animation with 5 frames.\n    * @param engine      Reference to the current game Engine\n    * @param beginIndex  The index to start taking frames (inclusive)\n    * @param endIndex    The index to stop taking frames (exclusive)\n    * @param speed       The number in milliseconds to display each frame in the animation\n    */\n   public getAnimationBetween(engine: Engine, beginIndex: number, endIndex: number, speed: number) {\n      var images = this.sprites.slice(beginIndex, endIndex);\n      images = images.map(function(i) {\n         return i.clone();\n      });\n      return new Animation(engine, images, speed);\n   }\n\n   /**\n    * Treat the entire SpriteSheet as one animation, organizing the frames in \n    * row major order.\n    * @param engine  Reference to the current game [[Engine]]\n    * @param speed   The number in milliseconds to display each frame the animation\n    */\n   public getAnimationForAll(engine: Engine, speed: number) {\n      var sprites = this.sprites.map(function(i) {\n         return i.clone();\n      });\n      return new Animation(engine, sprites, speed);\n   }\n\n   /**\n    * Retreive a specific sprite from the SpriteSheet by its index. Sprites are organized\n    * in row major order in the SpriteSheet.\n    * @param index  The index of the sprite\n    */\n   public getSprite(index: number): Sprite {\n      if (index >= 0 && index < this.sprites.length) {\n         return this.sprites[index];\n      } else {\n        throw new Error('Invalid index: ' + index);\n      }\n   }\n\n   /**\n    * Get an animation with bespoke sprite coordinates. This is useful if the SpriteSheet is\n    * packed and not a uniform width or height. The resulting [[Animation]] will have the height and width of the\n    * largest dimension (width, height) from among the sprite coordinates\n    * @param engine \n    * @param spriteCoordinates \n    * @param speed \n    */\n   public getAnimationByCoords(engine: Engine, spriteCoordinates: ISpriteArgs[], speed: number): Animation {\n      \n      let maxWidth: number = 0;\n      let maxHeight: number = 0;\n      let sprites: Sprite[] = new Array(spriteCoordinates.length);\n      for (let i = 0; i < spriteCoordinates.length; i++) {\n         let coord = spriteCoordinates[i];\n         // no need to pass image again if using a spritesheet\n         coord.image = coord.image || this.image;\n         maxWidth = Math.max(maxWidth, coord.drawWidth);\n         maxHeight = Math.max(maxHeight, coord.drawHeight);\n         sprites[i] = new Sprite(coord);\n      }\n\n      let anim = new Animation(engine, sprites, speed);\n\n      anim.drawWidth = maxWidth;\n      anim.drawHeight = maxHeight;\n      return anim;\n   }\n}\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface ISpriteSheetArgs extends Partial<SpriteSheetImpl> {\n   image: Texture;\n   sprites?: Sprite[];\n   spWidth: number;\n   spHeight: number;\n   rows: number;\n   columns: number;\n}\n\n/**\n * Sprite sheets are a useful mechanism for slicing up image resources into\n * separate sprites or for generating in game animations. [[Sprite|Sprites]] are organized\n * in row major order in the [[SpriteSheet]].\n *\n * [[include:SpriteSheets.md]]\n */\nexport class SpriteSheet extends Configurable(SpriteSheetImpl) {\n   constructor(config: ISpriteSheetArgs);\n   constructor(sprites: Sprite[]);\n   constructor(image: Texture, columns: number, rows: number, spWidth: number, spHeight: number);\n   constructor(imageOrConfigOrSprites: Texture | ISpriteSheetArgs | Sprite[],\n               columns?: number, rows?: number, spWidth?: number, spHeight?: number) {\n         super(imageOrConfigOrSprites, columns, rows, spWidth, spHeight);\n      }\n}\n\nexport class SpriteFontImpl extends SpriteSheet {\n   private _currentColor: Color = Color.Black.clone();\n   private _currentOpacity: Number = 1.0;\n   private _sprites: { [key: string]: Sprite; } = {};\n\n   // text shadow\n   private _textShadowOn: boolean = false;\n   private _textShadowDirty: boolean = true;\n   private _textShadowColor: Color = Color.Black.clone();\n   private _textShadowSprites: { [key: string]: Sprite; } = {};\n   private _shadowOffsetX: number = 5;\n   private _shadowOffsetY: number = 5;\n   private _alphabet: string;\n   private _caseInsensitive: boolean;\n\n   /**\n    * @param image           The backing image texture to build the SpriteFont\n    * @param alphabet        A string representing all the characters in the image, in row major order.\n    * @param caseInsensitive  Indicate whether this font takes case into account \n    * @param columns         The number of columns of characters in the image\n    * @param rows            The number of rows of characters in the image\n    * @param spWidth         The width of each character in pixels\n    * @param spHeight        The height of each character in pixels\n    */\n   constructor(imageOrConfig: Texture | ISpriteFontInitArgs,\n      alphabet: string,\n      caseInsensitive: boolean,\n      columns: number,\n      rows: number,\n      spWidth: number,\n      spHeight: number) {\n      super(imageOrConfig instanceof Texture ? {image: imageOrConfig, spWidth: spWidth,\n                                                spHeight: spHeight, rows: rows, columns: columns } : imageOrConfig);\n\n         if (imageOrConfig && !(imageOrConfig instanceof Texture)) {\n            alphabet = imageOrConfig.alphabet;\n            caseInsensitive = imageOrConfig.caseInsensitive;\n         }\n\n      this._alphabet = alphabet;\n      this._caseInsensitive = caseInsensitive;\n      this._sprites = this.getTextSprites();\n   }\n\n   /**\n    * Returns a dictionary that maps each character in the alphabet to the appropriate [[Sprite]].\n    */\n   public getTextSprites(): { [key: string]: Sprite; } {\n      var lookup: { [key: string]: Sprite; } = {};\n      for (var i = 0; i < this._alphabet.length; i++) {\n         var char = this._alphabet[i];\n         if (this._caseInsensitive) {\n            char = char.toLowerCase();\n         }\n         lookup[char] = this.sprites[i].clone();\n      }\n      return lookup;\n   }\n\n   /**\n    * Sets the text shadow for sprite fonts\n    * @param offsetX      The x offset in pixels to place the shadow\n    * @param offsetY      The y offset in pixels to place the shadow\n    * @param shadowColor  The color of the text shadow\n    */\n   public setTextShadow(offsetX: number, offsetY: number, shadowColor: Color) {\n      this._textShadowOn = true;\n      this._shadowOffsetX = offsetX;\n      this._shadowOffsetY = offsetY;\n      this._textShadowColor = shadowColor.clone();\n      this._textShadowDirty = true;\n      for (var character in this._sprites) {\n         this._textShadowSprites[character] = this._sprites[character].clone();\n      }\n   }\n\n   /**\n    * Toggles text shadows on or off\n    */\n   public useTextShadow(on: boolean) {\n      this._textShadowOn = on;\n      if (on) {\n         this.setTextShadow(5, 5, this._textShadowColor);\n      }\n   }\n   \n   /**\n    * Draws the current sprite font \n    */\n   public draw(ctx: CanvasRenderingContext2D, text: string, x: number, y: number, options: ISpriteFontOptions) {\n      options = this._parseOptions(options);\n      \n      if (this._currentColor.toString() !== options.color.toString() || this._currentOpacity !== options.opacity) {\n         this._currentOpacity = options.opacity;\n         this._currentColor = options.color;\n         for (var char in this._sprites) {\n            this._sprites[char].clearEffects();\n            this._sprites[char].fill(options.color);\n            this._sprites[char].opacity(options.opacity);\n         }\n      }\n\n      if (this._textShadowOn && this._textShadowDirty && this._textShadowColor) {\n         for (var characterShadow in this._textShadowSprites) {\n            this._textShadowSprites[characterShadow].clearEffects();\n            this._textShadowSprites[characterShadow].addEffect(new Effects.Fill(this._textShadowColor.clone()));\n         }\n         this._textShadowDirty = false;\n      }\n      \n      \n      // find the current length of text in pixels\n      var sprite = this.sprites[0];\n      \n      // find the current height fo the text in pixels\n      var height = sprite.drawHeight;\n      \n      // calculate appropriate scale for font size\n      var scale = options.fontSize / height;\n      \n      var length = (text.length * sprite.drawWidth * scale) + (text.length * options.letterSpacing);\n\n      var currX = x;\n      if (options.textAlign === TextAlign.Left || options.textAlign === TextAlign.Start) {\n         currX = x;\n      } else if (options.textAlign === TextAlign.Right || options.textAlign === TextAlign.End) {\n         currX = x - length;\n      } else if (options.textAlign === TextAlign.Center) {\n         currX = x - length / 2;\n      }\n               \n\n      var currY = y - height * scale;\n      if (options.baseAlign === BaseAlign.Top || options.baseAlign === BaseAlign.Hanging) {\n         currY = y;\n      } else if (options.baseAlign === BaseAlign.Ideographic || \n                  options.baseAlign === BaseAlign.Bottom || \n                  options.baseAlign === BaseAlign.Alphabetic) {\n         currY = y - height * scale;\n      } else if (options.baseAlign === BaseAlign.Middle) {\n         currY = y - (height * scale) / 2;\n      }\n      \n      \n      for (var i = 0; i < text.length; i++) {\n         var character = text[i];\n         if (this._caseInsensitive) {\n            character = character.toLowerCase();\n         }\n         try {\n            // if text shadow\n            if (this._textShadowOn) {\n               this._textShadowSprites[character].scale.x = scale;\n               this._textShadowSprites[character].scale.y = scale;\n               this._textShadowSprites[character].draw(ctx, currX + this._shadowOffsetX, currY + this._shadowOffsetY);\n            }\n            \n            var charSprite = this._sprites[character];\n            charSprite.scale.x = scale;\n            charSprite.scale.y = scale;\n            charSprite.draw(ctx, currX, currY);\n            currX += (charSprite.drawWidth + options.letterSpacing);\n         } catch (e) {\n            Logger.getInstance().error(`SpriteFont Error drawing char ${character}`);\n         }\n      }\n      \n   }\n\n   private _parseOptions(options: ISpriteFontOptions): ISpriteFontOptions {\n      return {\n         fontSize: options.fontSize || 10,\n         letterSpacing: options.letterSpacing || 0,\n         color: options.color || Color.Black.clone(),\n         textAlign: typeof options.textAlign === undefined ? TextAlign.Left : options.textAlign,\n         baseAlign: typeof options.baseAlign === undefined ?  BaseAlign.Bottom : options.baseAlign,\n         maxWidth: options.maxWidth || -1,\n         opacity: options.opacity || 0\n      };\n   }\n}\n\n/**\n * Specify various font attributes for sprite fonts \n */\nexport interface ISpriteFontOptions {\n   color?: Color;\n   opacity?: number;\n   fontSize?: number;\n   letterSpacing?: number;\n   textAlign?: TextAlign;\n   baseAlign?: BaseAlign;\n   maxWidth?: number;\n}\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface ISpriteFontInitArgs extends ISpriteSheetArgs {\n   image: Texture;\n   columns: number;\n   rows: number;\n   spWidth: number;\n   spHeight: number;\n   alphabet: string;\n   caseInsensitive: boolean;\n}\n\n/**\n * Sprite fonts are a used in conjunction with a [[Label]] to specify\n * a particular bitmap as a font. Note that some font features are not \n * supported by Sprite fonts.\n *\n * [[include:SpriteFonts.md]]\n */\nexport class SpriteFont extends Configurable(SpriteFontImpl) {\n   constructor(config: ISpriteFontInitArgs);\n   constructor(image: Texture,\n      alphabet: string,\n      caseInsensitive: boolean,\n      columns: number,\n      rows: number,\n      spWidth: number,\n      spHeight: number)\n   constructor(imageOrConfig: Texture | ISpriteFontInitArgs,\n      alphabet?: string,\n      caseInsensitive?: boolean,\n      columns?: number,\n      rows?: number,\n      spWidth?: number,\n      spHeight?: number) {\n         super(imageOrConfig, alphabet, caseInsensitive, columns, rows, spWidth, spHeight);\n      }\n}","import { BoundingBox } from './Collision/BoundingBox';\nimport { Color } from './Drawing/Color';\nimport { Class } from './Class';\nimport { Engine } from './Engine';\nimport { Vector } from './Algebra';\nimport { Actor } from './Actor';\nimport { Logger } from './Util/Log';\nimport { SpriteSheet } from './Drawing/SpriteSheet';\nimport * as Events from './Events';\nimport { Configurable } from './Configurable';\n\n/**\n * @hidden\n */\nexport class TileMapImpl extends Class {\n   private _collidingX: number = -1;\n   private _collidingY: number = -1;\n   private _onScreenXStart: number = 0;\n   private _onScreenXEnd: number = 9999;\n   private _onScreenYStart: number = 0;\n   private _onScreenYEnd: number = 9999;\n   private _spriteSheets: { [key: string]: SpriteSheet } = {};\n   public logger: Logger = Logger.getInstance();\n   public data: Cell[] = [];\n   public x: number;\n   public y: number;\n   public cellWidth: number;\n   public cellHeight: number;\n   public rows: number;\n   public cols: number;\n\n   public on(eventName: Events.preupdate, handler: (event?: Events.PreUpdateEvent) => void): void;\n   public on(eventName: Events.postupdate, handler: (event?: Events.PostUpdateEvent) => void): void;\n   public on(eventName: Events.predraw, handler: (event?: Events.PreDrawEvent) => void): void;\n   public on(eventName: Events.postdraw, handler: (event?: Events.PostDrawEvent) => void): void;\n   public on(eventName: string, handler: (event?: Events.GameEvent<any>) => void): void;\n   public on(eventName: string, handler: (event?: any) => void): void {\n      super.on(eventName, handler);\n   }\n\n   /**\n    * @param x             The x coordinate to anchor the TileMap's upper left corner (should not be changed once set)\n    * @param y             The y coordinate to anchor the TileMap's upper left corner (should not be changed once set)\n    * @param cellWidth     The individual width of each cell (in pixels) (should not be changed once set)\n    * @param cellHeight    The individual height of each cell (in pixels) (should not be changed once set)\n    * @param rows          The number of rows in the TileMap (should not be changed once set)\n    * @param cols          The number of cols in the TileMap (should not be changed once set)\n    */\n   constructor(\n      xOrConfig: number | ITileMapArgs,\n      y: number,\n      cellWidth: number,\n      cellHeight: number,\n      rows: number,\n      cols: number) {\n      super();\n      if (xOrConfig && typeof xOrConfig === 'object') {\n         var config = xOrConfig;\n         xOrConfig = config.x;\n         y = config.y;\n         cellWidth = config.cellWidth;\n         cellHeight = config.cellHeight;\n         rows = config.rows;\n         cols = config.cols;\n      }\n      this.data = new Array<Cell>(rows * cols);\n      for (var i = 0; i < cols; i++) {\n         for (var j = 0; j < rows; j++) {\n            (() => {\n               var cd = new Cell(\n                  i * cellWidth + <number>xOrConfig,\n                  j * cellHeight + y,\n                  cellWidth,\n                  cellHeight,\n                  i + j * cols);\n               this.data[i + j * cols] = cd;\n            })();\n         }\n      }\n   }\n\n   public registerSpriteSheet(key: string, spriteSheet: SpriteSheet) {\n      this._spriteSheets[key] = spriteSheet;\n   }\n   /**\n    * Returns the intersection vector that can be used to resolve collisions with actors. If there\n    * is no collision null is returned.\n    */\n   public collides(actor: Actor): Vector {\n      var width = actor.pos.x + actor.getWidth();\n      var height = actor.pos.y + actor.getHeight();\n      var actorBounds = actor.getBounds();\n      var overlaps: Vector[] = [];\n      // trace points for overlap\n      for (var x = actorBounds.left; x <= width; x += Math.min(actor.getWidth() / 2, this.cellWidth / 2)) {\n         for (var y = actorBounds.top; y <= height; y += Math.min(actor.getHeight() / 2, this.cellHeight / 2)) {\n            var cell = this.getCellByPoint(x, y);\n            if (cell && cell.solid) {\n               var overlap = actorBounds.collides(cell.getBounds());\n               var dir = actor.getCenter().sub(cell.getCenter());\n               if (overlap && overlap.dot(dir) > 0) {\n                  overlaps.push(overlap);\n               }\n            }\n         }\n      }\n      if (overlaps.length === 0) {\n         return null;\n      }\n      // Return the smallest change other than zero\n      var result = overlaps.reduce((accum, next) => {\n         var x = accum.x;\n         var y = accum.y;\n         if (Math.abs(accum.x) < Math.abs(next.x)) {\n            x = next.x;\n         }\n         if (Math.abs(accum.y) < Math.abs(next.y)) {\n            y = next.y;\n         }\n         return new Vector(x, y);\n      });\n      return result;\n   }\n\n   /**\n    * Returns the [[Cell]] by index (row major order)\n    */\n   public getCellByIndex(index: number): Cell {\n      return this.data[index];\n   }\n   /**\n    * Returns the [[Cell]] by its x and y coordinates\n    */\n   public getCell(x: number, y: number): Cell {\n      if (x < 0 || y < 0 || x >= this.cols || y >= this.rows) {\n         return null;\n      }\n      return this.data[x + y * this.cols];\n   }\n   /**\n    * Returns the [[Cell]] by testing a point in global coordinates, \n    * returns `null` if no cell was found.\n    */\n   public getCellByPoint(x: number, y: number): Cell {\n      x = Math.floor((x - this.x) / this.cellWidth);\n      y = Math.floor((y - this.y) / this.cellHeight);\n      var cell = this.getCell(x, y);\n      if (x >= 0 && y >= 0 && x < this.cols && y < this.rows && cell) {\n         return cell;\n      }\n      return null;\n   }\n\n   public update(engine: Engine, delta: number) {\n      this.emit('preupdate', new Events.PreUpdateEvent(engine, delta, this));\n\n      var worldCoordsUpperLeft = engine.screenToWorldCoordinates(new Vector(0, 0));\n      var worldCoordsLowerRight = engine.screenToWorldCoordinates(new Vector(engine.canvas.clientWidth, engine.canvas.clientHeight));\n\n      this._onScreenXStart = Math.max(Math.floor((worldCoordsUpperLeft.x - this.x) / this.cellWidth) - 2, 0);\n      this._onScreenYStart = Math.max(Math.floor((worldCoordsUpperLeft.y - this.y) / this.cellHeight) - 2, 0);\n      this._onScreenXEnd = Math.max(Math.floor((worldCoordsLowerRight.x - this.x) / this.cellWidth) + 2, 0);\n      this._onScreenYEnd = Math.max(Math.floor((worldCoordsLowerRight.y - this.y) / this.cellHeight) + 2, 0);\n\n      this.emit('postupdate', new Events.PostUpdateEvent(engine, delta, this));\n   }\n\n   /**\n    * Draws the tile map to the screen. Called by the [[Scene]].\n    * @param ctx    The current rendering context\n    * @param delta  The number of milliseconds since the last draw\n    */\n   public draw(ctx: CanvasRenderingContext2D, delta: number) {\n      this.emit('predraw', new Events.PreDrawEvent(ctx, delta, this));\n\n      ctx.save();\n      ctx.translate(this.x, this.y);\n\n      let x = this._onScreenXStart; \n      let xEnd = Math.min(this._onScreenXEnd, this.cols);\n      let y = this._onScreenYStart;\n      let yEnd = Math.min(this._onScreenYEnd, this.rows);\n\n      var cs: TileSprite[], csi: number, cslen: number;\n\n      for (x; x < xEnd; x++) {\n         for (y; y < yEnd; y++) {\n\n            // get non-negative tile sprites\n            cs = this.getCell(x, y).sprites.filter((s) => {\n               return s.spriteId > -1;\n            });\n\n            for (csi = 0, cslen = cs.length; csi < cslen; csi++) {\n               var ss = this._spriteSheets[cs[csi].spriteSheetKey];\n\n               // draw sprite, warning if sprite doesn't exist\n               if (ss) {\n                  var sprite = ss.getSprite(cs[csi].spriteId);\n                  if (sprite) {\n                     sprite.draw(ctx, x * this.cellWidth, y * this.cellHeight);\n                  } else {\n                     this.logger.warn('Sprite does not exist for id',\n                        cs[csi].spriteId,\n                        'in sprite sheet',\n                        cs[csi].spriteSheetKey, sprite, ss);\n                  }\n               } else {\n                  this.logger.warn('Sprite sheet', cs[csi].spriteSheetKey, 'does not exist', ss);\n               }\n            }\n         }\n         y = this._onScreenYStart;\n      }\n      ctx.restore();\n\n      this.emit('postdraw', new Events.PostDrawEvent(ctx, delta, this));\n   }\n\n   /**\n    * Draws all the tile map's debug info. Called by the [[Scene]].\n    * @param ctx  The current rendering context\n    */\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      var width = this.cols * this.cellWidth;\n      var height = this.rows * this.cellHeight;\n      ctx.save();\n      ctx.strokeStyle = Color.Red.toString();\n      for (var x = 0; x < this.cols + 1; x++) {\n         ctx.beginPath();\n         ctx.moveTo(this.x + x * this.cellWidth, this.y);\n         ctx.lineTo(this.x + x * this.cellWidth, this.y + height);\n         ctx.stroke();\n      }\n      for (var y = 0; y < this.rows + 1; y++) {\n         ctx.beginPath();\n         ctx.moveTo(this.x, this.y + y * this.cellHeight);\n         ctx.lineTo(this.x + width, this.y + y * this.cellHeight);\n         ctx.stroke();\n      }\n      var solid = Color.Red.clone();\n      solid.a = .3;\n      this.data.filter(function (cell) {\n         return cell.solid;\n      }).forEach(function (cell) {\n         ctx.fillStyle = solid.toString();\n         ctx.fillRect(cell.x, cell.y, cell.width, cell.height);\n      });\n      if (this._collidingY > -1 && this._collidingX > -1) {\n         ctx.fillStyle = Color.Cyan.toString();\n         ctx.fillRect(this.x + this._collidingX * this.cellWidth,\n            this.y + this._collidingY * this.cellHeight,\n            this.cellWidth,\n            this.cellHeight);\n      }\n      ctx.restore();\n   }\n}\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface ITileMapArgs extends Partial<TileMapImpl> {\n   x: number;\n   y: number;\n   cellWidth: number;\n   cellHeight: number;\n   rows: number;\n   cols: number;\n}\n\n/**\n * The [[TileMap]] class provides a lightweight way to do large complex scenes with collision\n * without the overhead of actors.\n *\n * [[include:TileMaps.md]]\n */\nexport class TileMap extends Configurable(TileMapImpl) {\n   constructor(config: ITileMapArgs);\n   constructor(\n      x: number,\n      y: number,\n      cellWidth: number,\n      cellHeight: number,\n      rows: number,\n      cols: number);\n      constructor(\n         xOrConfig: number | ITileMapArgs,\n         y?: number,\n         cellWidth?: number,\n         cellHeight?: number,\n         rows?: number,\n         cols?: number) {\n            super(xOrConfig, y, cellWidth, cellHeight, rows, cols);\n         }\n}\n\n/**\n * Tile sprites are used to render a specific sprite from a [[TileMap]]'s spritesheet(s)\n */\nexport class TileSprite {\n   /**\n    * @param spriteSheetKey  The key of the spritesheet to use\n    * @param spriteId        The index of the sprite in the [[SpriteSheet]]\n    */\n   constructor(public spriteSheetKey: string, public spriteId: number) { }\n}\n\n/**\n * @hidden\n */\nexport class CellImpl {\n   private _bounds: BoundingBox;\n   public x: number;\n   public y: number;\n   public width: number;\n   public height: number;\n   public index: number;\n   public solid: boolean = false;\n   public sprites: TileSprite[] = [];\n\n   /**\n    * @param x       Gets or sets x coordinate of the cell in world coordinates\n    * @param y       Gets or sets y coordinate of the cell in world coordinates\n    * @param width   Gets or sets the width of the cell \n    * @param height  Gets or sets the height of the cell \n    * @param index   The index of the cell in row major order\n    * @param solid   Gets or sets whether this cell is solid\n    * @param sprites The list of tile sprites to use to draw in this cell (in order)\n    */\n   constructor(\n      xOrConfig: number | ICellArgs,\n      y: number,\n      width: number,\n      height: number,\n      index: number,\n      solid: boolean = false,\n      sprites: TileSprite[] = []) {\n         if (xOrConfig && typeof xOrConfig === 'object') {\n            var config = xOrConfig;\n            xOrConfig = config.x;\n            y = config.y;\n            width = config.width;\n            height = config.height;\n            index = config.index;\n            solid = config.solid;\n            sprites = config.sprites;\n         }\n      this.x = <number>xOrConfig;\n      this.y = y;\n      this.width = width;\n      this.height = height;\n      this.index = index;\n      this.solid = solid;\n      this.sprites = sprites;\n      this._bounds = new BoundingBox(this.x, this.y, this.x + this.width, this.y + this.height);\n   }\n\n   /**\n    * Returns the bounding box for this cell\n    */\n   public getBounds() {\n      return this._bounds;\n   }\n   /**\n    * Gets the center coordinate of this cell\n    */\n   public getCenter(): Vector {\n      return new Vector(this.x + this.width / 2, this.y + this.height / 2);\n   }\n   /**\n    * Add another [[TileSprite]] to this cell\n    */\n   public pushSprite(tileSprite: TileSprite) {\n      this.sprites.push(tileSprite);\n   }\n   /**\n    * Remove an instance of [[TileSprite]] from this cell\n    */\n   public removeSprite(tileSprite: TileSprite) {\n      var index = -1;\n      if ((index = this.sprites.indexOf(tileSprite)) > -1) {\n         this.sprites.splice(index, 1);\n      }\n   }\n   /**\n    * Clear all sprites from this cell\n    */\n   public clearSprites() {\n      this.sprites.length = 0;\n   }\n}\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface ICellArgs extends Partial<CellImpl> {\n   x: number;\n   y: number;\n   width: number;\n   height: number;\n   index: number;\n   solid?: boolean;\n   sprites?: TileSprite[];\n}\n\n/**\n * TileMap Cell\n *\n * A light-weight object that occupies a space in a collision map. Generally\n * created by a [[TileMap]].\n *\n * Cells can draw multiple sprites. Note that the order of drawing is the order\n * of the sprites in the array so the last one will be drawn on top. You can\n * use transparency to create layers this way.\n */\nexport class Cell extends Configurable(CellImpl) {\n   constructor(config: ICellArgs);\n   constructor(\n      x: number,\n      y: number,\n      width: number,\n      height: number,\n      index: number,\n      solid?: boolean,\n      sprites?: TileSprite[]); \n      constructor(\n         xOrConfig: number | ICellArgs,\n         y?: number,\n         width?: number,\n         height?: number,\n         index?: number,\n         solid?: boolean,\n         sprites?: TileSprite[]) {\n            super(xOrConfig, y, width, height, index, solid, sprites);\n         }\n}","import { Color } from './Drawing/Color';\nimport { Engine } from './Engine';\nimport { ActionQueue } from './Actions/Action';\nimport { EventDispatcher } from './EventDispatcher';\nimport { Actor, CollisionType } from './Actor';\nimport { Vector } from 'Algebra';\nimport { ExitTriggerEvent, EnterTriggerEvent, CollisionEndEvent, CollisionStartEvent } from './Events';\nimport * as Util from './Util/Util';\n\n/**\n * ITriggerOptions\n */\nexport interface ITriggerOptions {\n   // position of the trigger\n   pos: Vector;\n   // width of the trigger\n   width: number;\n   // height of the trigger\n   height: number;\n   // whether the trigger is visible or not\n   visible: boolean;\n   // action to take when triggered\n   action: () => void;\n   // if specified the trigger will only fire on a specific actor and overrides any filter\n   target: Actor;\n   // Returns true if the triggers should fire on the collided actor\n   filter: (actor: Actor) => boolean;\n   // -1 if it should repeat forever\n   repeat: number;\n}\n\nlet triggerDefaults: Partial<ITriggerOptions> = {\n   pos: Vector.Zero.clone(),\n   width: 10,\n   height: 10,\n   visible: false,\n   action: () => { return; },\n   filter: () => true,\n   repeat: -1\n};\n\n\n/**\n * Triggers are a method of firing arbitrary code on collision. These are useful\n * as 'buttons', 'switches', or to trigger effects in a game. By default triggers\n * are invisible, and can only be seen when [[Trigger.visible]] is set to `true`.\n * \n * [[include:Triggers.md]]\n */\nexport class Trigger extends Actor {\n   private _target: Actor;\n   /**\n    * Action to fire when triggered by collision\n    */\n   public action: () => void = () => { return; };\n   /**\n    * Filter to add additional granularity to action dispatch, if a filter is specified the action will only fire when\n    * filter return true for the collided actor.\n    */\n   public filter: (actor: Actor) => boolean = () => true;\n   /**\n    * Number of times to repeat before killing the trigger, \n    */\n   public repeat: number = -1;\n\n   /**\n    * \n    * @param opts Trigger options\n    */\n   constructor(opts: Partial<ITriggerOptions>) {\n      super(opts.pos.x, opts.pos.y, opts.width, opts.height);\n      opts = Util.extend({}, triggerDefaults, opts);\n\n      this.filter = opts.filter || this.filter;\n      this.repeat = opts.repeat || this.repeat;\n      this.action = opts.action || this.action;\n      if (opts.target) {\n         this.target = opts.target;\n      }\n\n      this.visible = opts.visible;\n      this.collisionType = CollisionType.Passive;\n      this.eventDispatcher = new EventDispatcher(this);\n      this.actionQueue = new ActionQueue(this);\n\n      this.on('collisionstart', (evt: CollisionStartEvent) => {\n         if (this.filter(evt.other)) {  \n            this.emit('enter', new EnterTriggerEvent(this, evt.other));\n            this._dispatchAction();\n            // remove trigger if its done, -1 repeat forever\n            if (this.repeat === 0) {\n               this.kill();\n            }\n         }\n      });\n\n      this.on('collisionend', (evt: CollisionEndEvent) => {\n         if (this.filter(evt.other)) {\n            this.emit('exit', new ExitTriggerEvent(this, evt.other));\n         }\n      });\n   }\n\n   public set target(target: Actor) {\n      this._target = target;\n      this.filter = (actor: Actor) => actor === target;\n   }\n\n   public get target() {\n      return this._target;\n   }\n   \n   public _initialize(engine: Engine) {\n      super._initialize(engine);\n   }\n\n   private _dispatchAction() {\n      this.action.call(this);\n      this.repeat--;\n   }\n\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      super.debugDraw(ctx);\n      // Meant to draw debug information about actors\n      ctx.save();\n      ctx.translate(this.pos.x, this.pos.y);\n\n      var bb = this.getBounds();\n      var wp = this.getWorldPos();\n      bb.left = bb.left - wp.x;\n      bb.right = bb.right - wp.x;\n      bb.top = bb.top - wp.y;\n      bb.bottom = bb.bottom - wp.y;\n\n      // Currently collision primitives cannot rotate \n      // ctx.rotate(this.rotation);\n      ctx.fillStyle = Color.Violet.toString();\n      ctx.strokeStyle = Color.Violet.toString();\n      ctx.fillText('Trigger', 10, 10);\n      bb.debugDraw(ctx);\n\n      ctx.restore();\n   }\n}\n","import { Actor } from '../Actor';\nimport { UIActor } from '../UIActor';\nimport { Label } from '../Label';\nimport { Trigger } from '../Trigger';\n\nexport function isVanillaActor(actor: Actor) {\n   return !(actor instanceof UIActor) &&\n          !(actor instanceof Trigger) &&\n          !(actor instanceof Label);\n}\n\nexport function isUIActor(actor: Actor) {\n   return actor instanceof UIActor;\n}","import { UIActor } from './UIActor';\nimport { Physics } from './Physics';\nimport { InitializeEvent, ActivateEvent, DeactivateEvent, PreUpdateEvent, PostUpdateEvent,\n   PreDrawEvent, PostDrawEvent, PreDebugDrawEvent, PostDebugDrawEvent, GameEvent } from './Events';\nimport { Logger } from './Util/Log';\nimport { Timer } from './Timer';\nimport { DynamicTreeCollisionBroadphase } from './Collision/DynamicTreeCollisionBroadphase';\nimport { ICollisionBroadphase } from './Collision/ICollisionResolver';\nimport { SortedList } from './Util/SortedList';\nimport { Engine } from './Engine';\nimport { Group } from './Group';\nimport { TileMap } from './TileMap';\nimport { BaseCamera } from './Camera';\nimport { Actor } from './Actor';\nimport { Class } from './Class';\nimport { ICanInitialize, ICanActivate, ICanDeactivate, ICanUpdate, ICanDraw } from './Interfaces/LifecycleEvents';\nimport * as Util from './Util/Util';\nimport * as Events from './Events';\nimport * as ActorUtils from './Util/Actors';\nimport { Trigger } from './Trigger';\n/**\n * [[Actor|Actors]] are composed together into groupings called Scenes in\n * Excalibur. The metaphor models the same idea behind real world\n * actors in a scene. Only actors in scenes will be updated and drawn.\n *\n * Typical usages of a scene include: levels, menus, loading screens, etc.\n *\n * [[include:Scenes.md]]\n */\nexport class Scene extends Class implements ICanInitialize, ICanActivate, ICanDeactivate, ICanUpdate, ICanDraw {\n\n   /**\n    * Gets or sets the current camera for the scene\n    */\n   public camera: BaseCamera;\n\n   /**\n    * The actors in the current scene\n    */\n   public actors: Actor[] = [];\n\n   /**\n    * The triggers in the current scene\n    */\n   public triggers: Trigger[] = [];\n\n   /**\n    * The [[TileMap]]s in the scene, if any\n    */\n   public tileMaps: TileMap[] = [];\n\n   /**\n    * The [[Group]]s in the scene, if any\n    */\n   public groups: { [key: string]: Group } = {};\n\n   /**\n    * Access to the Excalibur engine\n    */\n   public engine: Engine;\n\n   /**\n    * The [[UIActor]]s in a scene, if any; these are drawn last\n    */\n   public uiActors: Actor[] = [];\n\n\n   private _isInitialized: boolean = false;\n\n   private _sortedDrawingTree: SortedList<Actor> = new SortedList<Actor>(Actor.prototype.getZIndex);\n\n   private _broadphase: ICollisionBroadphase = new DynamicTreeCollisionBroadphase();\n\n   private _killQueue: Actor[] = [];\n   private _triggerKillQueue: Trigger[] = [];\n   private _timers: Timer[] = [];\n   private _cancelQueue: Timer[] = [];\n   private _logger: Logger = Logger.getInstance();\n\n   constructor(engine?: Engine) {\n      super();\n      this.camera = new BaseCamera();\n      if (engine) {\n         this.camera.x = engine.halfDrawWidth;\n         this.camera.y = engine.halfDrawHeight;\n      }\n   }\n\n   public on(eventName: Events.initialize, handler: (event?: InitializeEvent) => void): void;\n   public on(eventName: Events.activate, handler: (event?: ActivateEvent) => void): void;\n   public on(eventName: Events.deactivate, handler: (event?: DeactivateEvent) => void): void;\n   public on(eventName: Events.preupdate, handler: (event?: PreUpdateEvent) => void): void;\n   public on(eventName: Events.postupdate, handler: (event?: PostUpdateEvent) => void): void;\n   public on(eventName: Events.predraw, handler: (event?: PreDrawEvent) => void): void;\n   public on(eventName: Events.postdraw, handler: (event?: PostDrawEvent) => void): void;\n   public on(eventName: Events.predebugdraw, handler: (event?: PreDebugDrawEvent) => void): void;\n   public on(eventName: Events.postdebugdraw, handler: (event?: PostDebugDrawEvent) => void): void;\n   public on(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public on(eventName: string, handler: (event?: any) => void): void {\n      super.on(eventName, handler);\n   }\n\n   public once(eventName: Events.initialize, handler: (event?: InitializeEvent) => void): void;\n   public once(eventName: Events.activate, handler: (event?: ActivateEvent) => void): void;\n   public once(eventName: Events.deactivate, handler: (event?: DeactivateEvent) => void): void;\n   public once(eventName: Events.preupdate, handler: (event?: PreUpdateEvent) => void): void;\n   public once(eventName: Events.postupdate, handler: (event?: PostUpdateEvent) => void): void;\n   public once(eventName: Events.predraw, handler: (event?: PreDrawEvent) => void): void;\n   public once(eventName: Events.postdraw, handler: (event?: PostDrawEvent) => void): void;\n   public once(eventName: Events.predebugdraw, handler: (event?: PreDebugDrawEvent) => void): void;\n   public once(eventName: Events.postdebugdraw, handler: (event?: PostDebugDrawEvent) => void): void;\n   public once(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public once(eventName: string, handler: (event?: any) => void): void {\n      super.once(eventName, handler);\n   }\n\n   public off(eventName: Events.initialize, handler?: (event?: InitializeEvent) => void): void;\n   public off(eventName: Events.activate, handler?: (event?: ActivateEvent) => void): void;\n   public off(eventName: Events.deactivate, handler?: (event?: DeactivateEvent) => void): void;\n   public off(eventName: Events.preupdate, handler?: (event?: PreUpdateEvent) => void): void;\n   public off(eventName: Events.postupdate, handler?: (event?: PostUpdateEvent) => void): void;\n   public off(eventName: Events.predraw, handler?: (event?: PreDrawEvent) => void): void;\n   public off(eventName: Events.postdraw, handler?: (event?: PostDrawEvent) => void): void;\n   public off(eventName: Events.predebugdraw, handler?: (event?: PreDebugDrawEvent) => void): void;\n   public off(eventName: Events.postdebugdraw, handler?: (event?: PostDebugDrawEvent) => void): void;\n   public off(eventName: string, handler?: (event?: GameEvent<any>) => void): void;\n   public off(eventName: string, handler?: (event?: any) => void): void {\n      super.off(eventName, handler);\n   }\n\n\n   /**\n    * This is called before the first update of the [[Scene]]. Initializes scene members like the camera. This method is meant to be\n    * overridden. This is where initialization of child actors should take place.\n    */\n   public onInitialize(_engine: Engine): void {\n      // will be overridden\n   }\n\n   /**\n    * This is called when the scene is made active and started. It is meant to be overriden,\n    * this is where you should setup any DOM UI or event handlers needed for the scene.\n    */\n   public onActivate(_oldScene: Scene, _newScene: Scene): void {\n      // will be overridden\n   }\n\n   /**\n    * This is called when the scene is made transitioned away from and stopped. It is meant to be overriden,\n    * this is where you should cleanup any DOM UI or event handlers needed for the scene.\n    */\n   public onDeactivate(_oldScene: Scene, _newScene: Scene): void {\n      // will be overridden\n   }\n\n   /**\n    * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n    * \n    * `onPreUpdate` is called directly before a scene is updated.\n    */\n   public onPreUpdate(_engine: Engine, _delta: number): void {\n      // will be overridden\n   }\n\n   /**\n    * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n    * \n    * `onPostUpdate` is called directly after a scene is updated.\n    */\n   public onPostUpdate(_engine: Engine, _delta: number): void {\n      // will be overridden\n   }\n\n   /**\n    * Safe to override onPreDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n    * \n    * `onPreDraw` is called directly before a scene is drawn.\n    */\n   public onPreDraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n      // will be overridden\n   }\n\n   /**\n    * Safe to override onPostDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n    * \n    * `onPostDraw` is called directly after a scene is drawn.\n    */\n   public onPostDraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n      // will be overridden\n   }\n\n\n   /**\n    * Initializes actors in the scene\n    */\n   private _initializeChildren(): void {\n      for (var child of this.actors) {\n         child._initialize(this.engine);\n      }\n   }\n\n   /**\n    * Gets whether or not the [[Scene]] has been initialized\n    */\n   public get isInitialized(): boolean {\n      return this._isInitialized;\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Initializes the scene before the first update, meant to be called by engine not by users of\n    * Excalibur\n    * @internal\n    */\n   public _initialize(engine: Engine) {\n      if (!this.isInitialized) {\n         if (this.camera) {\n            this.camera.x = engine.halfDrawWidth;\n            this.camera.y = engine.halfDrawHeight;\n         }\n\n         this._initializeChildren();\n         \n         this._logger.debug('Scene.onInitialize', this, engine);\n\n         this.eventDispatcher.emit('initialize', new InitializeEvent(engine, this));\n         this.onInitialize.call(this, engine);\n         this._isInitialized = true;\n      }\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Activates the scene with the base behavior, then calls the overridable `onActivate` implementation.\n    * @internal\n    */\n   public _activate(oldScene: Scene, newScene: Scene): void {\n      \n      this._logger.debug('Scene.onActivate', this);\n      this.onActivate(oldScene, newScene);\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Deactivates the scene with the base behavior, then calls the overridable `onDeactivate` implementation.\n    * @internal\n    */\n   public _deactivate(oldScene: Scene, newScene: Scene): void {\n      this._logger.debug('Scene.onDectivate', this);\n      this.onDeactivate(oldScene, newScene);\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n    * @internal\n    */\n   public _preupdate(_engine: Engine, delta: number): void {      \n      this.emit('preupdate', new PreUpdateEvent(_engine, delta, this));\n      this.onPreUpdate(_engine, delta);\n   }\n\n   /**\n    *  It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n    * @internal\n    */\n   public _postupdate(_engine: Engine, delta: number): void {      \n      this.emit('postupdate', new PostUpdateEvent(_engine, delta, this));\n      this.onPostUpdate(_engine, delta);\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _predraw handler for [[onPreDraw]] lifecycle event\n    * \n    * @internal\n    */\n   public _predraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n      this.emit('predraw', new PreDrawEvent(_ctx, _delta, this));\n      this.onPreDraw(_ctx, _delta);\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _postdraw handler for [[onPostDraw]] lifecycle event\n    * \n    * @internal\n    */\n   public _postdraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n      this.emit('postdraw', new PostDrawEvent(_ctx, _delta, this));\n      this.onPostDraw(_ctx, _delta);\n   }\n\n\n   /**\n    * Updates all the actors and timers in the scene. Called by the [[Engine]].\n    * @param engine  Reference to the current Engine\n    * @param delta   The number of milliseconds since the last update\n    */\n   public update(engine: Engine, delta: number) {\n      this._preupdate(engine, delta);\n      var i: number, len: number;\n\n      \n\n      // Remove timers in the cancel queue before updating them\n      for (i = 0, len = this._cancelQueue.length; i < len; i++) {\n         this.removeTimer(this._cancelQueue[i]);\n      }\n      this._cancelQueue.length = 0;\n\n      // Cycle through timers updating timers\n      for (var timer of this._timers) {\n         timer.update(delta);\n      };\n\n      // Cycle through actors updating UI actors\n      for (i = 0, len = this.uiActors.length; i < len; i++) {\n         this.uiActors[i].update(engine, delta);\n      }\n\n      // Cycle through actors updating tile maps\n      for (i = 0, len = this.tileMaps.length; i < len; i++) {\n         this.tileMaps[i].update(engine, delta);\n      }\n\n      // Cycle through actors updating actors\n      for (i = 0, len = this.actors.length; i < len; i++) {\n         this.actors[i].update(engine, delta);\n      }\n\n      // Cycle through triggers updating\n      for (i = 0, len = this.triggers.length; i < len; i++) {\n         this.triggers[i].update(engine, delta);\n      }\n\n      this._collectActorStats(engine);\n\n      // Run the broadphase and narrowphase\n      if (this._broadphase && Physics.enabled) {\n         var beforeBroadphase = Date.now();\n         this._broadphase.update(this.actors, delta);\n         var pairs = this._broadphase.broadphase(this.actors, delta, engine.stats.currFrame);\n         var afterBroadphase = Date.now();\n\n         var beforeNarrowphase = Date.now();\n         var iter: number = Physics.collisionPasses;\n         var collisionDelta = delta / iter;\n         while (iter > 0) {\n            // Run the narrowphase\n            pairs = this._broadphase.narrowphase(pairs, engine.stats.currFrame);\n            // Run collision resolution strategy\n            pairs = this._broadphase.resolve(pairs, collisionDelta, Physics.collisionResolutionStrategy);\n\n            this._broadphase.runCollisionStartEnd(pairs);\n            \n            iter--;\n         }\n         \n         var afterNarrowphase = Date.now();\n         engine.stats.currFrame.physics.broadphase = afterBroadphase - beforeBroadphase;\n         engine.stats.currFrame.physics.narrowphase = afterNarrowphase - beforeNarrowphase;\n      }\n\n      engine.stats.currFrame.actors.killed = this._killQueue.length + this._triggerKillQueue.length;\n\n      this._processKillQueue(this._killQueue, this.actors);\n      this._processKillQueue(this._triggerKillQueue, this.triggers);\n\n      if (this.camera) {\n         this.camera.update(engine, delta);\n      }\n\n      this._postupdate(engine, delta);\n   }\n\n    private _processKillQueue(killQueue: Actor[], collection: Actor[]) {\n        // Remove actors from scene graph after being killed\n        var actorIndex: number;\n        for (let killed of killQueue) {\n            actorIndex = collection.indexOf(killed);\n            if (actorIndex > -1) {\n                this._sortedDrawingTree.removeByComparable(killed);\n                collection.splice(actorIndex, 1);\n            }\n        }\n        killQueue.length = 0;\n    }\n\n   /**\n    * Draws all the actors in the Scene. Called by the [[Engine]].\n    * @param ctx    The current rendering context\n    * @param delta  The number of milliseconds since the last draw\n    */\n   public draw(ctx: CanvasRenderingContext2D, delta: number) {\n      this._predraw(ctx, delta);\n      ctx.save();\n\n      if (this.camera) {\n         this.camera.draw(ctx);\n      }\n\n      var i: number, len: number;\n\n      for (i = 0, len = this.tileMaps.length; i < len; i++) {\n         this.tileMaps[i].draw(ctx, delta);\n      }\n\n      var sortedChildren = this._sortedDrawingTree.list();\n      for (i = 0, len = sortedChildren.length; i < len; i++) {\n\n         // only draw actors that are visible and on screen\n         if (sortedChildren[i].visible && !sortedChildren[i].isOffScreen) {\n            sortedChildren[i].draw(ctx, delta);\n         }\n      }\n\n      if (this.engine && this.engine.isDebug) {\n         ctx.strokeStyle = 'yellow';\n         this.debugDraw(ctx);\n      }\n\n      ctx.restore();\n\n      for (i = 0, len = this.uiActors.length; i < len; i++) {\n         // only draw ui actors that are visible and on screen\n         if (this.uiActors[i].visible) {\n            this.uiActors[i].draw(ctx, delta);\n         }\n      }\n\n      if (this.engine && this.engine.isDebug) {\n         for (i = 0, len = this.uiActors.length; i < len; i++) {\n            this.uiActors[i].debugDraw(ctx);\n         }\n      }\n      this._postdraw(ctx, delta);\n   }\n\n   /**\n    * Draws all the actors' debug information in the Scene. Called by the [[Engine]].\n    * @param ctx  The current rendering context\n    */\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      this.emit('predebugdraw', new PreDebugDrawEvent(ctx, this));\n\n      var i: number, len: number;\n\n      for (i = 0, len = this.tileMaps.length; i < len; i++) {\n         this.tileMaps[i].debugDraw(ctx);\n      }\n\n      for (i = 0, len = this.actors.length; i < len; i++) {\n         this.actors[i].debugDraw(ctx);\n      }\n\n      for (i = 0, len = this.triggers.length; i < len; i++) {\n         this.triggers[i].debugDraw(ctx);\n      }\n\n      this._broadphase.debugDraw(ctx, 20);\n\n      this.camera.debugDraw(ctx);\n      this.emit('postdebugdraw', new PostDebugDrawEvent(ctx, this));\n   }\n\n   /**\n    * Checks whether an actor is contained in this scene or not\n    */\n   public contains(actor: Actor): boolean {\n      return this.actors.indexOf(actor) > -1;\n   }\n\n   /**\n    * Adds a [[Timer]] to the current [[Scene]].\n    * @param timer  The timer to add to the current [[Scene]].\n    */\n   public add(timer: Timer): void;\n\n   /**\n    * Adds a [[TileMap]] to the [[Scene]], once this is done the [[TileMap]] will be drawn and updated.\n    */\n   public add(tileMap: TileMap): void;\n\n   /**\n    * Adds a [[Trigger]] to the [[Scene]], once this is done the [[Trigger]] will listen for interactions with other actors.\n    * @param trigger \n    */\n   public add(trigger: Trigger): void;\n\n   /**\n    * Adds an actor to the scene, once this is done the [[Actor]] will be drawn and updated.\n    * @param actor  The actor to add to the current scene\n    */\n   public add(actor: Actor): void;\n\n   /**\n    * Adds a [[UIActor]] to the scene.\n    * @param uiActor  The UIActor to add to the current scene\n    */\n   public add(uiActor: UIActor): void;\n   public add(entity: any): void {\n      if (entity instanceof Actor) {\n         (<Actor>entity).unkill();\n      }\n      if (entity instanceof UIActor) {\n         if (!Util.contains(this.uiActors, entity)) {\n            this.addUIActor(entity);\n         }\n         return;\n      }\n\n      if (entity instanceof Actor) {\n         if (!Util.contains(this.actors, entity)) {\n            this._addChild(entity);\n         }\n         return;\n      }\n      if (entity instanceof Timer) {\n         if (!Util.contains(this._timers, entity)) {\n            this.addTimer(entity);\n         }\n         return;\n      }\n      if (entity instanceof TileMap) {\n         if (!Util.contains(this.tileMaps, entity)) {\n            this.addTileMap(entity);\n         }\n      }\n   }\n\n   /**\n    * Removes a [[Timer]] from the current scene, it will no longer be updated.\n    * @param timer  The timer to remove to the current scene.\n    */\n   public remove(timer: Timer): void;\n\n   /**\n    * Removes a [[TileMap]] from the scene, it will no longer be drawn or updated.\n    * @param tileMap {TileMap}\n    */\n   public remove(tileMap: TileMap): void;\n\n   /**\n    * Removes an actor from the scene, it will no longer be drawn or updated.\n    * @param actor  The actor to remove from the current scene.\n    */\n   public remove(actor: Actor): void;\n\n   /**\n    * Removes a [[UIActor]] to the scene, it will no longer be drawn or updated\n    * @param uiActor  The UIActor to remove from the current scene\n    */\n   public remove(uiActor: UIActor): void;\n   public remove(entity: any): void {\n      if (entity instanceof UIActor) {\n         this.removeUIActor(entity);\n         return;\n      }\n      if (entity instanceof Actor) {\n         this._broadphase.untrack(entity.body);\n         this._removeChild(entity);\n      }\n      if (entity instanceof Timer) {\n         this.removeTimer(entity);\n      }\n\n      if (entity instanceof TileMap) {\n         this.removeTileMap(entity);\n      }\n\n   }\n\n   /**\n    * Adds (any) actor to act as a piece of UI, meaning it is always positioned\n    * in screen coordinates. UI actors do not participate in collisions.\n    * @todo Should this be `UIActor` only?\n    */\n   public addUIActor(actor: Actor) {\n      this.uiActors.push(actor);\n      actor.scene = this;\n   }\n\n   /**\n    * Removes an actor as a piece of UI\n    */\n   public removeUIActor(actor: Actor) {\n      var index = this.uiActors.indexOf(actor);\n      if (index > -1) {\n         this.uiActors.splice(index, 1);\n      }\n   }\n\n   /**\n    * Adds an actor to the scene, once this is done the actor will be drawn and updated.\n    */\n   protected _addChild(actor: Actor) {\n      this._broadphase.track(actor.body);\n      actor.scene = this;\n      if (actor instanceof Trigger) {\n         this.triggers.push(actor);\n      } else {\n         this.actors.push(actor);\n      }\n      \n      this._sortedDrawingTree.add(actor);\n   }\n\n   /**\n    * Adds a [[TileMap]] to the scene, once this is done the TileMap will be drawn and updated.\n    */\n   public addTileMap(tileMap: TileMap) {\n      this.tileMaps.push(tileMap);\n   }\n\n   /**\n    * Removes a [[TileMap]] from the scene, it will no longer be drawn or updated.\n    */\n   public removeTileMap(tileMap: TileMap) {\n      var index = this.tileMaps.indexOf(tileMap);\n      if (index > -1) {\n         this.tileMaps.splice(index, 1);\n      }\n   }\n\n   /**\n    * Removes an actor from the scene, it will no longer be drawn or updated.\n    */\n   protected _removeChild(actor: Actor) {\n      this._broadphase.untrack(actor.body);\n      if (actor instanceof Trigger) {\n         this._triggerKillQueue.push(actor);\n      } else {\n         this._killQueue.push(actor);\n      }\n      \n      actor.parent = null;\n   }\n\n   /**\n    * Adds a [[Timer]] to the scene\n    * @param timer  The timer to add\n    */\n   public addTimer(timer: Timer): Timer {\n      this._timers.push(timer);\n      timer.scene = this;\n      return timer;\n   }\n\n   /**\n    * Removes a [[Timer]] from the scene.\n    * @warning Can be dangerous, use [[cancelTimer]] instead\n    * @param timer  The timer to remove\n    */\n   public removeTimer(timer: Timer): Timer {\n      var i = this._timers.indexOf(timer);\n      if (i !== -1) {\n         this._timers.splice(i, 1);\n      }\n      return timer;\n   }\n\n   /**\n    * Cancels a [[Timer]], removing it from the scene nicely\n    * @param timer  The timer to cancel\n    */\n   public cancelTimer(timer: Timer): Timer {\n      this._cancelQueue.push(timer);\n      return timer;\n   }\n\n   /**\n    * Tests whether a [[Timer]] is active in the scene\n    */\n   public isTimerActive(timer: Timer): boolean {\n      return (this._timers.indexOf(timer) > -1 && !timer.complete);\n   }\n\n   /**\n    * Creates and adds a [[Group]] to the scene with a name\n    */\n   public createGroup(name: string): Group {\n      return new Group(name, this);\n   }\n\n   /**\n    * Returns a [[Group]] by name\n    */\n   public getGroup(name: string): Group {\n      return this.groups[name];\n   }\n\n   /**\n    * Removes a [[Group]] by name\n    */\n   public removeGroup(name: string): void;\n\n   /**\n    * Removes a [[Group]] by reference\n    */\n   public removeGroup(group: Group): void;\n   public removeGroup(group: any): void {\n      if (typeof group === 'string') {\n         delete this.groups[group];\n      } else if (group instanceof Group) {\n         delete this.groups[group.name];\n      } else {\n         this._logger.error('Invalid arguments to removeGroup', group);\n      }\n   }\n\n   /**\n    * Removes the given actor from the sorted drawing tree\n    */\n   public cleanupDrawTree(actor: Actor) {\n      this._sortedDrawingTree.removeByComparable(actor);\n   }\n\n   /**\n    * Updates the given actor's position in the sorted drawing tree\n    */\n   public updateDrawTree(actor: Actor) {\n      this._sortedDrawingTree.add(actor);\n   }\n\n   private _collectActorStats(engine: Engine) {\n      for (var _ui of this.uiActors) {\n         engine.stats.currFrame.actors.ui++;\n      }\n\n      for (var actor of this.actors) {\n         engine.stats.currFrame.actors.alive++;\n         for (var child of actor.children) {\n            if (ActorUtils.isUIActor(child)) {\n               engine.stats.currFrame.actors.ui++;\n            } else {\n               engine.stats.currFrame.actors.alive++;\n            }\n         }\n      }\n   }\n\n}\n","import { Class } from './../Class';\nimport { GameEvent, GamepadConnectEvent, GamepadDisconnectEvent, GamepadButtonEvent, GamepadAxisEvent } from '../Events';\nimport * as Events from '../Events';\n\n/**\n * Excalibur leverages the HTML5 Gamepad API [where it is supported](http://caniuse.com/#feat=gamepad)\n * to provide controller support for your games.\n *\n * [[include:Gamepads.md]]\n */\nexport class Gamepads extends Class {\n   \n   /**\n    * Whether or not to poll for Gamepad input (default: `false`)\n    */\n   public enabled = false;\n\n   /**\n    * Whether or not Gamepad API is supported\n    */\n   public supported = !!(<any>navigator).getGamepads;\n\n   /**\n    * The minimum value an axis has to move before considering it a change\n    */\n   public static MinAxisMoveThreshold = 0.05;\n\n   private _gamePadTimeStamps = [0, 0, 0, 0];\n   private _oldPads: Gamepad[] = [];\n   private _pads: Gamepad[] = [];\n   private _initSuccess: boolean = false;\n   private _navigator: INavigatorGamepads = <any>navigator;\n   private _minimumConfiguration: IGamepadConfiguration = null;\n\n   constructor() {\n      super();\n   }\n\n   public init() {\n      if (!this.supported) { return; }\n      if (this._initSuccess) { return; }\n\n      // In Chrome, this will return 4 undefined items until a button is pressed\n      // In FF, this will not return any items until a button is pressed\n      this._oldPads = this._clonePads(this._navigator.getGamepads());\n      if (this._oldPads.length && this._oldPads[0]) {\n         this._initSuccess = true;\n      }\n   }\n   \n   /**\n    * Sets the minimum gamepad configuration, for example {axis: 4, buttons: 4} means\n    * this game requires at minimum 4 axis inputs and 4 buttons, this is not restrictive\n    * all other controllers with more axis or buttons are valid as well. If no minimum \n    * configuration is set all pads are valid.\n    */\n   public setMinimumGamepadConfiguration(config: IGamepadConfiguration) : void {\n      this._enableAndUpdate(); // if config is used, implicitly enable\n      this._minimumConfiguration = config;\n   }\n   \n   /** \n    * When implicitly enabled, set the enabled flag and run an update so information is updated\n    */\n   private _enableAndUpdate() {\n      if (!this.enabled) {\n         this.enabled = true;\n         this.update();\n      }\n   }\n   \n   /**\n    * Checks a navigator gamepad against the minimum configuration if present.\n    */\n   private _isGamepadValid(pad: INavigatorGamepad) : boolean {\n      if (!this._minimumConfiguration) { return true; };\n      if (!pad) { return false; };\n      var axesLength = pad.axes.filter((value) => {\n         return (typeof value !== undefined);\n      }).length;\n      \n      var buttonLength = pad.buttons.filter((value) => {\n         return (typeof value !== undefined);\n      }).length;\n      return axesLength >= this._minimumConfiguration.axis && \n               buttonLength >= this._minimumConfiguration.buttons &&\n               pad.connected;\n   }\n   \n   public on(eventName: Events.connect, handler: (event?: GamepadConnectEvent) => void): void;\n   public on(eventName: Events.disconnect, handler: (event?: GamepadDisconnectEvent) => void): void;\n   public on(eventName: Events.button, handler: (event?: GamepadButtonEvent) => void): void;\n   public on(eventName: Events.axis, handler: (event?: GamepadAxisEvent) => void): void;\n   public on(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public on(eventName: string, handler: (event?: any) => void): void {\n      this._enableAndUpdate(); // implicitly enable\n      super.on(eventName, handler);  \n   }\n   \n   public off(eventName: string, handler?: (event?: GameEvent<any>) => void) {\n      this._enableAndUpdate(); // implicitly enable\n      super.off(eventName, handler);  \n   }\n   \n   /**\n    * Updates Gamepad state and publishes Gamepad events\n    */\n   public update() {\n      if (!this.enabled || !this.supported) { return; }\n      this.init();\n\n      var gamepads = this._navigator.getGamepads();\n\n      for (var i = 0; i < gamepads.length; i++) {\n\n         if (!gamepads[i]) {\n            let gamepad = this.at(i);\n            // If was connected, but now isn't emit the disconnect event\n            if (gamepad.connected) {\n               this.eventDispatcher.emit('disconnect', new GamepadDisconnectEvent(i, gamepad));\n            }\n            // Reset connection status\n            gamepad.connected = false;\n            continue;\n         } else {\n\n            if (!this.at(i).connected && this._isGamepadValid(gamepads[i])) {\n               this.eventDispatcher.emit('connect', new GamepadConnectEvent(i, this.at(i)));   \n            } \n            // Set connection status\n            this.at(i).connected = true;               \n         };\n\n         // Only supported in Chrome\n         if (gamepads[i].timestamp && gamepads[i].timestamp === this._gamePadTimeStamps[i]) {\n            continue;\n         }\n\n         this._gamePadTimeStamps[i] = gamepads[i].timestamp;\n         \n         // Add reference to navigator gamepad\n         this.at(i).navigatorGamepad = gamepads[i];\n\n         // Buttons\n         var b: string, bi: number, a: string, ai: number, value: number;\n         \n         for (b in Buttons) {\n            bi = <any>Buttons[b];\n            if (typeof bi === 'number') {                                          \n               if (gamepads[i].buttons[bi]) {\n                  value = gamepads[i].buttons[bi].value;\n                  if (value !== this._oldPads[i].getButton(bi)) {\n                     if (gamepads[i].buttons[bi].pressed) {\n                        this.at(i).updateButton(bi, value);\n                        this.at(i).eventDispatcher.emit('button', new GamepadButtonEvent(bi, value, this.at(i)));\n                     } else {\n                        this.at(i).updateButton(bi, 0);\n                     }\n                  }\n               }\n            }\n         }\n\n         // Axes\n         for (a in Axes) {\n            ai = <any>Axes[a];\n            if (typeof ai === 'number') {\n               value = gamepads[i].axes[ai];\n               if (value !== this._oldPads[i].getAxes(ai)) {\n                  this.at(i).updateAxes(ai, value);\n                  this.at(i).eventDispatcher.emit('axis', new GamepadAxisEvent(ai, value, this.at(i)));\n               }\n            }\n         }                      \n\n         this._oldPads[i] = this._clonePad(gamepads[i]);\n      }\n   }\n\n   /**\n    * Safely retrieves a Gamepad at a specific index and creates one if it doesn't yet exist\n    */\n   public at(index: number): Gamepad {\n      this._enableAndUpdate(); // implicitly enable gamepads when at() is called         \n      if (index >= this._pads.length) {\n\n         // Ensure there is a pad to retrieve\n         for (var i = this._pads.length - 1, max = index; i < max; i++) {\n            this._pads.push(new Gamepad());\n            this._oldPads.push(new Gamepad());\n         }\n      }\n\n      return this._pads[index];\n   }\n   \n   /**\n    * Returns a list of all valid gamepads that meet the minimum configuration requirement.\n    */\n   public getValidGamepads(): Gamepad[] {\n      this._enableAndUpdate();\n      var result : Gamepad[] = [];\n      for (var i = 0; i < this._pads.length; i++) {\n         if (this._isGamepadValid(this.at(i).navigatorGamepad) && this.at(i).connected) {\n            result.push(this.at(i));\n         }\n      }         \n      return result;\n   }\n\n   /**\n    * Gets the number of connected gamepads\n    */\n   public count() {\n      return this._pads.filter(p => p.connected).length;\n   }\n\n   private _clonePads(pads: INavigatorGamepad[]): Gamepad[] {\n      var arr = [];\n      for (var i = 0, len = pads.length; i < len; i++) {\n         arr.push(this._clonePad(pads[i]));\n      }\n      return arr;\n   }\n\n   /**\n    * Fastest way to clone a known object is to do it yourself\n    */\n   private _clonePad(pad: INavigatorGamepad): Gamepad {\n      var i, len;\n      var clonedPad = new Gamepad();\n\n      if (!pad) { return clonedPad; }\n\n      for (i = 0, len = pad.buttons.length; i < len; i++) {\n         if (pad.buttons[i]) {\n            clonedPad.updateButton(i, pad.buttons[i].value);\n         }\n      }\n      for (i = 0, len = pad.axes.length; i < len; i++) {\n         clonedPad.updateAxes(i, pad.axes[i]);\n      }\n\n      return clonedPad;\n   }\n}\n\n/**\n * Gamepad holds state information for a connected controller. See [[Gamepads]]\n * for more information on handling controller input.\n */\nexport class Gamepad extends Class {\n   public connected = false;\n   public navigatorGamepad: INavigatorGamepad;\n   private _buttons: number[] = new Array(16);\n   private _axes: number[] = new Array(4);\n\n   constructor() {\n      super();\n\n      var i: number;\n      for (i = 0; i < this._buttons.length; i++) {\n         this._buttons[i] = 0;\n      }\n      for (i = 0; i < this._axes.length; i++) {\n         this._axes[i] = 0;\n      }\n   }\n\n   /**\n    * Whether or not the given button is pressed\n    * @param button     The button to query\n    * @param threshold  The threshold over which the button is considered to be pressed\n    */\n   public isButtonPressed(button: Buttons, threshold: number = 1) {\n      return this._buttons[button] >= threshold;\n   }\n\n   /**\n    * Gets the given button value between 0 and 1\n    */\n   public getButton(button: Buttons) {\n      return this._buttons[button];\n   }\n\n   /**\n    * Gets the given axis value between -1 and 1. Values below\n    * [[MinAxisMoveThreshold]] are considered 0.\n    */\n   public getAxes(axes: Axes) {\n      var value = this._axes[axes];\n\n      if (Math.abs(value) < Gamepads.MinAxisMoveThreshold) {\n         return 0;\n      } else {\n         return value;\n      }\n   }\n\n   public updateButton(buttonIndex: number, value: number) {\n      this._buttons[buttonIndex] = value;\n   }\n\n   public updateAxes(axesIndex: number, value: number) {\n      this._axes[axesIndex] = value;\n   }\n}\n\n/**\n * Gamepad Buttons enumeration\n */\nexport enum Buttons {\n   /**\n    * Face 1 button (e.g. A)\n    */\n   Face1 = 0,\n   /**\n    * Face 2 button (e.g. B)\n    */\n   Face2 = 1,\n   /**\n    * Face 3 button (e.g. X)\n    */\n   Face3 = 2,\n   /**\n    * Face 4 button (e.g. Y)\n    */\n   Face4 = 3,\n   /**\n    * Left bumper button\n    */\n   LeftBumper = 4,\n   /**\n    * Right bumper button\n    */\n   RightBumper = 5,\n   /**\n    * Left trigger button\n    */\n   LeftTrigger = 6,\n   /**\n    * Right trigger button\n    */\n   RightTrigger = 7,\n   /**\n    * Select button\n    */\n   Select = 8,\n   /**\n    * Start button\n    */\n   Start = 9,\n   /**\n    * Left analog stick press (e.g. L3)\n    */\n   LeftStick = 10,\n   /**\n    * Right analog stick press (e.g. R3)\n    */\n   RightStick = 11,\n   /**\n    * D-pad up\n    */\n   DpadUp = 12,\n   /**\n    * D-pad down\n    */\n   DpadDown = 13,\n   /**\n    * D-pad left\n    */\n   DpadLeft = 14,\n   /**\n    * D-pad right\n    */\n   DpadRight = 15\n}\n\n/**\n * Gamepad Axes enumeration\n */\nexport enum Axes {\n   /**\n    * Left analogue stick X direction\n    */\n   LeftStickX = 0,\n   /**\n    * Left analogue stick Y direction\n    */\n   LeftStickY = 1,\n   /**\n    * Right analogue stick X direction\n    */\n   RightStickX = 2,\n   /**\n    * Right analogue stick Y direction\n    */\n   RightStickY = 3\n}\n\n/**\n * @internal\n */\ninterface INavigatorGamepads {\n   getGamepads(): INavigatorGamepad[];\n}\n\n/**\n * @internal\n */\nexport interface INavigatorGamepad {\n   axes: number[];\n   buttons: INavigatorGamepadButton[];\n   connected: boolean;\n   id: string;\n   index: number;\n   mapping: string;\n   timestamp: number;\n}\n\n/**\n * @internal\n */\nexport interface INavigatorGamepadButton {\n   pressed: boolean;\n   value: number;\n}\n\n/**\n * @internal\n */\nexport interface INavigatorGamepadEvent {\n   gamepad: INavigatorGamepad;\n}\n\n/**\n * @internal\n */\nexport interface IGamepadConfiguration {\n   axis: number;\n   buttons: number;\n}","import { Engine, ScrollPreventionMode } from './../Engine';\nimport { GameEvent } from '../Events';\nimport { Actor } from '../Actor';\nimport { Vector, GlobalCoordinates } from '../Algebra';\nimport { Class } from '../Class';\nimport * as Actors from '../Util/Actors';\nimport * as Util from '../Util/Util';\nimport * as Events from '../Events';\nimport { obsolete } from '../Util/Decorators';\n\n/**\n * The type of pointer for a [[PointerEvent]].\n */\nexport enum PointerType {\n   Touch,\n   Mouse,\n   Pen,\n   Unknown\n}\n\n/**\n * The mouse button being pressed.\n */\nexport enum PointerButton {\n   Left,\n   Middle,\n   Right,\n   Unknown\n}\n\nexport enum WheelDeltaMode {\n   Pixel,\n   Line,\n   Page\n}\n\n/**\n * Determines the scope of handling mouse/touch events. See [[Pointers]] for more information.\n */\nexport enum PointerScope {\n\n   /**\n    * Handle events on the `canvas` element only. Events originating outside the\n    * `canvas` will not be handled.\n    */\n   Canvas,\n\n   /**\n    * Handles events on the entire document. All events will be handled by Excalibur.\n    */\n   Document\n}\n\n/**\n * A constant used to normalize wheel events across different browsers\n *\n * This normalization factor is pulled from https://developer.mozilla.org/en-US/docs/Web/Events/wheel#Listening_to_this_event_across_browser\n */\nconst ScrollWheelNormalizationFactor = -1 / 40;\n\n/**\n * Pointer events\n *\n * Represents a mouse, touch, or stylus event. See [[Pointers]] for more information on\n * handling pointer input.\n *\n * For mouse-based events, you can inspect [[PointerEvent.button]] to see what button was pressed.\n */\nexport class PointerEvent extends GameEvent<any> {\n   /** @obsolete Use [[PointerEvent]].worldPos.x instead. */\n   @obsolete({ message: 'PointerEvent.x will be removed in the 0.17 release', alternateMethod: 'PointerEvent.worldPos.x' })\n   public get x(): number {\n      return this.coordinates.worldPos.x;\n   }\n\n   /** @obsolete Use [[PointerEvent]].worldPos.y instead. */\n   @obsolete({ message: 'PointerEvent.y will be removed in the 0.17 release', alternateMethod: 'PointerEvent.worldPos.y' })\n   public get y(): number {\n      return this.coordinates.worldPos.y;\n   }\n\n   /** @obsolete Use [[PointerEvent]].worldPos.x instead. */\n   @obsolete({ message: 'PointerEvent.worldX will be removed in the 0.17 release', alternateMethod: 'PointerEvent.worldPos.x' })\n   public get worldX(): number {\n      return this.coordinates.worldPos.x;\n   }\n\n   /** @obsolete Use [[PointerEvent]].worldPos.y instead. */\n   @obsolete({ message: 'PointerEvent.worldY will be removed in the 0.17 release', alternateMethod: 'PointerEvent.worldPos.y' })\n   public get worldY(): number {\n      return this.coordinates.worldPos.y;\n   }\n\n   /** @obsolete Use [[PointerEvent]].pagePos.x instead. */\n   @obsolete({ message: 'PointerEvent.pageX will be removed in the 0.17 release', alternateMethod: 'PointerEvent.pagePos.x' })\n   public get pageX(): number {\n      return this.coordinates.pagePos.x;\n   }\n\n   /** @obsolete Use [[PointerEvent]].pagePos.y instead. */\n   @obsolete({ message: 'PointerEvent.pageY will be removed in the 0.17 release', alternateMethod: 'PointerEvent.pagePos.y' })\n   public get pageY(): number {\n      return this.coordinates.pagePos.y;\n   }\n\n   /** @obsolete Use [[PointerEvent]].screenPos.x instead. */\n   @obsolete({ message: 'PointerEvent.screenX will be removed in the 0.17 release', alternateMethod: 'PointerEvent.screenPos.x' })\n   public get screenX(): number {\n      return this.coordinates.screenPos.x;\n   }\n\n   /** @obsolete Use [[PointerEvent]].screenPos.y instead. */\n   @obsolete({ message: 'PointerEvent.screenY will be removed in the 0.17 release', alternateMethod: 'PointerEvent.screenPos.y' })\n   public get screenY(): number {\n      return this.coordinates.screenPos.y;\n   }\n\n   /** The world coordinates of the event. */\n   public get worldPos(): Vector {\n      return this.coordinates.worldPos.clone();\n   }\n\n   /** The page coordinates of the event. */\n   public get pagePos(): Vector {\n      return this.coordinates.pagePos.clone();\n   }\n\n   /** The screen coordinates of the event. */\n   public get screenPos(): Vector {\n      return this.coordinates.screenPos.clone();\n   }\n\n   /**\n    * @param coordinates         The [[GlobalCoordinates]] of the event\n    * @param pointer             The [[Pointer]] of the event\n    * @param index               The index of the pointer (zero-based)\n    * @param pointerType         The type of pointer\n    * @param button              The button pressed (if [[PointerType.Mouse]])\n    * @param ev                  The raw DOM event being handled\n    * @param pos                 (Will be added to signature in 0.14.0 release) The position of the event (in world coordinates)\n    */\n   constructor(private coordinates: GlobalCoordinates,\n      public pointer: Pointer,\n      public index: number,\n      public pointerType: PointerType,\n      public button: PointerButton,\n      public ev: any) {\n      super();\n   }\n\n   public get pos(): Vector {\n      return this.coordinates.worldPos.clone();\n   }\n};\n\nexport class PointerDragEvent extends PointerEvent { }\n\n/**\n * Wheel Events\n *\n * Represents a mouse wheel event. See [[Pointers]] for more information on\n * handling point input.\n */\nexport class WheelEvent extends GameEvent<any> {\n\n   /**\n    * @param x            The `x` coordinate of the event (in world coordinates)\n    * @param y            The `y` coordinate of the event (in world coordinates)\n    * @param pageX        The `x` coordinate of the event (in document coordinates)\n    * @param pageY        The `y` coordinate of the event (in document coordinates)\n    * @param screenX      The `x` coordinate of the event (in screen coordinates)\n    * @param screenY      The `y` coordinate of the event (in screen coordinates)\n    * @param index        The index of the pointer (zero-based)\n    * @param deltaX       The type of pointer\n    * @param deltaY       The type of pointer\n    * @param deltaZ       The type of pointer\n    * @param deltaMode    The type of movement [[WheelDeltaMode]]\n    * @param ev           The raw DOM event being handled\n    */\n   constructor(public x: number,\n      public y: number,\n      public pageX: number,\n      public pageY: number,\n      public screenX: number,\n      public screenY: number,\n      public index: number,\n      public deltaX: number,\n      public deltaY: number,\n      public deltaZ: number,\n      public deltaMode: WheelDeltaMode,\n      public ev: any) {\n      super();\n   }\n};\n\n/**\n * Handles pointer events (mouse, touch, stylus, etc.) and normalizes to\n * [W3C Pointer Events](http://www.w3.org/TR/pointerevents/).\n *\n * [[include:Pointers.md]]\n */\nexport class Pointers extends Class {\n   private _engine: Engine;\n\n   private _pointerDown: PointerEvent[] = [];\n   private _pointerUp: PointerEvent[] = [];\n   private _pointerMove: PointerEvent[] = [];\n   private _pointerCancel: PointerEvent[] = [];\n   private _wheel: WheelEvent[] = [];\n   private _pointers: Pointer[] = [];\n   private _activePointers: number[] = [];\n\n   constructor(engine: Engine) {\n      super();\n\n      this._engine = engine;\n      this._pointers.push(new Pointer());\n      this._activePointers = [-1];\n      this.primary = this._pointers[0];\n   }\n\n   public on(eventName: Events.up, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.down, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.move, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.enter, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.leave, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.cancel, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.wheel, handler: (event?: WheelEvent) => void): void;\n   public on(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public on(eventName: string, handler: (event?: any) => void): void {\n      super.on(eventName, handler);\n   }\n\n   /**\n    * Primary pointer (mouse, 1 finger, stylus, etc.)\n    */\n   public primary: Pointer;\n\n   /**\n    * Initializes pointer event listeners\n    */\n   public init(target?: GlobalEventHandlers): void {\n      target = target || this._engine.canvas;\n\n      // Touch Events\n      target.addEventListener('touchstart', this._handleTouchEvent('down', this._pointerDown));\n      target.addEventListener('touchend', this._handleTouchEvent('up', this._pointerUp));\n      target.addEventListener('touchmove', this._handleTouchEvent('move', this._pointerMove));\n      target.addEventListener('touchcancel', this._handleTouchEvent('cancel', this._pointerCancel));\n\n      // W3C Pointer Events\n      // Current: IE11, IE10\n      if ((<any>window).PointerEvent) {\n         // IE11\n         this._engine.canvas.style.touchAction = 'none';\n         target.addEventListener('pointerdown', this._handlePointerEvent('down', this._pointerDown));\n         target.addEventListener('pointerup', this._handlePointerEvent('up', this._pointerUp));\n         target.addEventListener('pointermove', this._handlePointerEvent('move', this._pointerMove));\n         target.addEventListener('pointercancel', this._handlePointerEvent('cancel', this._pointerCancel));\n      } else if ((<any>window).MSPointerEvent) {\n         // IE10\n         this._engine.canvas.style.msTouchAction = 'none';\n         target.addEventListener('MSPointerDown', this._handlePointerEvent('down', this._pointerDown));\n         target.addEventListener('MSPointerUp', this._handlePointerEvent('up', this._pointerUp));\n         target.addEventListener('MSPointerMove', this._handlePointerEvent('move', this._pointerMove));\n         target.addEventListener('MSPointerCancel', this._handlePointerEvent('cancel', this._pointerCancel));\n      } else {\n         // Mouse Events\n         target.addEventListener('mousedown', this._handleMouseEvent('down', this._pointerDown));\n         target.addEventListener('mouseup', this._handleMouseEvent('up', this._pointerUp));\n         target.addEventListener('mousemove', this._handleMouseEvent('move', this._pointerMove));\n      }\n\n      // MDN MouseWheelEvent\n      if ('onwheel' in document.createElement('div')) {\n         // Modern Browsers\n         target.addEventListener('wheel', this._handleWheelEvent('wheel', this._wheel));\n      } else if (document.onmousewheel !== undefined) {\n         // Webkit and IE\n         target.addEventListener('mousewheel', this._handleWheelEvent('wheel', this._wheel));\n      } else {\n         // Remaining browser and older Firefox\n         target.addEventListener('MozMousePixelScroll', this._handleWheelEvent('wheel', this._wheel));\n      }\n   }\n\n   public update(): void {\n      this._pointerUp.length = 0;\n      this._pointerDown.length = 0;\n      this._pointerMove.length = 0;\n      this._pointerCancel.length = 0;\n      this._wheel.length = 0;\n\n      for (let i = 0; i < this._pointers.length; i++) {\n         this._pointers[i].update();\n      }\n   }\n\n   /**\n    * Safely gets a Pointer at a specific index and initializes one if it doesn't yet exist\n    * @param index  The pointer index to retrieve\n    */\n   public at(index: number): Pointer {\n      if (index >= this._pointers.length) {\n\n         // Ensure there is a pointer to retrieve\n         for (var i = this._pointers.length - 1, max = index; i < max; i++) {\n            this._pointers.push(new Pointer());\n            this._activePointers.push(-1);\n         }\n      }\n\n      return this._pointers[index];\n   }\n\n   /**\n    * Get number of pointers being watched\n    */\n   public count(): number {\n      return this._pointers.length;\n   }\n\n   /**\n    * Propogates events to actor if necessary\n    */\n   public propogate(actor: Actor) {\n      var isNotUIActor = !Actors.isUIActor(actor);\n      var i: number = 0;\n      var len: number = 0;\n      var pointerEvent: PointerEvent;\n      var pointer: Pointer;\n\n      i = 0;\n      len = this._pointerDown.length;\n\n      for (i; i < len; i++) {\n         pointerEvent = this._pointerDown[i];\n         pointer = pointerEvent.pointer;\n\n         if (actor.contains(pointer.lastWorldPos.x, pointer.lastWorldPos.y, isNotUIActor)) {\n            actor.eventDispatcher.emit('pointerdown', pointerEvent);\n\n            if (pointer.isDragStart && actor.capturePointer.captureDragEvents) {\n               actor.eventDispatcher.emit('pointerdragstart', pointerEvent);\n            }\n         }\n      }\n\n      i = 0;\n      len = this._pointerUp.length;\n\n      for (i; i < len; i++) {\n         pointerEvent = this._pointerUp[i];\n         pointer = pointerEvent.pointer;\n\n         if (actor.contains(pointer.lastWorldPos.x, pointer.lastWorldPos.y, isNotUIActor)) {\n            actor.eventDispatcher.emit('pointerup', pointerEvent);\n\n            if (pointer.isDragEnd && actor.capturePointer.captureDragEvents) {\n               actor.eventDispatcher.emit('pointerdragend', pointerEvent);\n            }\n         }\n      }\n\n      if (actor.capturePointer.captureMoveEvents) {\n         i = 0;\n         len = this._pointerMove.length;\n\n         for (i; i < len; i++) {\n            pointerEvent = this._pointerMove[i];\n            pointer = pointerEvent.pointer;\n\n            if (actor.contains(pointer.lastWorldPos.x, pointer.lastWorldPos.y, isNotUIActor)) {\n               if (!pointer.actorsUnderPointer[actor.id]) {\n                  pointer.actorsUnderPointer[actor.id] = actor;\n\n                  actor.eventDispatcher.emit('pointerenter', pointerEvent);\n\n                  if (pointer.isDragging && actor.capturePointer.captureDragEvents) {\n                     actor.eventDispatcher.emit('pointerdragenter', pointerEvent);\n                  }\n               }\n\n               actor.eventDispatcher.emit('pointermove', pointerEvent);\n\n               if (pointer.isDragging && actor.capturePointer.captureDragEvents) {\n                  actor.eventDispatcher.emit('pointerdragmove', pointerEvent);\n               }\n            }\n\n            if (!actor.contains(pointer.lastWorldPos.x, pointer.lastWorldPos.y, isNotUIActor)) {\n               if (pointer.actorsUnderPointer[actor.id]) {\n                  delete pointer.actorsUnderPointer[actor.id];\n\n                  actor.eventDispatcher.emit('pointerleave', pointerEvent);\n\n                  if (pointer.isDragging && actor.capturePointer.captureDragEvents) {\n                     actor.eventDispatcher.emit('pointerdragleave', pointerEvent);\n                  }\n               }\n            }\n         }\n      }\n\n      i = 0;\n      len = this._pointerCancel.length;\n\n      for (i; i < len; i++) {\n         pointerEvent = this._pointerCancel[i];\n         pointer = pointerEvent.pointer;\n\n         if (actor.contains(pointer.lastWorldPos.x, pointer.lastWorldPos.y, isNotUIActor)) {\n            actor.eventDispatcher.emit('pointercancel', pointerEvent);\n         }\n      }\n\n      i = 0;\n      len = this._wheel.length;\n\n      for (i; i < len; i++) {\n         if (actor.contains(this._wheel[i].x, this._wheel[i].y, isNotUIActor)) {\n            actor.eventDispatcher.emit('pointerwheel', this._wheel[i]);\n         }\n      }\n   }\n\n   private _handleMouseEvent(eventName: string, eventArr: PointerEvent[]) {\n      return (e: MouseEvent) => {\n         e.preventDefault();\n\n         var pointer = this.at(0);\n         var coordinates = GlobalCoordinates.fromPagePosition(e.pageX, e.pageY, this._engine);\n         var pe = new PointerEvent(coordinates, pointer, 0, PointerType.Mouse, e.button, e);\n\n         eventArr.push(pe);\n         pointer.eventDispatcher.emit(eventName, pe);\n      };\n   }\n\n   private _handleTouchEvent(eventName: string, eventArr: PointerEvent[]) {\n      return (e: ITouchEvent) => {\n         e.preventDefault();\n         for (var i = 0, len = e.changedTouches.length; i < len; i++) {\n            var index = this._pointers.length > 1 ? this._getPointerIndex(e.changedTouches[i].identifier) : 0;\n            if (index === -1) { continue; }\n\n            var pointer = this.at(index);\n            var coordinates = GlobalCoordinates.fromPagePosition(\n               e.changedTouches[i].pageX, e.changedTouches[i].pageY, this._engine);\n            var pe = new PointerEvent(coordinates, pointer, index, PointerType.Touch, PointerButton.Unknown, e);\n\n            eventArr.push(pe);\n            pointer.eventDispatcher.emit(eventName, pe);\n            // only with multi-pointer\n            if (this._pointers.length > 1) {\n               if (eventName === 'up') {\n\n                  // remove pointer ID from pool when pointer is lifted\n                  this._activePointers[index] = -1;\n               } else if (eventName === 'down') {\n\n                  // set pointer ID to given index\n                  this._activePointers[index] = e.changedTouches[i].identifier;\n               }\n            }\n         }\n      };\n   }\n\n   private _handlePointerEvent(eventName: string, eventArr: PointerEvent[]) {\n      return (e: MSPointerEvent) => {\n         e.preventDefault();\n\n         // get the index for this pointer ID if multi-pointer is asked for\n         var index = this._pointers.length > 1 ? this._getPointerIndex(e.pointerId) : 0;\n         if (index === -1) { return; }\n\n         var pointer = this.at(index);\n         var coordinates = GlobalCoordinates.fromPagePosition(e.pageX, e.pageY, this._engine);\n         var pe = new PointerEvent(coordinates, pointer, index, this._stringToPointerType(e.pointerType), e.button, e);\n\n         eventArr.push(pe);\n         pointer.eventDispatcher.emit(eventName, pe);\n\n         // only with multi-pointer\n         if (this._pointers.length > 1) {\n            if (eventName === 'up') {\n\n               // remove pointer ID from pool when pointer is lifted\n               this._activePointers[index] = -1;\n            } else if (eventName === 'down') {\n\n               // set pointer ID to given index\n               this._activePointers[index] = e.pointerId;\n            }\n         }\n      };\n   }\n\n   private _handleWheelEvent(eventName: string, eventArr: WheelEvent[]) {\n      return (e: MouseWheelEvent) => {\n         // Should we prevent page scroll because of this event\n         if (this._engine.pageScrollPreventionMode === ScrollPreventionMode.All ||\n            (this._engine.pageScrollPreventionMode === ScrollPreventionMode.Canvas && e.target === this._engine.canvas)) {\n            e.preventDefault();\n         }\n\n         var x: number = e.pageX - Util.getPosition(this._engine.canvas).x;\n         var y: number = e.pageY - Util.getPosition(this._engine.canvas).y;\n         var transformedPoint = this._engine.screenToWorldCoordinates(new Vector(x, y));\n\n         // deltaX, deltaY, and deltaZ are the standard modern properties\n         // wheelDeltaX, wheelDeltaY, are legacy properties in webkit browsers and older IE\n         // e.detail is only used in opera\n\n         var deltaX = e.deltaX ||\n            (e.wheelDeltaX * ScrollWheelNormalizationFactor) ||\n            0;\n         var deltaY = e.deltaY ||\n            (e.wheelDeltaY * ScrollWheelNormalizationFactor) ||\n            (e.wheelDelta * ScrollWheelNormalizationFactor) ||\n            e.detail ||\n            0;\n         var deltaZ = e.deltaZ || 0;\n         var deltaMode = WheelDeltaMode.Pixel;\n\n         if (e.deltaMode) {\n            if (e.deltaMode === 1) {\n               deltaMode = WheelDeltaMode.Line;\n            } else if (e.deltaMode === 2) {\n               deltaMode = WheelDeltaMode.Page;\n            }\n         }\n\n         var we = new WheelEvent(transformedPoint.x, transformedPoint.y,\n            e.pageX, e.pageY, x, y, 0, deltaX, deltaY, deltaZ, deltaMode, e);\n\n         eventArr.push(we);\n         this.at(0).eventDispatcher.emit(eventName, we);\n      };\n   }\n\n   /**\n    * Gets the index of the pointer specified for the given pointer ID or finds the next empty pointer slot available.\n    * This is required because IE10/11 uses incrementing pointer IDs so we need to store a mapping of ID => idx\n    */\n   private _getPointerIndex(pointerId: number) {\n      var idx;\n      if ((idx = this._activePointers.indexOf(pointerId)) > -1) {\n         return idx;\n      }\n\n      for (var i = 0; i < this._activePointers.length; i++) {\n         if (this._activePointers[i] === -1) { return i; }\n      }\n\n      // ignore pointer because game isn't watching\n      return -1;\n   }\n\n   private _stringToPointerType(s: string) {\n      switch (s) {\n         case 'touch':\n            return PointerType.Touch;\n         case 'mouse':\n            return PointerType.Mouse;\n         case 'pen':\n            return PointerType.Pen;\n         default:\n            return PointerType.Unknown;\n      }\n   }\n}\n\n/**\n * Captures and dispatches PointerEvents\n */\nexport class Pointer extends Class {\n\n   private _isDown: boolean = false;\n   private _wasDown: boolean = false;\n\n   /**\n    * Whether the Pointer is currently dragging.\n    */\n   public get isDragging(): boolean {\n      return this._isDown;\n   }\n\n   /**\n    * Whether the Pointer just started dragging.\n    */\n   public get isDragStart(): boolean {\n      return !this._wasDown && this._isDown;\n   }\n\n\n   /**\n    * Whether the Pointer just ended dragging.\n    */\n   public get isDragEnd(): boolean {\n      return this._wasDown && !this._isDown;\n   }\n\n   /**\n    * The last position on the document this pointer was at. Can be `null` if pointer was never active.\n    */\n   public lastPagePos: Vector = null;\n\n   /**\n    * The last position on the screen this pointer was at. Can be `null` if pointer was never active.\n    */\n   public lastScreenPos: Vector = null;\n\n   /**\n    * The last position in the game world coordinates this pointer was at. Can be `null` if pointer was never active.\n    */\n   public lastWorldPos: Vector = null;\n\n   public actorsUnderPointer: { [ActorId: number]: Actor; } = {};\n\n   constructor() {\n      super();\n\n      this.on('move', this._onPointerMove);\n      this.on('down', this._onPointerDown);\n      this.on('up', this._onPointerUp);\n   }\n\n   public update(): void {\n      if (this._wasDown && !this._isDown) {\n         this._wasDown = false;\n      } else if (!this._wasDown && this._isDown) {\n         this._wasDown = true;\n      }\n   }\n\n   private _onPointerMove(ev: PointerEvent): void {\n      this.lastPagePos = new Vector(ev.pagePos.x, ev.pagePos.y);\n      this.lastScreenPos = new Vector(ev.screenPos.x, ev.screenPos.y);\n      this.lastWorldPos = new Vector(ev.worldPos.x, ev.worldPos.y);\n   }\n\n   private _onPointerDown(): void {\n      this._isDown = true;\n   }\n\n   private _onPointerUp(): void {\n      this._isDown = false;\n   }\n}\n\ninterface ITouchEvent extends Event {\n   altKey: boolean;\n   changedTouches: ITouch[];\n   ctrlKey: boolean;\n   metaKey: boolean;\n   shiftKey: boolean;\n   targetTouches: ITouch[];\n   touches: ITouch[];\n   type: string;\n   target: Element;\n}\n\ninterface ITouch {\n   identifier: number;\n   screenX: number;\n   screenY: number;\n   clientX: number;\n   clientY: number;\n   pageX: number;\n   pageY: number;\n   radiusX: number;\n   radiusY: number;\n   rotationAngle: number;\n   force: number;\n   target: Element;\n}\n","import { Class } from './../Class';\nimport { GameEvent } from '../Events';\nimport * as Events from '../Events';\n    \n/**\n * Enum representing input key codes \n */\nexport enum Keys {\n   Num1 = 97,\n   Num2 = 98,\n   Num3 = 99,\n   Num4 = 100,\n   Num5 = 101,\n   Num6 = 102,\n   Num7 = 103,\n   Num8 = 104,\n   Num9 = 105,\n   Num0 = 96,\n   \n   Numlock = 144,\n   \n   Semicolon = 186, // 59 in some browsers\n   \n   A = 65,\n   B = 66,\n   C = 67,\n   D = 68,\n   E = 69,\n   F = 70,\n   G = 71,\n   H = 72,\n   I = 73,\n   J = 74,\n   K = 75,\n   L = 76,\n   M = 77,\n   N = 78,\n   O = 79,\n   P = 80,\n   Q = 81,\n   R = 82,\n   S = 83,\n   T = 84,\n   U = 85,\n   V = 86,\n   W = 87,\n   X = 88,\n   Y = 89,\n   Z = 90,\n   \n   Shift = 16,\n   Alt = 18,\n   Up = 38,\n   Down = 40,\n   Left = 37,\n   Right = 39,\n   Space = 32,\n   Esc = 27\n};\n\n/**\n * Event thrown on a game object for a key event\n */\nexport class KeyEvent extends GameEvent<any> {\n\n   /**\n    * @param key  The key responsible for throwing the event\n    */\n   constructor(public key: Keys) {\n      super();\n   }\n}\n\n/**\n * Provides keyboard support for Excalibur.\n *\n * [[include:Keyboard.md]]\n */\nexport class Keyboard extends Class {\n\n   private _keys: number[] = [];\n   private _keysUp: number[] = [];\n   private _keysDown: number[] = [];\n\n   constructor() {\n      super();\n   }\n\n   public on(eventName: Events.press, handler: (event?: KeyEvent) => void): void;\n   public on(eventName: Events.release, handler: (event?: KeyEvent) => void): void;\n   public on(eventName: Events.hold, handler: (event?: KeyEvent) => void): void;\n   public on(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public on(eventName: string, handler: (event?: any) => void): void {\n      super.on(eventName, handler);\n   }\n\n   /**\n    * Initialize Keyboard event listeners\n    */\n   init(global?: GlobalEventHandlers): void {\n      global = global || window;\n      global.addEventListener('blur', () => {\n         this._keys.length = 0; // empties array efficiently\n      });\n\n      // key up is on window because canvas cannot have focus\n      global.addEventListener('keyup', (ev: KeyboardEvent) => {\n         var code = this._normalizeKeyCode(ev.keyCode);\n         var key = this._keys.indexOf(code);\n         this._keys.splice(key, 1);\n         this._keysUp.push(code);\n         var keyEvent = new KeyEvent(code);\n         \n         // alias the old api, we may want to deprecate this in the future\n         this.eventDispatcher.emit('up', keyEvent);\n         this.eventDispatcher.emit('release', keyEvent);            \n      });\n\n      // key down is on window because canvas cannot have focus\n      global.addEventListener('keydown', (ev: KeyboardEvent) => {\n         var code = this._normalizeKeyCode(ev.keyCode);\n         if (this._keys.indexOf(code) === -1) {\n            this._keys.push(code);\n            this._keysDown.push(code);\n            var keyEvent = new KeyEvent(code);\n            this.eventDispatcher.emit('down', keyEvent);\n            this.eventDispatcher.emit('press', keyEvent);                 \n         }\n      });\n   }\n\n   public update() {\n      // Reset keysDown and keysUp after update is complete\n      this._keysDown.length = 0;\n      this._keysUp.length = 0;\n      \n      // Emit synthetic \"hold\" event\n      for (var i = 0; i < this._keys.length; i++) {\n         this.eventDispatcher.emit('hold', new KeyEvent(this._keys[i]));\n      }\n   }      \n\n   /**\n    * Gets list of keys being pressed down\n    */\n   public getKeys(): Keys[] {\n      return this._keys;\n   }\n\n   /**\n    * Tests if a certain key was just pressed this frame. This is cleared at the end of the update frame.\n    * @param key Test whether a key was just pressed\n    */\n   public wasPressed(key: Keys): boolean {\n      return this._keysDown.indexOf(key) > -1;\n   }\n\n   /**\n    * Tests if a certain key is held down. This is persisted between frames.\n    * @param key  Test whether a key is held down\n    */\n   public isHeld(key: Keys): boolean {\n      return this._keys.indexOf(key) > -1;\n   }\n\n   /**\n    * Tests if a certain key was just released this frame. This is cleared at the end of the update frame.\n    * @param key  Test whether a key was just released\n    */\n   public wasReleased(key: Keys): boolean {\n      return this._keysUp.indexOf(key) > -1;\n   }\n\n   /**\n    * Normalizes some browser event key codes to map to standard Excalibur key codes\n    * @param code Event keyCode\n    * @see http://unixpapa.com/js/key.html\n    */\n   private _normalizeKeyCode(code: number) {\n      switch (code) {\n         case 59: // : ; in Firefox, Opera\n            return Keys.Semicolon;\n         default:\n            return code;\n      }\n   }\n}\n","/**\t\t\n * Provides support for mice, keyboards, and controllers.\t\t\n * \t\t\n * [[include:Input.md]]\t\t\n */\n\n/**\n * @typedoc\n */\nexport * from './Gamepad';\nexport * from './Pointer';\nexport * from './Keyboard';\nexport * from './IEngineInput';","import { Scene } from './Scene';\nimport { Vector } from './Algebra';\nimport { Actor } from './Actor';\nimport { Trigger } from './Trigger';\nimport { FrameStats } from './Debug';\nimport { Engine } from './Engine';\nimport { TileMap } from './TileMap';\nimport { Side } from './Collision/Side';\nimport * as Input from './Input/Index';\nimport { Pair, BaseCamera } from './Index';\n\n/* istanbul ignore next */\n/* compiler only: these are internal to lib */\nexport type kill = 'kill';\nexport type prekill = 'prekill';\nexport type postkill = 'postkill';\n\nexport type predraw = 'predraw';\nexport type postdraw = 'postdraw';\n\nexport type predebugdraw = 'predebugdraw';\nexport type postdebugdraw = 'postdebugdraw';\n\nexport type preupdate = 'preupdate';\nexport type postupdate = 'postupdate';\n\nexport type preframe = 'preframe';\nexport type postframe = 'postframe';\n\nexport type precollision = 'precollision';\nexport type collisionstart = 'collisionstart';\nexport type collisionend = 'collisionend';\nexport type postcollision = 'postcollision';\n\nexport type initialize = 'initialize';\nexport type activate = 'activate';\nexport type deactivate = 'deactivate';\n\nexport type exitviewport = 'exitviewport';\nexport type enterviewport = 'enterviewport';\n\nexport type exittrigger = 'exit';\nexport type entertrigger = 'enter';\n\nexport type connect = 'connect';\nexport type disconnect = 'disconnect';\nexport type button = 'button';\nexport type axis = 'axis';\n\nexport type subscribe = 'subscribe';\nexport type unsubscribe = 'unsubscribe';\n\nexport type visible = 'visible';\nexport type hidden = 'hidden';\nexport type start = 'start';\nexport type stop = 'stop';\n\nexport type pointerup = 'pointerup';\nexport type pointerdown = 'pointerdown';\nexport type pointermove = 'pointermove';\nexport type pointerenter = 'pointerenter';\nexport type pointerleave = 'pointerleave';\nexport type pointercancel = 'pointercancel';\nexport type pointerwheel = 'pointerwheel';\n\nexport type up = 'up';\nexport type down = 'down';\nexport type move = 'move';\nexport type enter = 'enter';\nexport type leave = 'leave';\nexport type cancel = 'cancel';\nexport type wheel = 'wheel';\n\nexport type press = 'press';\nexport type release = 'release';\nexport type hold = 'hold';\n\nexport type pointerdragstart = 'pointerdragstart';\nexport type pointerdragend = 'pointerdragend';\nexport type pointerdragenter = 'pointerdragenter';\nexport type pointerdragleave = 'pointerdragleave';\nexport type pointerdragmove = 'pointerdragmove';\n\n/**\n * Base event type in Excalibur that all other event types derive from. Not all event types are thrown on all Excalibur game objects, \n * some events are unique to a type, others are not.\n *  \n */\nexport class GameEvent<T> {\n   /**\n    * Target object for this event.\n    */\n   public target: T;\n}\n\n/**\n * The 'kill' event is emitted on actors when it is killed. The target is the actor that was killed. \n */\nexport class KillEvent extends GameEvent<Actor> {\n   constructor(public target: Actor) {\n      super();\n   }\n}\n\n/**\n * The 'prekill' event is emitted directly before an actor is killed.\n */\nexport class PreKillEvent extends GameEvent<Actor> {\n   constructor(public target: Actor) {\n      super();\n   }\n}\n\n/**\n * The 'postkill' event is emitted directly after the actor is killed.\n */\nexport class PostKillEvent extends GameEvent<Actor> {\n   constructor(public target: Actor) {\n      super();\n   }\n}\n\n/**\n * The 'start' event is emitted on engine when has started and is ready for interaction. \n */\nexport class GameStartEvent extends GameEvent<Engine> {\n   constructor(public target: Engine) {\n      super();\n   }\n}\n\n/**\n * The 'stop' event is emitted on engine when has been stopped and will no longer take input, update or draw. \n */\nexport class GameStopEvent extends GameEvent<Engine> {\n   constructor(public target: Engine) {\n      super();\n   }\n}\n\n/**\n * The 'predraw' event is emitted on actors, scenes, and engine before drawing starts. Actors' predraw happens inside their graphics \n * transform so that all drawing takes place with the actor as the origin.\n *   \n */\nexport class PreDrawEvent extends GameEvent<Actor | Scene | Engine | TileMap> {\n   constructor(public ctx: CanvasRenderingContext2D, public delta: number, public target: Actor | Scene | Engine | TileMap) {\n      super();\n   }\n}\n\n/**\n * The 'postdraw' event is emitted on actors, scenes, and engine after drawing finishes. Actors' postdraw happens inside their graphics \n * transform so that all drawing takes place with the actor as the origin.\n *   \n */\nexport class PostDrawEvent extends GameEvent<Actor | Scene | Engine | TileMap> {\n   constructor(public ctx: CanvasRenderingContext2D, public delta: number, public target: Actor | Scene | Engine | TileMap) {\n      super();\n   }\n}\n\n/**\n * The 'predebugdraw' event is emitted on actors, scenes, and engine before debug drawing starts.\n */\nexport class PreDebugDrawEvent extends GameEvent<Actor | Scene | Engine> {\n   constructor(public ctx: CanvasRenderingContext2D, public target: Actor | Scene | Engine) {\n      super();\n   }\n}\n\n/**\n * The 'postdebugdraw' event is emitted on actors, scenes, and engine after debug drawing starts.\n */\nexport class PostDebugDrawEvent extends GameEvent<Actor | Scene | Engine> {\n   constructor(public ctx: CanvasRenderingContext2D, public target: Actor | Scene | Engine) {\n      super();\n   }\n}\n\n/**\n * The 'preupdate' event is emitted on actors, scenes, camera, and engine before the update starts.\n */\nexport class PreUpdateEvent extends GameEvent<Actor | Scene | Engine | TileMap | BaseCamera> {\n   constructor(public engine: Engine, public delta: number, public target: Actor | Scene | Engine | TileMap | BaseCamera) {\n      super();\n   }\n}\n\n/**\n * The 'postupdate' event is emitted on actors, scenes, camera, and engine after the update ends.\n */\nexport class PostUpdateEvent extends GameEvent<Actor | Scene | Engine | TileMap | BaseCamera> {\n   constructor(public engine: Engine, public delta: number, public target: Actor | Scene | Engine | TileMap | BaseCamera) {\n      super();\n   }\n}\n\n/**\n * The 'preframe' event is emitted on the engine, before the frame begins.\n */\nexport class PreFrameEvent extends GameEvent<Engine> {\n   constructor(public engine: Engine, public prevStats: FrameStats) {\n      super();\n      this.target = engine;\n   }\n}\n\n/**\n * The 'postframe' event is emitted on the engine, after a frame ends.\n */\nexport class PostFrameEvent extends GameEvent<Engine> {\n   constructor(public engine: Engine, public stats: FrameStats) {\n      super();\n      this.target = engine;\n   }\n}\n\n/**\n * Event received when a gamepad is connected to Excalibur. [[Gamepads]] receives this event.\n */\nexport class GamepadConnectEvent extends GameEvent<Input.Gamepad> {\n   constructor(public index: number, public gamepad: Input.Gamepad) {\n      super();\n      this.target = gamepad;\n   }\n}\n\n/**\n * Event received when a gamepad is disconnected from Excalibur. [[Gamepads]] receives this event.\n */\nexport class GamepadDisconnectEvent extends GameEvent<Input.Gamepad> {\n   constructor(public index: number, public gamepad: Input.Gamepad) {\n      super();\n      this.target = gamepad;\n   }\n}\n\n/**\n * Gamepad button event. See [[Gamepads]] for information on responding to controller input. [[Gamepad]] instances receive this event;\n */\nexport class GamepadButtonEvent extends GameEvent<Input.Gamepad> {\n\n   /**\n    * @param button  The Gamepad button\n    * @param value   A numeric value between 0 and 1\n    */\n   constructor(public button: Input.Buttons, public value: number, public target: Input.Gamepad) {\n      super();\n   }\n}\n\n/**\n * Gamepad axis event. See [[Gamepads]] for information on responding to controller input. [[Gamepad]] instances receive this event;\n */\nexport class GamepadAxisEvent extends GameEvent<Input.Gamepad> {\n\n   /**\n    * @param axis  The Gamepad axis\n    * @param value A numeric value between -1 and 1\n    */\n   constructor(public axis: Input.Axes, public value: number, public target: Input.Gamepad) {\n      super();\n   }\n}\n\n/**\n * Subscribe event thrown when handlers for events other than subscribe are added. Meta event that is received by \n * [[EventDispatcher|event dispatchers]].\n */\nexport class SubscribeEvent<T> extends GameEvent<T> {\n   constructor(public topic: string, public handler: (event?: GameEvent<T>) => void) {\n      super();\n   }\n}\n\n/**\n * Unsubscribe event thrown when handlers for events other than unsubscribe are removed. Meta event that is received by \n * [[EventDispatcher|event dispatchers]].\n */\nexport class UnsubscribeEvent<T> extends GameEvent<T> {\n   constructor(public topic: string, public handler: (event?: GameEvent<T>) => void) {\n      super();\n   }\n}\n\n/**\n * Event received by the [[Engine]] when the browser window is visible on a screen.\n */\nexport class VisibleEvent extends GameEvent<Engine> {\n   constructor(public target: Engine) {\n      super();\n   }\n}\n\n/**\n * Event received by the [[Engine]] when the browser window is hidden from all screens.\n */\nexport class HiddenEvent extends GameEvent<Engine> {\n   constructor(public target: Engine) {\n      super();\n   }\n}\n\n/**\n * Event thrown on an [[Actor|actor]] when a collision will occur this frame if it resolves\n */\nexport class PreCollisionEvent extends GameEvent<Actor> {\n\n   /**\n    * @param actor         The actor the event was thrown on\n    * @param other         The actor that will collided with the current actor\n    * @param side          The side that will be collided with the current actor\n    * @param intersection  Intersection vector\n    */\n   constructor(public actor: Actor, public other: Actor, public side: Side, public intersection: Vector) {\n      super();\n      this.target = actor;\n   }\n}\n\n/**\n * Event thrown on an [[Actor|actor]] when a collision has been resolved (body reacted) this frame\n */\nexport class PostCollisionEvent extends GameEvent<Actor> {\n   /**\n    * @param actor         The actor the event was thrown on\n    * @param other         The actor that did collide with the current actor\n    * @param side          The side that did collide with the current actor\n    * @param intersection  Intersection vector\n    */\n   constructor(public actor: Actor, public other: Actor, public side: Side, public intersection: Vector) {\n      super();\n      this.target = actor;\n   }\n}\n\n/**\n * Event thrown the first time an [[Actor|actor]] collides with another, after an actor is in contact normal collision events are fired.\n */\nexport class CollisionStartEvent extends GameEvent<Actor> {\n   /**\n    *\n    */\n   constructor(public actor: Actor, public other: Actor, public pair: Pair) {\n      super();\n      this.target = actor;\n   }\n}\n\n/**\n * Event thrown when the [[Actor|actor]] is no longer colliding with another\n */\nexport class CollisionEndEvent extends GameEvent<Actor> {\n   /**\n    *\n    */\n   constructor(public actor: Actor, public other: Actor) {\n      super();\n      this.target = actor;\n   }\n}\n\n/**\n * Event thrown on an [[Actor]] and a [[Scene]] only once before the first update call\n */\nexport class InitializeEvent extends GameEvent<Actor | Scene | Engine | BaseCamera> {\n\n   /**\n    * @param engine  The reference to the current engine\n    */\n   constructor(public engine: Engine, public target: Actor | Scene | Engine | BaseCamera) {\n      super();\n   }\n}\n\n/**\n * Event thrown on a [[Scene]] on activation\n */\nexport class ActivateEvent extends GameEvent<Scene> {\n\n   /**\n    * @param oldScene  The reference to the old scene\n    */\n   constructor(public oldScene: Scene, public target: Scene) {\n      super();\n   }\n}\n\n/**\n * Event thrown on a [[Scene]] on deactivation\n */\nexport class DeactivateEvent extends GameEvent<Scene> {\n\n   /**\n    * @param newScene  The reference to the new scene\n    */\n   constructor(public newScene: Scene, public target: Scene) {\n      super();\n   }\n}\n\n\n/**\n * Event thrown on an [[Actor]] when it completely leaves the screen.\n */\nexport class ExitViewPortEvent extends GameEvent<Actor> {\n   constructor(public target: Actor) {\n      super();\n   }\n}\n\n/**\n * Event thrown on an [[Actor]] when it completely leaves the screen.\n */\nexport class EnterViewPortEvent extends GameEvent<Actor> {\n   constructor(public target: Actor) {\n      super();\n   }\n}\n\nexport class EnterTriggerEvent extends GameEvent<Actor> {\n   constructor(public target: Trigger, public actor: Actor) {\n      super();\n   }\n}\n\nexport class ExitTriggerEvent extends GameEvent<Actor> {\n   constructor(public target: Trigger, public actor: Actor) {\n      super();\n   }\n}","import { Engine } from './Engine';\nimport { EasingFunction, EasingFunctions } from './Util/EasingFunctions';\nimport { IPromise, Promise, PromiseState } from './Promises';\nimport { Vector } from './Algebra';\nimport { Actor } from './Actor';\nimport { removeItemFromArray } from './Util/Util';\nimport { ICanUpdate, ICanInitialize } from './Interfaces/LifecycleEvents';\nimport { PreUpdateEvent, PostUpdateEvent, GameEvent, InitializeEvent } from './Events';\nimport { Class } from './Class';\n\n/**\n * Interface that describes a custom camera strategy for tracking targets\n */\nexport interface ICameraStrategy<T> {\n   /**\n    * Target of the camera strategy that will be passed to the action\n    */\n   target: T;\n\n   /**\n    * Camera strategies perform an action to calculate a new focus returned out of the strategy\n    * @param target The target object to apply this camera strategy (if any)\n    * @param camera The current camera implementation in excalibur running the game\n    * @param engine The current engine running the game\n    * @param delta The elapsed time in milliseconds since the last frame\n    */\n   action: (target: T, camera: BaseCamera, engine: Engine, delta: number) => Vector;\n}\n\n\n/**\n * Container to house convenience strategy methods\n * @internal\n */\nexport class StrategyContainer {\n   constructor(public camera: BaseCamera) {}\n   \n   /**\n    * Creates and adds the [[LockCameraToActorStrategy]] on the current camera.\n    * @param actor The actor to lock the camera to\n    */\n   public lockToActor(actor: Actor) {\n      this.camera.addStrategy(new LockCameraToActorStrategy(actor));\n   }\n\n   /**\n    * Creates and adds the [[LockCameraToActorAxisStrategy]] on the current camera\n    * @param actor The actor to lock the camera to\n    * @param axis The axis to follow the actor on\n    */\n   public lockToActorAxis(actor: Actor, axis: Axis) {\n      this.camera.addStrategy(new LockCameraToActorAxisStrategy(actor, axis));\n   }\n\n   /**\n    * Creates and adds the [[ElasticToActorStrategy]] on the current camera\n    * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\n    * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillationg spring that will over \n    * correct and bounce around the target\n    * \n    * @param target Target actor to elastically follow\n    * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\n    * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\n    */\n   public elasticToActor(actor: Actor, cameraElasticity: number, cameraFriction: number) {\n      this.camera.addStrategy(new ElasticToActorStrategy(actor, cameraElasticity, cameraFriction));\n   }\n\n   /**\n    * Creates and adds the [[RadiusAroundActorStrategy]] on the current camera\n    * @param target Target actor to follow when it is \"radius\" pixels away\n    * @param radius Number of pixels away before the camera will follow\n    */\n   public radiusAroundActor(actor: Actor, radius: number) {\n      this.camera.addStrategy(new RadiusAroundActorStrategy(actor, radius));\n   }\n}\n\n\n/**\n * Camera axis enum\n */\nexport enum Axis {\n   X,\n   Y\n}\n\n/**\n * Lock a camera to the exact x/y postition of an actor.\n */\nexport class LockCameraToActorStrategy implements ICameraStrategy<Actor> {\n   constructor(public target: Actor) {}\n   public action = (target: Actor, _cam: BaseCamera, _eng: Engine, _delta: number) => {\n      let center = target.getCenter();\n      return center;\n   }\n}\n\n/**\n * Lock a camera to a specific axis around an actor.\n */\nexport class LockCameraToActorAxisStrategy implements ICameraStrategy<Actor> {\n   constructor(public target: Actor, public axis: Axis) {}\n   public action = (target: Actor, cam: BaseCamera, _eng: Engine, _delta: number) => {\n      let center = target.getCenter();\n      let currentFocus = cam.getFocus();\n      if (this.axis === Axis.X) {\n         return new Vector(center.x, currentFocus.y);\n      } else {\n         return new Vector(currentFocus.x, center.y);\n      }\n   }\n}\n\n\n\n/**\n * Using [Hook's law](https://en.wikipedia.org/wiki/Hooke's_law), elastically move the camera towards the target actor.\n */\nexport class ElasticToActorStrategy implements ICameraStrategy<Actor> {\n   /**\n    * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\n    * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillationg spring that will over \n    * correct and bounce around the target\n    * \n    * @param target Target actor to elastically follow\n    * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\n    * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\n    */\n   constructor(public target: Actor, public cameraElasticity: number, public cameraFriction: number) {}\n   public action = (target: Actor, cam: BaseCamera, _eng: Engine, _delta: number) => {\n      let position = target.getCenter();\n      let focus = cam.getFocus();\n      let cameraVel = new Vector(cam.dx, cam.dy);\n\n      // Calculate the strech vector, using the spring equation\n      // F = kX\n      // https://en.wikipedia.org/wiki/Hooke's_law\n      // Apply to the current camera velocity\n      var stretch = position.sub(focus).scale(this.cameraElasticity); // stretch is X\n      cameraVel = cameraVel.add(stretch);\n      \n      // Calculate the friction (-1 to apply a force in the opposition of motion)\n      // Apply to the current camera velocity\n      var friction = cameraVel.scale(-1).scale(this.cameraFriction);\n      cameraVel = cameraVel.add(friction);\n      \n      // Update position by velocity deltas\n      focus = focus.add(cameraVel);\n\n      return focus;\n   }\n}\n\nexport class RadiusAroundActorStrategy implements ICameraStrategy<Actor> {\n   /**\n    * \n    * @param target Target actor to follow when it is \"radius\" pixels away\n    * @param radius Number of pixels away before the camera will follow\n    */\n   constructor(public target: Actor, public radius: number) {}\n   public action = (target: Actor, cam: BaseCamera, _eng: Engine, _delta: number) => {\n      let position = target.getCenter();\n      let focus = cam.getFocus();\n\n      let direction = position.sub(focus);\n      let distance = direction.magnitude();\n      if (distance >= this.radius) {\n         let offset = distance - this.radius;\n         return focus.add(direction.normalize().scale(offset));\n      }\n      return focus;\n   }\n}\n\n\n/**\n * Cameras\n *\n * [[BaseCamera]] is the base class for all Excalibur cameras. Cameras are used\n * to move around your game and set focus. They are used to determine\n * what is \"off screen\" and can be used to scale the game.\n *\n * [[include:Cameras.md]]\n */\nexport class BaseCamera extends Class implements ICanUpdate, ICanInitialize {\n   protected _follow: Actor;\n\n   private _cameraStrategies: ICameraStrategy<any>[] = [];\n\n   public strategy: StrategyContainer = new StrategyContainer(this);\n\n   // camera physical quantities\n   public z: number = 1;\n\n   public dx: number = 0;\n   public dy: number = 0;\n   public dz: number = 0;\n\n   public ax: number = 0;\n   public ay: number = 0;\n   public az: number = 0;\n\n   public rotation: number = 0;\n   public rx: number = 0;\n\n   private _x: number = 0;\n   private _y: number = 0;\n   private _cameraMoving: boolean = false;\n   private _currentLerpTime: number = 0;\n   private _lerpDuration: number = 1000; // 1 second   \n   private _lerpStart: Vector = null;\n   private _lerpEnd: Vector = null;\n   private _lerpPromise: IPromise<Vector>;\n\n   //camera effects\n   protected _isShaking: boolean = false;\n   private _shakeMagnitudeX: number = 0;\n   private _shakeMagnitudeY: number = 0;\n   private _shakeDuration: number = 0;\n   private _elapsedShakeTime: number = 0;\n   private _xShake: number = 0;\n   private _yShake: number = 0;\n\n   protected _isZooming: boolean = false;\n   private _maxZoomScale: number = 1;\n   private _zoomPromise: Promise<boolean>;\n   private _zoomIncrement: number = 0.01;\n   private _easing: EasingFunction = EasingFunctions.EaseInOutCubic;\n   \n \n   /**\n    * Get the camera's x position\n    */\n   public get x() {\n      return this._x;\n   }\n\n   /**\n    * Set the camera's x position (cannot be set when following an [[Actor]] or when moving)\n    */\n   public set x(value: number) {\n      if (!this._follow && !this._cameraMoving) {\n         this._x = value;\n      }\n   }\n\n   /**\n    * Get the camera's y position \n    */\n   public get y() {\n      return this._y;\n   }\n\n   /**\n    * Set the camera's y position (cannot be set when following an [[Actor]] or when moving)\n    */\n   public set y(value: number) {\n      if (!this._follow && !this._cameraMoving) {\n         this._y = value;\n      }\n   }\n\n   /**\n    * Get the camera's position as a vector\n    */\n   public get pos(): Vector {\n      return new Vector(this.x, this.y);\n   }\n\n   /**\n    * Set the cameras position\n    */\n   public set pos(value: Vector) {\n      this.x = value.x;\n      this.y = value.y;\n   }\n\n   /**\n    * Get the camera's velocity as a vector\n    */\n   public get vel() {\n      return new Vector(this.dx, this.dy);\n   }\n\n   /**\n    * Set the camera's velocity\n    */\n   public set vel(value: Vector) {\n      this.dx = value.x;\n      this.dy = value.y;\n   }\n\n   /**\n    * Returns the focal point of the camera, a new point giving the x and y position of the camera\n    */\n   public getFocus() {\n      return new Vector(this.x, this.y);\n   }\n\n   /**\n    * This moves the camera focal point to the specified position using specified easing function. Cannot move when following an Actor.\n    * \n    * @param pos The target position to move to\n    * @param duration The duration in milliseconds the move should last\n    * @param [easingFn] An optional easing function ([[ex.EasingFunctions.EaseInOutCubic]] by default)\n    * @returns A [[Promise]] that resolves when movement is finished, including if it's interrupted. \n    *          The [[Promise]] value is the [[Vector]] of the target position. It will be rejected if a move cannot be made.\n    */\n   public move(pos: Vector, duration: number, easingFn: EasingFunction = EasingFunctions.EaseInOutCubic): IPromise<Vector> {\n\n      if (typeof easingFn !== 'function') {\n         throw 'Please specify an EasingFunction';\n      }\n\n      // cannot move when following an actor\n      if (this._follow) {\n         return new Promise<Vector>().reject(pos);\n      }\n\n      // resolve existing promise, if any\n      if (this._lerpPromise && this._lerpPromise.state() === PromiseState.Pending) {\n         this._lerpPromise.resolve(pos);\n      }\n\n      this._lerpPromise = new Promise<Vector>();\n      this._lerpStart = this.getFocus().clone();\n      this._lerpDuration = duration;\n      this._lerpEnd = pos;\n      this._currentLerpTime = 0;\n      this._cameraMoving = true;\n      this._easing = easingFn;\n\n      return this._lerpPromise;\n   }\n\n   /**\n    * Sets the camera to shake at the specified magnitudes for the specified duration\n    * @param magnitudeX  The x magnitude of the shake\n    * @param magnitudeY  The y magnitude of the shake\n    * @param duration    The duration of the shake in milliseconds\n    */\n   public shake(magnitudeX: number, magnitudeY: number, duration: number) {\n      this._isShaking = true;\n      this._shakeMagnitudeX = magnitudeX;\n      this._shakeMagnitudeY = magnitudeY;\n      this._shakeDuration = duration;\n   }\n\n   /**\n    * Zooms the camera in or out by the specified scale over the specified duration. \n    * If no duration is specified, it take effect immediately.\n    * @param scale    The scale of the zoom\n    * @param duration The duration of the zoom in milliseconds\n    */\n   public zoom(scale: number, duration: number = 0): Promise<boolean> {\n      this._zoomPromise = new Promise<boolean>();\n      \n      if (duration) {\n         this._isZooming = true;\n         this._maxZoomScale = scale;\n         this._zoomIncrement = (scale - this.z) / duration;\n      } else {\n         this._isZooming = false;\n         this.z = scale;\n         this._zoomPromise.resolve(true);\n         \n      }\n\n      return this._zoomPromise;\n   }\n\n   /**\n    * Gets the current zoom scale\n    */\n   public getZoom() {\n      return this.z;\n   }\n\n   /**\n    * Adds a new camera strategy to this camera\n    * @param cameraStrategy Instance of an [[ICameraStrategy]]\n    */\n   public addStrategy<T>(cameraStrategy: ICameraStrategy<T>) {\n      this._cameraStrategies.push(cameraStrategy);\n   }\n\n   /**\n    * Removes a camera strategy by reference\n    * @param cameraStrategy Instance of an [[ICameraStrategy]]\n    */\n   public removeStrategy<T>(cameraStrategy: ICameraStrategy<T>) {\n      removeItemFromArray(cameraStrategy, this._cameraStrategies);\n   }\n\n   /**\n    * Clears all camera strategies from the camera\n    */\n   public clearAllStrategies() {\n      this._cameraStrategies.length = 0;\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n    * @internal\n    */\n   public _preupdate(engine: Engine, delta: number): void {\n      this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n      this.onPreUpdate(engine, delta);\n   }\n\n\n   /**\n    * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n    * \n    * `onPreUpdate` is called directly before a scene is updated.\n    */\n   public onPreUpdate(_engine: Engine, _delta: number): void {\n      // Overridable\n   }\n\n   /**\n    *  It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n    * @internal\n    */\n   public _postupdate(engine: Engine, delta: number): void {\n      this.emit('postupdate', new PostUpdateEvent(engine, delta, this));\n      this.onPostUpdate(engine, delta);\n   }\n   \n   /**\n    * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n    * \n    * `onPostUpdate` is called directly after a scene is updated.\n    */\n   public onPostUpdate(_engine: Engine, _delta: number): void {\n      // Overridable\n   }\n\n   private _isInitialized = false;\n   public get isInitialized() {\n      return this._isInitialized;\n   }\n\n   public _initialize(_engine: Engine) {\n      if (!this.isInitialized) {\n         this.onInitialize(_engine);\n         super.emit('initialize', new InitializeEvent(_engine, this));\n         this._isInitialized = true;\n      }\n   }\n\n   /**\n    * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n    * \n    * `onPostUpdate` is called directly after a scene is updated.\n    */\n   public onInitialize(_engine: Engine) {\n      // Overridable\n   }\n\n   public on(eventName: 'initialize', handler: (event?: InitializeEvent) => void): void;\n   public on(eventName: 'preupdate', handler: (event?: PreUpdateEvent) => void): void;\n   public on(eventName: 'postupdate', handler: (event?: PostUpdateEvent) => void): void;\n   public on(eventName: any, handler: any) {\n      super.on(eventName, handler);\n   }\n\n   public off(eventName: 'initialize', handler?: (event?: InitializeEvent) => void): void;\n   public off(eventName: 'preupdate', handler?: (event?: PreUpdateEvent) => void): void;\n   public off(eventName: 'postupdate', handler?: (event?: PostUpdateEvent) => void): void;\n   public off(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public off(eventName: string, handler: (event?: any) => void): void {\n      super.off(eventName, handler);\n   }\n\n   public once(eventName: 'initialize', handler: (event?: InitializeEvent) => void): void;\n   public once(eventName: 'preupdate', handler: (event?: PreUpdateEvent) => void): void;\n   public once(eventName: 'postupdate', handler: (event?: PostUpdateEvent) => void): void;\n   public once(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public once(eventName: string, handler: (event?: any) => void): void {\n      super.once(eventName, handler);\n   }\n\n   public update(_engine: Engine, delta: number) {\n      this._initialize(_engine);\n      this._preupdate(_engine, delta);\n\n      // Update placements based on linear algebra\n      this._x += this.dx * delta / 1000;\n      this._y += this.dy * delta / 1000;\n      this.z += this.dz * delta / 1000;\n\n      this.dx += this.ax * delta / 1000;\n      this.dy += this.ay * delta / 1000;\n      this.dz += this.az * delta / 1000;\n\n      this.rotation += this.rx * delta / 1000;\n\n      if (this._isZooming) {\n         var newZoom = this.z + this._zoomIncrement * delta;      \n         this.z = newZoom;\n         if (this._zoomIncrement > 0) {\n               \n            if (newZoom >= this._maxZoomScale) {\n               this._isZooming = false;\n               this.z = this._maxZoomScale;\n               this._zoomPromise.resolve(true);\n            }\n         } else {\n            if (newZoom <= this._maxZoomScale) {\n               this._isZooming = false;\n               this.z = this._maxZoomScale;\n               this._zoomPromise.resolve(true);\n            }\n         }         \n      }\n\n      if (this._cameraMoving) {\n         if (this._currentLerpTime < this._lerpDuration) {\n\n            if (this._lerpEnd.x < this._lerpStart.x) {\n               this._x = this._lerpStart.x - (this._easing(this._currentLerpTime,\n                  this._lerpEnd.x, this._lerpStart.x, this._lerpDuration) - this._lerpEnd.x);\n            } else {\n               this._x = this._easing(this._currentLerpTime,\n                  this._lerpStart.x, this._lerpEnd.x, this._lerpDuration);\n            }\n\n            if (this._lerpEnd.y < this._lerpStart.y) {\n               this._y = this._lerpStart.y - (this._easing(this._currentLerpTime,\n                  this._lerpEnd.y, this._lerpStart.y, this._lerpDuration) - this._lerpEnd.y);\n            } else {\n               this._y = this._easing(this._currentLerpTime,\n                  this._lerpStart.y, this._lerpEnd.y, this._lerpDuration);\n            }\n            this._currentLerpTime += delta;\n         } else {\n            this._x = this._lerpEnd.x;\n            this._y = this._lerpEnd.y;\n            this._lerpPromise.resolve(this._lerpEnd);\n            this._lerpStart = null;\n            this._lerpEnd = null;\n            this._currentLerpTime = 0;\n            this._cameraMoving = false;\n         }\n      }\n\n      if (this._isDoneShaking()) {\n         this._isShaking = false;\n         this._elapsedShakeTime = 0;\n         this._shakeMagnitudeX = 0;\n         this._shakeMagnitudeY = 0;\n         this._shakeDuration = 0;\n         this._xShake = 0;\n         this._yShake = 0;\n      } else {\n         this._elapsedShakeTime += delta;\n         this._xShake = (Math.random() * this._shakeMagnitudeX | 0) + 1;\n         this._yShake = (Math.random() * this._shakeMagnitudeY | 0) + 1;\n      }\n\n      for (let s of this._cameraStrategies) {\n         this.pos = s.action.call(s, s.target, this, _engine, delta);\n      }\n\n      this._postupdate(_engine, delta);\n   }\n\n   /**\n    * Applies the relevant transformations to the game canvas to \"move\" or apply effects to the Camera\n    * @param ctx    Canvas context to apply transformations\n    * @param delta  The number of milliseconds since the last update\n    */\n   public draw(ctx: CanvasRenderingContext2D) {\n      let focus = this.getFocus();\n      let canvasWidth = ctx.canvas.width;\n      let canvasHeight = ctx.canvas.height;\n      let pixelRatio = window.devicePixelRatio;\n      let zoom = this.getZoom();\n\n      var newCanvasWidth = (canvasWidth / zoom) / pixelRatio;\n      var newCanvasHeight = (canvasHeight / zoom) / pixelRatio;\n\n      ctx.scale(zoom, zoom);\n      ctx.translate(-focus.x + newCanvasWidth / 2 + this._xShake, -focus.y + newCanvasHeight / 2 + this._yShake);\n   }\n\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      var focus = this.getFocus();\n      ctx.fillStyle = 'red';\n      ctx.strokeStyle = 'white';\n      ctx.lineWidth = 3;\n      ctx.beginPath();\n      ctx.arc(focus.x, focus.y, 15, 0, Math.PI * 2);\n      ctx.closePath();\n      ctx.stroke();\n\n      ctx.beginPath();\n      ctx.arc(focus.x, focus.y, 5, 0, Math.PI * 2);\n      ctx.closePath();\n      ctx.stroke();\n   }\n\n   private _isDoneShaking(): boolean {\n      return !(this._isShaking) || (this._elapsedShakeTime >= this._shakeDuration);\n   }\n}","import { ILoadable } from '../Interfaces/ILoadable';\nimport { IAudioImplementation, ExResponseType } from '../Interfaces/IAudioImplementation';\nimport { IAudio } from '../Interfaces/IAudio';\nimport { Logger } from '../Util/Log';\nimport * as Util from '../Util/Util';\nimport { Engine } from '../Engine';\nimport { Promise } from '../Promises';\n\n// set up audio context reference\n// when we introduce multi-tracking, we may need to move this to a factory method\nif ((<any>window).AudioContext) {\n   var audioContext: AudioContext = new (<any>window).AudioContext();\n}   \n\n/**\n * An audio implementation for HTML5 audio.\n */\nexport class AudioTag implements IAudioImplementation {\n\n   public responseType: ExResponseType = 'blob';\n\n   /**\n    * Transforms raw Blob data into a object URL for use in audio tag\n    */\n   public processData(data: Blob): Promise<string> {        \n      var url = URL.createObjectURL(data);         \n      return Promise.resolve(url);\n   }\n\n   /**\n    * Creates a new instance of an audio tag referencing the provided audio URL\n    */\n   public createInstance(url: string): IAudio {\n      return new AudioTagInstance(url);\n   }\n\n}\n\n/**\n * An audio implementation for Web Audio API.\n */\nexport class WebAudio implements IAudioImplementation {\n   private _logger = Logger.getInstance();\n\n   public responseType: ExResponseType  = 'arraybuffer';\n\n   /**\n    * Processes raw arraybuffer data and decodes into WebAudio buffer (async).\n    */\n   public processData(data: ArrayBuffer): Promise<AudioBuffer> {\n      var complete = new Promise<AudioBuffer>();\n\n      audioContext.decodeAudioData(data,\n         (buffer) => {\n            complete.resolve(buffer);\n         },\n         () => {\n            this._logger.error('Unable to decode ' +\n               ' this browser may not fully support this format, or the file may be corrupt, ' +\n               'if this is an mp3 try removing id3 tags and album art from the file.');\n            complete.resolve(undefined);\n         });\n\n      return complete;\n   }\n\n   /**\n    * Creates a new WebAudio AudioBufferSourceNode to play a sound instance\n    */\n   public createInstance(buffer: AudioBuffer): IAudio {\n      return new WebAudioInstance(buffer);\n   }\n\n   private static _unlocked: boolean = false;\n\n   /**\n    * Play an empty sound to unlock Safari WebAudio context. Call this function\n    * right after a user interaction event. Typically used by [[PauseAfterLoader]]\n    * @source https://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n    */\n   static unlock() {\n\n      if (WebAudio._unlocked || !audioContext) {\n         return;\n      }\n\n      // create empty buffer and play it\n      var buffer = audioContext.createBuffer(1, 1, 22050);\n      var source = audioContext.createBufferSource();\n      var ended = false;\n      source.buffer = buffer;\n      source.connect(audioContext.destination);\n      source.onended = () => ended = true;\n\n      if ((<any>source).noteOn) {\n         // deprecated\n         (<any>source).noteOn(0);\n      } else {\n         source.start(0);\n      }\n\n      // by checking the play state after some time, we know if we're really unlocked\n      setTimeout(function () {\n         if ((<any>source).playbackState) {\n            var legacySource = (<any>source);\n            if (legacySource.playbackState === legacySource.PLAYING_STATE ||\n               legacySource.playbackState === legacySource.FINISHED_STATE) {\n               WebAudio._unlocked = true;\n            }\n         } else {               \n            if (audioContext.currentTime > 0 || ended) {\n               WebAudio._unlocked = true;\n            } \n         }\n      }, 0);\n\n   }\n\n   static isUnlocked() {\n      return this._unlocked;\n   }\n}\n\n/**\n * Factory method that gets the audio implementation to use\n */\nexport function getAudioImplementation(): IAudioImplementation {\n   if ((<any>window).AudioContext) {            \n      return new WebAudio();\n   } else {            \n      return new AudioTag();\n   }\n};   \n\n/**\n * The [[Sound]] object allows games built in Excalibur to load audio \n * components, from soundtracks to sound effects. [[Sound]] is an [[ILoadable]]\n * which means it can be passed to a [[Loader]] to pre-load before a game or level.\n *\n * [[include:Sounds.md]]\n */\nexport class Sound implements ILoadable, IAudio {\n   private _logger: Logger = Logger.getInstance();\n   private _data: any = null;\n   private _tracks: IAudio[] = [];\n   private _isLoaded = false;\n   private _isPaused = false;\n   private _loop = false;\n   private _volume = 1.0;\n\n   public path: string;\n\n   public onprogress: (e: any) => void = () => { return; };\n   public oncomplete: () => void = () => { return; };\n   public onerror: (e: any) => void = () => { return; };   \n\n   private _engine: Engine;\n   private _wasPlayingOnHidden: boolean = false;      \n   \n   /**\n    * Populated once loading is complete\n    */\n   public sound: IAudioImplementation;\n\n   /**\n    * Whether or not the browser can play this file as HTML5 Audio\n    */\n   public static canPlayFile(file: string): boolean {\n      try {\n         var a = new Audio();\n         var filetype = /.*\\.([A-Za-z0-9]+)$/;\n         var type = file.match(filetype)[1];\n         if (a.canPlayType('audio/' + type)) {\n            return true;\n         } else {\n            return false;\n         }\n      } catch (e) {\n         Logger.getInstance().warn('Cannot determine audio support, assuming no support for the Audio Tag', e);\n         return false;\n      }\n   }\n\n   /**\n    * @param paths A list of audio sources (clip.wav, clip.mp3, clip.ogg) for this audio clip. This is done for browser compatibility.\n    */\n   constructor(...paths: string[]) {\n      /* Chrome : MP3, WAV, Ogg\n         * Firefox : WAV, Ogg, \n         * IE : MP3, WAV coming soon\n         * Safari MP3, WAV, Ogg           \n         */\n      this.path = '';\n\n      for (var path of paths) {\n         if (Sound.canPlayFile(path)) {\n            this.path = path;\n            break;\n         }               \n      }\n\n      if (!this.path) {\n         this._logger.warn('This browser does not support any of the audio files specified:', paths.join(', '));\n         this._logger.warn('Attempting to use', paths[0]);\n         this.path = paths[0]; // select the first specified\n      }\n\n      this.sound = getAudioImplementation();\n   }\n\n   public wireEngine(engine: Engine) {\n      if (engine) {\n         this._engine = engine;\n         this._engine.on('hidden', () => {\n            if (engine.pauseAudioWhenHidden && this.isPlaying()) {\n               this._wasPlayingOnHidden = true;\n               this.pause();\n            }\n         });\n\n         this._engine.on('visible', () => {\n            if (engine.pauseAudioWhenHidden && this._wasPlayingOnHidden) {\n               this.play();\n               this._wasPlayingOnHidden = false;\n            }\n         });\n      }\n   }\n\n   /**\n    * Returns how many instances of the sound are currently playing\n    */\n   public instanceCount(): number {\n      return this._tracks.length;\n   }\n\n   /**\n    * Sets the volume of the sound clip\n    * @param volume  A volume value between 0-1.0\n    */\n   public setVolume(volume: number) {\n      this._volume = volume;\n\n      for (var track of this._tracks) {\n         track.setVolume(volume);\n      }\n\n      this._logger.debug('Set volume for all instances of sound', this.path, 'to', volume);\n   }\n\n   /**\n    * Indicates whether the clip should loop when complete\n    * @param loop  Set the looping flag\n    */\n   public setLoop(loop: boolean) {\n      this._loop = loop;\n      for (var track of this._tracks) {\n         track.setLoop(loop);\n      }\n\n      this._logger.debug('Set loop for all instances of sound', this.path, 'to', loop);\n   }\n\n   /**\n    * Whether or not the sound is playing right now\n    */\n   public isPlaying(): boolean {\n      return this._tracks.some(t => t.isPlaying());\n   }\n\n   /**\n    * Play the sound, returns a promise that resolves when the sound is done playing\n    * An optional volume argument can be passed in to play the sound. Max volume is 1.0\n    */\n   public play(volume?: number): Promise<boolean> {\n      if (this._isLoaded) {\n         var resumed = [];\n\n         // ensure we resume *current* tracks (if paused)\n         for (var track of this._tracks) {\n            resumed.push(track.play());\n         }\n\n         // when paused, don't start playing new track\n         if (this._isPaused) {\n            this._isPaused = false;\n\n            this._logger.debug('Resuming paused instances for sound', this.path, this._tracks);\n\n            // resolve when resumed tracks are done\n            return Promise.join(resumed);\n         }\n\n         // push a new track\n         var newTrack = this.sound.createInstance(this._data);\n         newTrack.setLoop(this._loop);\n         if (volume) {\n           newTrack.setVolume(Util.clamp(volume, 0.0, 1.0));\n         } else {\n           newTrack.setVolume(this._volume);\n         }\n         \n\n         this._tracks.push(newTrack);\n\n         this._logger.debug('Playing new instance for sound', this.path);\n\n         return newTrack.play().then(() => {\n\n            // when done, remove track\n            this._tracks.splice(this._tracks.indexOf(newTrack), 1);\n\n            return true;\n         });\n      } else {\n         return Promise.resolve(true);\n      }\n   }\n\n   /**\n    * Stop the sound, and do not rewind\n    */\n   public pause() {\n      for (var track of this._tracks) {\n         track.pause();\n      }\n      this._isPaused = true;\n      this._logger.debug('Paused all instances of sound', this.path);\n   }\n\n   /**\n    * Stop the sound and rewind\n    */\n   public stop() {\n      this._isPaused = false;\n\n      var tracks = this._tracks.concat([]);\n      for (var track of tracks) {\n         track.stop();\n      }\n      this._logger.debug('Stopped all instances of sound', this.path);\n   }\n\n   /**\n    * Returns true if the sound is loaded\n    */\n   public isLoaded() {\n      return this._isLoaded;\n   }\n\n   /**\n    * Begins loading the sound and returns a promise to be resolved on completion\n    */\n   public load(): Promise<IAudioImplementation> {\n      var complete = new Promise<IAudioImplementation>();\n      \n      if (!!this.getData()) {\n         this._logger.debug('Already have data for audio resource', this.path);\n         complete.resolve(this.sound);\n         this.oncomplete();\n         return complete;\n      }\n      \n      this._logger.debug('Started loading sound', this.path);        \n\n      try {\n         this._fetchResource(request => {\n\n            if (request.status !== 200) {\n               this._logger.error('Failed to load audio resource ', this.path, ' server responded with error code', request.status);\n               this.onerror(request.response);\n               complete.resolve(null);\n               return;\n            }\n\n            // load sound\n            this.setData(request.response).then(() => {                              \n               this.oncomplete();\n               this._logger.debug('Completed loading sound', this.path);\n               \n               complete.resolve(this.sound);\n            }, (e) => complete.resolve(e));            \n         });\n\n      } catch (e) {\n         this._logger.error('Error loading sound! If this is a cross origin error, \\\n            you must host your sound with your html and javascript.');\n\n         this.onerror(e);\n         complete.resolve(e);\n      }\n\n      return complete;\n   }\n\n   /* istanbul ignore next */\n   private _fetchResource(onload: (XMLHttpRequest: XMLHttpRequest) => void) {\n      var request = new XMLHttpRequest();\n\n      request.open('GET', this.path, true);\n      request.responseType = this.sound.responseType;\n      request.onprogress = this.onprogress;\n      request.onerror = this.onerror;\n      request.onload = () => onload(request);\n\n      request.send();\n   }\n   \n   /**\n    * Gets the raw sound data (e.g. blob URL or AudioBuffer)\n    */\n   public getData(): any {\n      return this._data;\n   }\n   \n   /**\n    * Sets raw sound data and returns a Promise that is resolved when sound data is processed\n    * \n    * @param data The XHR data for the sound implementation to process (Blob or ArrayBuffer)\n    */\n   public setData(data: any): Promise<any> {         \n      return this.sound.processData(data).then(data => {\n         this._isLoaded = true;\n         this._data = this.processData(data);\n         return data;\n      });\n   }\n\n   /**\n    * Set the raw sound data (e.g. blob URL or AudioBuffer)\n    */\n   public processData(data: any) {\n      return data;\n   }\n   \n}\n\n/**\n * Internal class representing a HTML5 audio instance    \n */\n/* istanbul ignore next */\nclass AudioTagInstance implements IAudio {\n   private _audioElement: HTMLAudioElement;\n   private _playingPromise: Promise<any>;\n   private _isPlaying = false;\n   private _isPaused = false;\n   private _loop = false;\n\n   constructor(src: string) {\n\n      this._audioElement = new Audio(src);\n   }\n\n   public isPlaying() {\n      return this._isPlaying;\n   }\n\n   public get loop() {\n      return this._loop;\n   }\n\n   public setLoop(value: boolean) {\n      this._loop = value;\n      this._audioElement.loop = value;\n      this._wireUpOnEnded();\n   }\n\n   public setVolume(value: number) {\n      this._audioElement.volume = Util.clamp(value, 0, 1.0);\n   }\n\n   public play() {\n      if (this._isPaused) {\n         this._resume();\n      } else if (!this._isPlaying) {\n         this._start();\n      }\n\n      return this._playingPromise;\n   }\n\n   private _start() {\n      this._audioElement.load();\n      this._audioElement.loop = this._loop;\n      this._audioElement.play();\n\n      this._isPlaying = true;\n      this._isPaused = false;\n\n      this._playingPromise = new Promise();\n      this._wireUpOnEnded();\n   }\n\n   private _resume() {\n      if (!this._isPaused) {\n         return;\n      }\n\n      this._audioElement.play();\n\n      this._isPaused = false;\n      this._isPlaying = true;\n      this._wireUpOnEnded();\n   }\n\n   public pause() {\n      if (!this._isPlaying) {\n         return;\n      }\n\n      this._audioElement.pause();\n      this._isPaused = true;\n      this._isPlaying = false;\n   }\n\n   public stop() {\n      if (!this._isPlaying) {\n         return;\n      }\n\n      this._audioElement.pause();\n      this._audioElement.currentTime = 0;\n      this._handleOnEnded();\n   }\n\n   private _wireUpOnEnded() {\n      if (!this._loop) {\n         this._audioElement.onended = () => this._handleOnEnded();\n      }\n   }\n\n   private _handleOnEnded() {\n      this._isPlaying = false;\n      this._isPaused = false;\n      this._playingPromise.resolve(true);\n   }\n}  \n\n/**\n * Internal class representing a Web Audio AudioBufferSourceNode instance\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API\n */\n/* istanbul ignore next */\nclass WebAudioInstance implements IAudio {\n   private _bufferSource: AudioBufferSourceNode;\n   private _volumeNode = audioContext.createGain();\n   private _playingPromise: Promise<any>;      \n   private _isPlaying = false;\n   private _isPaused = false;\n   private _startTime: number;\n   private _loop: boolean = false;\n\n   /**\n    * Current playback offset (in seconds)\n    */\n   private _currentOffset = 0;\n\n   public isPlaying() {\n      return this._isPlaying;\n   }\n\n   constructor(private _buffer: AudioBuffer) {\n   }\n\n   public setVolume(value: number) {\n      if (this._volumeNode.gain.setTargetAtTime) {\n         this._volumeNode.gain.setTargetAtTime(Util.clamp(value, 0, 1.0), audioContext.currentTime, 0);\n      } else {\n         this._volumeNode.gain.value = Util.clamp(value, 0, 1.0);\n      }\n   }\n\n   public setLoop(value: boolean) {\n      this._loop = value;\n\n      if (this._bufferSource) {\n         this._bufferSource.loop = value;\n         this._wireUpOnEnded();\n      }\n   }\n\n   public play() {\n      if (this._isPaused) {\n         this._resume();\n      } else if (!this._isPlaying) {\n         this._start();\n      }\n\n      return this._playingPromise;\n   }\n\n   private _start() {\n      this._volumeNode.connect(audioContext.destination);\n      this._createBufferSource();\n      this._bufferSource.start(0, 0);\n\n      this._startTime = new Date().getTime();\n      this._currentOffset = 0;\n      this._isPlaying = true;\n      this._isPaused = false;\n\n      this._playingPromise = new Promise();\n      this._wireUpOnEnded();\n   }\n\n   private _resume() {\n      if (!this._isPaused) {\n         return;\n      }\n\n      // a buffer source can only be started once\n      // so we need to dispose of the previous instance before\n      // \"resuming\" the next one\n\n      this._bufferSource.onended = null; // dispose of any previous event handler\n      this._createBufferSource();\n      var duration = (1 / this._bufferSource.playbackRate.value) * this._buffer.duration;\n      this._bufferSource.start(0, this._currentOffset % duration);\n\n      this._isPaused = false;\n      this._isPlaying = true;\n      this._wireUpOnEnded();\n   }\n\n   private _createBufferSource() {\n      this._bufferSource = audioContext.createBufferSource();\n      this._bufferSource.buffer = this._buffer;\n      this._bufferSource.loop = this._loop;\n      this._bufferSource.playbackRate.value = 1.0;\n      this._bufferSource.connect(this._volumeNode);\n   }\n\n   public pause() {\n      if (!this._isPlaying) {\n         return;\n      }\n\n      this._bufferSource.stop(0);\n      // Playback rate will be a scale factor of how fast/slow the audio is being played\n      // default is 1.0\n      // we need to invert it to get the time scale\n      var pbRate = 1 / (this._bufferSource.playbackRate.value || 1.0);\n      this._currentOffset = ((new Date().getTime() - this._startTime) * pbRate) / 1000; // in seconds\n      this._isPaused = true;\n      this._isPlaying = false;\n   }\n\n   public stop() {\n      if (!this._isPlaying) {\n         return;\n      }\n\n      this._bufferSource.stop(0);\n      \n      // handler will not be wired up if we were looping\n      if (!this._bufferSource.onended) {\n         this._handleOnEnded();\n      }\n\n      this._currentOffset = 0;\n      this._isPlaying = false;\n      this._isPaused = false;\n   }\n\n   private _wireUpOnEnded() {\n      if (!this._loop) {\n         this._bufferSource.onended = () => this._handleOnEnded();\n      }\n   }\n\n   private _handleOnEnded() {\n      // pausing calls stop(0) which triggers onended event\n      // so we don't \"resolve\" yet (when we resume we'll try again)\n      if (!this._isPaused) {\n         this._isPlaying = false;\n         this._playingPromise.resolve(true);\n      }\n   }\n}\n","import { Color } from './Drawing/Color';\nimport { WebAudio } from './Resources/Sound';\nimport { Logger } from './Util/Log';\nimport { Promise, PromiseState } from './Promises';\nimport { Engine } from './Engine';\nimport { ILoadable } from './Interfaces/ILoadable';\nimport { ILoader } from './Interfaces/ILoader';\nimport { Class } from './Class';\nimport * as DrawUtil from './Util/DrawUtil';\n\n/**\n * Pre-loading assets\n *\n * The loader provides a mechanism to preload multiple resources at \n * one time. The loader must be passed to the engine in order to \n * trigger the loading progress bar.\n *\n * The [[Loader]] itself implements [[ILoadable]] so you can load loaders.\n *\n * ## Example: Pre-loading resources for a game\n *\n * ```js\n * // create a loader\n * var loader = new ex.Loader();\n *\n * // create a resource dictionary (best practice is to keep a separate file)\n * var resources = {\n *   TextureGround: new ex.Texture(\"/images/textures/ground.png\"),\n *   SoundDeath: new ex.Sound(\"/sound/death.wav\", \"/sound/death.mp3\")\n * };\n *\n * // loop through dictionary and add to loader\n * for (var loadable in resources) {\n *   if (resources.hasOwnProperty(loadable)) {\n *     loader.addResource(resources[loadable]);\n *   }\n * }\n *\n * // start game\n * game.start(loader).then(function () {\n *   console.log(\"Game started!\");\n * });\n * ```\n */\nexport class Loader extends Class implements ILoader {\n   private _resourceList: ILoadable[] = [];\n   private _index = 0;\n\n   private _resourceCount: number = 0;\n   private _numLoaded: number = 0;\n   private _progressCounts: { [key: string]: number; } = {};\n   private _totalCounts: { [key: string]: number; } = {};\n   private _engine: Engine;\n\n   // logo drawing stuff\n\n   /* tslint:disable:max-line-length */\n   // base64 string encoding of the excalibur logo (logo-white.png)\n   public logo = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdQAAAB2CAYAAABxhGI9AAAACXBIWXMAAAsSAAALEgHS3X78AAAKnUlEQVR42u3dP2wjSx0H8N8hJIonIRmJjsq0SBR+BQ1dcqKhe0lD77SvSwpKkJKGPulpktfRIMUdEqKIqV57rpAokM4dbSiyq7ONPTP7x39ifz7SFbnEnp3xer47O7uzH15fXwMA6OYHmgAABCoACFQAEKgAgEAFAIEKAAIVAAQqACBQAUCgAoBABQCBCgAIVAAQqAAgUAFAoAIAAhUABCoACFQAEKgAgECFLbmOiNeFf2PbAyz68Pr6qhUgbRwR92v+/zwiJrYHMEKFMmcN///UtgcQqFBk1PD/97U9Qx8VCFSgu4EmAIEKAAIVAAQqACBQ4Z25jojP8eX+0WtNAgIVaOY+Im5j+eKh24h41jQgUIEyZ7F5NaPU7wCBCiwYd/w9cOB+qAlgJ3KLLow0EV198803RWvJfvfddx+0lhEqHKu5JgAjVCBvlhmFzjQRXUekHz9+TP79y8uLRjNChXfvoePvAYEKxNtj1e42/O5JoIJABcrdRMRVLM+X3kTEpaaB988cKuzWg9EobTWdMx0Oly8uN4dqhAoARqgnaN3arHfqu7OyH8ItKLVB/P+CEfMTHyGPY3npx1m8zWGDEeoBfUk/xdti57dr/r1Wv2+6EPow3tZ5rRdS72s1neuF97xvWd+XTH0/V+UMttDWqbI/r2nrxfp+jv2uSjSO7S+OXy/A/3lN+9xX5T5HxEUPZZ0tfB71+w57eJ/HFu+z+jkv1u92YX9fbI/HhX3JA9rp5MPr66tWaG9UfUGbrHIzi7cLUyYFf/tpTady03EEeL8mUJ6i7MKYNvWNqr4Pe2jradXO60LrvPAz2PQ5RPX684ah8dxD+2zantnCgVipSVV+m/tgB9W2DDq2Sx/vM95wcHhZhWVJm8yrv58cSgfTdc70+++/X/r522+/tUKSEepBqo+om4ZLPerMjUwuNnQCtx1GWJtee1FwdD5uWd86xLs8UaVt2aNEO1/saZ/Z5rYMW4zq6v34rGV9Bg3q2eZ9SkeNm9qwyUh30OPIHYFKx5FG03C7znSOqYBq+qW/zpQ3anH037TNHluG6f0WPsPhHvab4QFty7ogOeuxDYcNy2/zu2214WNYWxmBurNO8bGn97pNBOO8xy/9uCorZZ4I2r4C7aJgO7ZV9iE49Dm6NvOWx+pWE9CUq3zbdTp9doz38TbXtzqH9RT5CyWe422OaZoZGeZCabrhPQY9HjwsjpTvCg4YtlE2+Ta/j2bzn8fqrDqgm+6yUHOmAvWUjAtGhbNYvsBknDnqH1Qhc7VmxHgeb/NbudA5j/UXlYwif2p6luhAc9teu1npiHKnDs8if6tCm7JLX3NKpgttXe9ruc9mHMd7a83iwdxF5vt8tutARaCeklRnNK9C8WnNF7geJQ4T4XG3JhSnVdilQrG+yOnrlVHfsEGYzhNBn7Lu6tS7+HJafJQ4EMiNlNqWXZ9WPvVgnVYHG5M1ByDXkT6leX2EgTqJtyt45yv7S2qO3sEZjZhDLXeR+YKdJ0Zdk8QocvH9N732KrNtq+FZ/zzIHABcJrYpd+Xv14lOd5ap76SgrduW/VTQ1qcQpqnbgu4ifZvUMNpd9XuoZmvCtPaQ2Y/BCHVLgbrJTeRPDdVf6pfMKDU2fOkHmVFFfXr3MsouLsnNvV5kRoe5+s431PeuoKPqWnaurY/ZPBEeqwceN4l96iwO6H7Mjq4y7VGPVNe10VaZMzVCPVWpI/Z6FZbcv5fMqGCU+dLfFGzj58jP8+bCdJCo7yzKTwdOF0bu9Ug7V4c+yz7FJfYeGoysUss0HssIdVZwYLDujMqlESoCdTtGsZtbHnJBeNdDSJSs0jTKdMJN1HNX54Wv7bvsU9NkVJVa13dX+/wuArV0X/l5RHyo/lnfF4G6p6DrS0kHdtXhy35TGErDPYZUn2WfWqDOo/lVqdMD2O/hKJhD7S/odukymq9s02QN4EEPR/zbaOumZc+r15zK1Zqznl9jsfiemTM1QmV3HUuTkedlg9HIQzRbUD93dfC+2tpj2fIHEH2+RqCCQH13gZq7hWXTNpVu19OB1fc9nQ0AKOKUb5lU0P1kDyOneoWk0lOZ9cIP0x7qu8+2BhCoR2wYu1+e7DmaXzBSsu5vaX1ne2zrpmUPTmxf7PM1Dm4y/vC7ny7Nif7+z/9ZmtM0Z3panPLtPmra9f16bcK0Dpbnwk43Vd/RHtu6zfNQTy1QBy3aqG2g9nVmxml+BOoJyT3NpWmn9xhfFnu4bvDa+44BXhqqfdf3uUF9+yz77AT31Yue2mjecYQ62NLfgkA9ghHqLNEhNem4H1c6vdyDxhf/bpz5m4coW/c39wi6VH2bPtHlcaV9cvXts+zxCe6rTeqc2ndL7uGd93QwM9bFcAzMoZZ7SgTBbWx+asui61h/iq1+RmjqdbnQXQ3T1DNQ63V/U9ucqm/pMzPb1rePsk/1iTOjgvatR4W3Lc8ULB78pELyrnAfeTcj1NU509/86mfJ33/8+Mf00a05UyPUEw7UVCeWG/WNEiExyHRMt5ltW30izUPk18ytt7lNfc8i//DvtvXto+ySA5BjljsLUF8lPkqMPEtW1JomDsiGBZ9Byb4NAvUITSN9GuwsIj6t6UTOqk7jJREkmzqli8xIs96udSO20sX0H1vW92IL9e1a9rgqVyf91gbPsTy9UD9n9lOkT8k+RfkFR5PMNqxOcdSf32PBvg3vilO+zdxE+okx9Wm0ph36XYsRZCpMF993GOk5qvqB3Dct6jvssb67KvuUNJ3frw92bhr8/STSF0JdRPMLpUCgnsgo9S76PZ246ZFk1wWvK5m3vVoYvW1Sz7nN91jfXbQ1ZQc7TW6HeaoOalypG/8/p/rP1aNAc6ZHzSnfdqPUPhdy2PQw6Nz9gSVhuhiqueUHR3uu7y7K3rdDX4u46ZrPbUa0IFBZ0seKQ3XQTRt2vm3W/a2DbNKys++rvm3ep6+y1x2UdP3bWU9lzra47U1GmlctX/sQ23t+aOlByLTh/4NAPaCRxtcdO5HLSJ/6vNtCwGx67VPmPbvWd1q9frKHtp4kAqRJ2HR9j762JfX3bZ//elPtj13PPDx1+D5tqk/Xi6NO8SHz7MmH19dXrdBNfVFP6T2PT1UHNit87/t4m5+aRH+nQBdvqyhZDKJLfZs8h7XPsqdV2ZOV+tanKB8aln0dyxdAXbV4j4gvt4oMOrbP6vbU73NW7TMlbdTnPrWpfqXfh9HKZ9vke7KuTeZRNtXRSe6+1FV//ce/ln5eXfsXgcqXzr6+9261M3moOoa7E6nvTZTfy7iNsmfb7kjfgXGsvxe0vihsEts9HTquPpt1q1vtahu2TqAiUAEEKj0zhwoARqgAu/OnX/442WH+9xc/Wvr58re/Tr7f41/+ZsRqhAoACFQAEKgAcHjMoQJskJsz/eqrr5Z+vvr7v5fmQFevAl5lztQIFQAQqAAgUAHgIJlDBdhgdQ41N2eKESoAIFABQKACwFEwhwoARqgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAEKgAgUAFAoAKAQAUAgQoACFQAEKgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAQqAAgUAFAoAKAQAUAlvwPcFDns1DsH4sAAAAASUVORK5CYII=';\n   /* tslint:enable:max-line-length */\n   public logoWidth = 468;\n   public logoHeight = 118;\n   public backgroundColor = '#176BAA';\n\n   protected _imageElement: HTMLImageElement;\n   protected get _image() {\n      if (!this._imageElement) {\n         this._imageElement = new Image();\n         this._imageElement.src = this.logo;\n      }\n\n      return this._imageElement;\n   };\n\n   /**\n    * @param loadables  Optionally provide the list of resources you want to load at constructor time\n    */\n   constructor(loadables?: ILoadable[]) {\n      super();\n\n      if (loadables) {\n         this.addResources(loadables);\n      }\n   }\n\n   public wireEngine(engine: Engine) {\n      this._engine = engine;\n   }\n\n   /**\n    * Add a resource to the loader to load\n    * @param loadable  Resource to add\n    */\n   public addResource(loadable: ILoadable) {\n      var key = this._index++;\n      this._resourceList.push(loadable);\n      this._progressCounts[key] = 0;\n      this._totalCounts[key] = 1;\n      this._resourceCount++;\n   }\n\n   /**\n    * Add a list of resources to the loader to load\n    * @param loadables  The list of resources to load\n    */\n   public addResources(loadables: ILoadable[]) {\n      var i = 0, len = loadables.length;\n\n      for (i; i < len; i++) {\n         this.addResource(loadables[i]);\n      }\n   }\n\n   /**\n    * Returns true if the loader has completely loaded all resources\n    */\n   public isLoaded() {\n      return this._numLoaded === this._resourceCount;\n   }\n\n\n   /**\n    * Begin loading all of the supplied resources, returning a promise \n    * that resolves when loading of all is complete\n    */\n   public load(): Promise<any> {\n      var complete = new Promise<any>();\n      var me = this;\n      if (this._resourceList.length === 0) {\n         me.oncomplete.call(me);\n         return complete.resolve();\n      }\n\n      var progressArray = new Array<any>(this._resourceList.length);\n      var progressChunks = this._resourceList.length;\n\n      this._resourceList.forEach((r, i) => {\n         if (this._engine) {\n            r.wireEngine(this._engine);\n         }\n         r.onprogress = function (e) {\n            var total = <number>e.total;\n            var loaded = <number>e.loaded;\n            progressArray[i] = { loaded: ((loaded / total) * (100 / progressChunks)), total: 100 };\n\n            var progressResult: any = progressArray.reduce(function (accum, next) {\n               return { loaded: (accum.loaded + next.loaded), total: 100 };\n            }, { loaded: 0, total: 100 });\n\n            me.onprogress.call(me, progressResult);\n         };\n         r.oncomplete = r.onerror = function () {\n            me._numLoaded++;\n            if (me._numLoaded === me._resourceCount) {\n               me.oncomplete.call(me);\n               complete.resolve();\n            }\n         };\n      });\n\n      function loadNext(list: ILoadable[], index: number) {\n         if (!list[index]) {\n            return;\n         }\n         list[index].load().then(function () {\n            loadNext(list, index + 1);\n         });\n      }\n      loadNext(this._resourceList, 0);\n\n      return complete;\n   }\n\n   /**\n    * Loader draw function. Draws the default Excalibur loading screen. \n    * Override `logo`, `logoWidth`, `logoHeight` and `backgroundColor` properties\n    * to customize the drawing, or just override entire method.\n    */\n   public draw(ctx: CanvasRenderingContext2D) {\n      let canvasHeight = this._engine.canvasHeight / window.devicePixelRatio;\n      let canvasWidth = this._engine.canvasWidth / window.devicePixelRatio;\n\n      ctx.fillStyle = this.backgroundColor;\n      ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n\n      var y = canvasHeight / 2;\n      var width = Math.min(this.logoWidth, canvasWidth * 0.75);\n      var x = (canvasWidth / 2) - (width / 2);\n\n      var imageHeight = Math.floor(width * (this.logoHeight / this.logoWidth)); // OG height/width factor\n      var oldAntialias = this._engine.getAntialiasing();\n      this._engine.setAntialiasing(true);\n      ctx.drawImage(this._image, 0, 0, this.logoWidth, this.logoHeight, x, y - imageHeight - 20, width, imageHeight);\n\n      // loading box\n      ctx.lineWidth = 2;\n      DrawUtil.roundRect(ctx, x, y, width, 20, 10);\n\n      var progress = width * (this._numLoaded / this._resourceCount);\n      var margin = 5;\n      var progressWidth = progress - margin * 2;\n      var height = 20 - margin * 2;\n      DrawUtil.roundRect(ctx, x + margin, y + margin, progressWidth > 0 ? progressWidth : 0, height, 5, null, Color.White);\n      this._engine.setAntialiasing(oldAntialias);\n   }\n\n   /**\n    * Perform any calculations or logic in the `update` method. The default `Loader` does not\n    * do anything in this method so it is safe to override.\n    */\n   public update(_engine: Engine, _delta: number) {\n      // overridable update\n   }\n\n   public getData: () => any = () => { return; };\n\n   public setData: (data: any) => any = () => { return; };\n\n   public processData: (data: any) => any = () => { return; };\n\n   public onprogress: (e: any) => void = (e: any) => {\n\n      Logger.getInstance().debug('[ex.Loader] Loading ' + (100 * e.loaded / e.total).toFixed(0));\n\n      return;\n   };\n\n   public oncomplete: () => void = () => { return; };\n\n   public onerror: () => void = () => { return; };\n\n}\n\n/**\n * A [[Loader]] that pauses after loading to allow user\n * to proceed to play the game. Typically you will\n * want to use this loader for iOS to allow sounds\n * to play after loading (Apple Safari requires user\n * interaction to allow sounds, even for games)\n *\n * **Note:** Because Loader is not part of a Scene, you must\n * call `update` and `draw` manually on \"child\" objects.\n *\n * ## Implementing a Trigger\n * \n * The `PauseAfterLoader` requires an element to act as the trigger button\n * to start the game.\n *\n * For example, let's create an `<a>` tag to be our trigger and call it `tap-to-play`.\n *\n * ```html\n * <div id=\"wrapper\">\n *    <canvas id=\"game\"></canvas>\n *    <a id=\"tap-to-play\" href='javascript:void(0);'>Tap to Play</a>\n * </div>\n * ```\n *\n * We've put it inside a wrapper to position it properly over the game canvas.\n *\n * Now let's add some CSS to style it (insert into `<head>`):\n *\n * ```html\n * <style>\n *     #wrapper {\n *         position: relative;\n *         width: 500px;\n *         height: 500px;\n *     }\n *     #tap-to-play {\n *         display: none;\n *         font-size: 24px;\n *         font-family: sans-serif;\n *         text-align: center;\n *         border: 3px solid white;\n *         position: absolute;\n *         color: white;\n *         width: 200px;\n *         height: 50px;\n *         line-height: 50px;\n *         text-decoration: none;\n *         left: 147px;\n *         top: 80%;\n *     }\n * </style>\n * ```\n *\n * Now we can create a `PauseAfterLoader` with a reference to our trigger button:\n *\n * ```ts\n * var loader = new ex.PauseAfterLoader('tap-to-play', [...]);\n * ```\n *\n * ## Use PauseAfterLoader for iOS\n *\n * The primary use case for pausing before starting the game is to\n * pass Apple's requirement of user interaction. The Web Audio context\n * in Safari is disabled by default until user interaction.\n *\n * Therefore, you can use this snippet to only use PauseAfterLoader when\n * iOS is detected (see [this thread](http://stackoverflow.com/questions/9038625/detect-if-device-is-ios) \n * for more techniques).\n *\n * ```ts\n * var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !(<any>window).MSStream;\n * var loader: ex.Loader = iOS ? new ex.PauseAfterLoader('tap-to-play') : new ex.Loader();\n *\n * loader.addResource(...);\n * ```\n */\nexport class PauseAfterLoader extends Loader {\n\n   private _loadedValue: any;\n   private _waitPromise: Promise<any>;\n   private _playTrigger: HTMLElement;\n\n   constructor(triggerElementId: string, loadables?: ILoadable[]) {\n      super(loadables);\n\n      this._playTrigger = document.getElementById(triggerElementId);\n      this._playTrigger.addEventListener('click', this._handleOnTrigger);\n   }\n\n   public load(): Promise<any> {\n      this._waitPromise = new Promise<any>();\n\n      // wait until user indicates to proceed before finishing load\n      super.load().then((value?) => {\n         this._loadedValue = value;\n\n         // show element\n         this._playTrigger.style.display = 'block';\n\n      }, (value?) => {\n         this._waitPromise.reject(value);\n      });\n\n      return this._waitPromise;\n   }\n\n   private _handleOnTrigger = () => {\n\n      if (this._waitPromise.state() !== PromiseState.Pending) {\n         return false;\n      }\n\n      // unlock Safari WebAudio context\n      WebAudio.unlock();\n\n      // continue to play game\n      this._waitPromise.resolve(this._loadedValue);\n\n      // hide DOM element\n      this._playTrigger.style.display = 'none';\n\n      return false;\n   };\n}  ","import { Engine } from './Engine';\nimport { Actor, CollisionType } from './Actor';\nimport { Sprite } from './Drawing/Sprite';\nimport { Color } from './Drawing/Color';\nimport { Vector } from './Algebra';\nimport * as Util from './Util/Util';\nimport * as DrawUtil from './Util/DrawUtil';\nimport * as Traits from './Traits/Index';\nimport { Configurable } from './Configurable';\nimport { Random } from './Math/Random';\n\n/**\n * An enum that represents the types of emitter nozzles\n */\nexport enum EmitterType {\n   /**\n    * Constant for the circular emitter type\n    */\n   Circle,\n   /**\n    * Constant for the rectangular emitter type\n    */\n   Rectangle\n}\n\n/**\n * @hidden\n */\nexport class ParticleImpl {\n   public position: Vector = new Vector(0, 0);\n   public velocity: Vector = new Vector(0, 0);\n   public acceleration: Vector = new Vector(0, 0);\n   public particleRotationalVelocity: number = 0;\n   public currentRotation: number = 0;\n\n   public focus: Vector = null;\n   public focusAccel: number = 0;\n   public opacity: number = 1;\n   public beginColor: Color = Color.White.clone();\n   public endColor: Color = Color.White.clone();\n\n   // Life is counted in ms\n   public life: number = 300;\n   public fadeFlag: boolean = false;\n\n   // Color transitions\n   private _rRate: number = 1;\n   private _gRate: number = 1;\n   private _bRate: number = 1;\n   private _aRate: number = 0;\n   private _currentColor: Color = Color.White.clone();\n\n\n   public emitter: ParticleEmitter = null;\n   public particleSize: number = 5;\n   public particleSprite: Sprite = null;\n\n   public startSize: number;\n   public endSize: number;\n   public sizeRate: number = 0;\n   public elapsedMultiplier: number = 0;\n\n   constructor(emitterOrConfig: ParticleEmitter | IParticleArgs,\n      life?: number,\n      opacity?: number,\n      beginColor?: Color,\n      endColor?: Color,\n      position?: Vector,\n      velocity?: Vector,\n      acceleration?: Vector,\n      startSize?: number,\n      endSize?: number) {\n         var emitter = emitterOrConfig;\n         if (emitter && ! (emitterOrConfig instanceof ParticleEmitter)) {\n            var  config = emitterOrConfig;\n            emitter = config.emitter;\n            life = config.life;\n            opacity = config.opacity;\n            endColor = config.endColor;\n            beginColor = config.beginColor;\n            position = config.position;\n            velocity = config.velocity;\n            acceleration = config.acceleration;\n            startSize = config.startSize;\n            endSize = config.endSize;\n\n         }\n      this.emitter = <ParticleEmitter> emitter;\n      this.life = life || this.life;\n      this.opacity = opacity || this.opacity;\n      this.endColor = endColor || this.endColor.clone();\n      this.beginColor = beginColor || this.beginColor.clone();\n      this._currentColor = this.beginColor.clone();\n      this.position = position || this.position;\n      this.velocity = velocity || this.velocity;\n      this.acceleration = acceleration || this.acceleration;\n      this._rRate = (this.endColor.r - this.beginColor.r) / this.life;\n      this._gRate = (this.endColor.g - this.beginColor.g) / this.life;\n      this._bRate = (this.endColor.b - this.beginColor.b) / this.life;\n      this._aRate = this.opacity / this.life;\n\n      this.startSize = startSize || 0;\n      this.endSize = endSize || 0;\n\n      if ((this.endSize > 0) && (this.startSize > 0)) {\n         this.sizeRate = (this.endSize - this.startSize) / this.life;\n         this.particleSize = this.startSize;\n      }\n   }\n\n   public kill() {\n      this.emitter.removeParticle(this);\n   }\n\n   public update(delta: number) {\n      this.life = this.life - delta;\n      this.elapsedMultiplier = this.elapsedMultiplier + delta;\n\n      if (this.life < 0) {\n         this.kill();\n      }\n\n      if (this.fadeFlag) {\n         this.opacity = Util.clamp(this._aRate * this.life, 0.0001, 1);\n      }\n\n      if ((this.startSize > 0) && (this.endSize > 0)) {\n         this.particleSize = Util.clamp(this.sizeRate * delta + this.particleSize,\n            Math.min(this.startSize, this.endSize), Math.max(this.startSize, this.endSize));\n      }\n\n      this._currentColor.r = Util.clamp(this._currentColor.r + this._rRate * delta, 0, 255);\n      this._currentColor.g = Util.clamp(this._currentColor.g + this._gRate * delta, 0, 255);\n      this._currentColor.b = Util.clamp(this._currentColor.b + this._bRate * delta, 0, 255);\n      this._currentColor.a = Util.clamp(this.opacity, 0.0001, 1);\n\n      if (this.focus) {\n         var accel = this.focus.sub(this.position).normalize().scale(this.focusAccel).scale(delta / 1000);\n         this.velocity = this.velocity.add(accel);\n      } else {\n         this.velocity = this.velocity.add(this.acceleration.scale(delta / 1000));\n      }\n      this.position = this.position.add(this.velocity.scale(delta / 1000));\n\n      if (this.particleRotationalVelocity) {\n         this.currentRotation = (this.currentRotation + this.particleRotationalVelocity * delta / 1000) % (2 * Math.PI);\n      }\n   }\n\n   public draw(ctx: CanvasRenderingContext2D) {\n\n      if (this.particleSprite) {\n         this.particleSprite.rotation = this.currentRotation;\n         this.particleSprite.scale.setTo(this.particleSize, this.particleSize);\n         this.particleSprite.draw(ctx, this.position.x, this.position.y);\n         return;\n      }\n\n      this._currentColor.a = Util.clamp(this.opacity, 0.0001, 1);\n      ctx.fillStyle = this._currentColor.toString();\n      ctx.beginPath();\n      ctx.arc(this.position.x, this.position.y, this.particleSize, 0, Math.PI * 2);\n      ctx.fill();\n      ctx.closePath();\n\n   }\n}\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface IParticleArgs extends Partial<ParticleImpl> {\n   emitter: ParticleEmitter;\n   position?: Vector;\n   velocity?: Vector;\n   acceleration?: Vector;\n   particleRotationalVelocity?: number;\n   currentRotation?: number;\n   particleSize?: number;\n   particleSprite?: Sprite;\n} \n\n/**\n * Particle is used in a [[ParticleEmitter]]\n */\nexport class Particle extends Configurable(ParticleImpl) {\n   constructor(config: IParticleArgs);\n   constructor(emitter: ParticleEmitter,\n      life?: number,\n      opacity?: number,\n      beginColor?: Color,\n      endColor?: Color,\n      position?: Vector,\n      velocity?: Vector,\n      acceleration?: Vector,\n      startSize?: number,\n      endSize?: number);\n   constructor(emitterOrConfig: ParticleEmitter | IParticleArgs,\n      life?: number,\n      opacity?: number,\n      beginColor?: Color,\n      endColor?: Color,\n      position?: Vector,\n      velocity?: Vector,\n      acceleration?: Vector,\n      startSize?: number,\n      endSize?: number) {\n         super(emitterOrConfig, life, opacity, beginColor, endColor, position, velocity, acceleration, startSize, endSize);\n      }\n}\n\n/**\n * @hidden\n */\nexport class ParticleEmitterImpl extends Actor {\n\n   private _particlesToEmit: number;\n\n   public numParticles: number = 0;\n\n   /**\n    * Random number generator\n    */\n   public random: Random;\n\n   /**\n    * Gets or sets the isEmitting flag\n    */\n   public isEmitting: boolean = true;\n   /**\n    * Gets or sets the backing particle collection\n    */\n   public particles: Util.Collection<Particle> = null;\n\n   /**\n    * Gets or sets the backing deadParticle collection\n    */\n   public deadParticles: Util.Collection<Particle> = null;\n\n   /**\n    * Gets or sets the minimum particle velocity\n    */\n   public minVel: number = 0;\n   /**\n    * Gets or sets the maximum particle velocity\n    */\n   public maxVel: number = 0;\n\n   /**\n    * Gets or sets the acceleration vector for all particles\n    */\n   public acceleration: Vector = new Vector(0, 0);\n\n   /**\n    * Gets or sets the minimum angle in radians\n    */\n   public minAngle: number = 0;\n   /**\n    * Gets or sets the maximum angle in radians\n    */\n   public maxAngle: number = 0;\n\n   /**\n    * Gets or sets the emission rate for particles (particles/sec)\n    */\n   public emitRate: number = 1; //particles/sec\n   /**\n    * Gets or sets the life of each particle in milliseconds\n    */\n   public particleLife: number = 2000;\n   /**\n    * Gets or sets the opacity of each particle from 0 to 1.0\n    */\n   public opacity: number = 1;\n   /**\n    * Gets or sets the fade flag which causes particles to gradually fade out over the course of their life.\n    */\n   public fadeFlag: boolean = false;\n\n   /**\n    * Gets or sets the optional focus where all particles should accelerate towards\n    */\n   public focus: Vector = null;\n   /**\n    * Gets or sets the acceleration for focusing particles if a focus has been specified\n    */\n   public focusAccel: number = 1;\n   /*\n    * Gets or sets the optional starting size for the particles\n    */\n   public startSize: number = null;\n   /*\n    * Gets or sets the optional ending size for the particles\n    */\n   public endSize: number = null;\n\n   /**\n    * Gets or sets the minimum size of all particles\n    */\n   public minSize: number = 5;\n   /**\n    * Gets or sets the maximum size of all particles\n    */\n   public maxSize: number = 5;\n\n   /**\n    * Gets or sets the beginning color of all particles\n    */\n   public beginColor: Color = Color.White.clone();\n   /**\n    * Gets or sets the ending color of all particles\n    */\n   public endColor: Color = Color.White.clone();\n\n   /**\n    * Gets or sets the sprite that a particle should use\n    * @warning Performance intensive\n    */\n   public particleSprite: Sprite = null;\n\n   /**\n    * Gets or sets the emitter type for the particle emitter\n    */\n   public emitterType: EmitterType = EmitterType.Rectangle;\n\n   /**\n    * Gets or sets the emitter radius, only takes effect when the [[emitterType]] is [[EmitterType.Circle]]\n    */\n   public radius: number = 0;\n\n   /**\n    * Gets or sets the particle rotational speed velocity \n    */\n   public particleRotationalVelocity: number = 0;\n\n   /**\n    * Indicates whether particles should start with a random rotation\n    */\n   public randomRotation: boolean = false;\n\n   /**\n    * @param x       The x position of the emitter\n    * @param y       The y position of the emitter\n    * @param width   The width of the emitter\n    * @param height  The height of the emitter\n    */\n   constructor(xOrConfig?: number | IParticleEmitterArgs, y?: number, width?: number, height?: number) {\n      super(typeof xOrConfig === 'number' ? { x: xOrConfig, y: y, width: width, height: height } : xOrConfig);\n      this._particlesToEmit = 0;\n      this.collisionType = CollisionType.PreventCollision;\n      this.particles = new Util.Collection<Particle>();\n      this.deadParticles = new Util.Collection<Particle>();\n      this.random = new Random();\n\n      // Remove offscreen culling from particle emitters\n      for (let i = 0; i < this.traits.length; i++) {\n         if (this.traits[i] instanceof Traits.OffscreenCulling) {\n            this.traits.splice(i, 1);\n         }\n      }\n\n   }\n\n   public removeParticle(particle: Particle) {\n      this.deadParticles.push(particle);\n   }\n\n   /**\n    * Causes the emitter to emit particles\n    * @param particleCount  Number of particles to emit right now\n    */\n   public emitParticles(particleCount: number) {\n      for (var i = 0; i < particleCount; i++) {\n         this.particles.push(this._createParticle());\n      }\n   }\n\n   public clearParticles() {\n      this.particles.clear();\n   }\n\n   // Creates a new particle given the constraints of the emitter\n   private _createParticle(): Particle {\n      // todo implement emitter constraints;\n      var ranX = 0;\n      var ranY = 0;\n\n      var angle = Util.randomInRange(this.minAngle, this.maxAngle, this.random);\n      var vel = Util.randomInRange(this.minVel, this.maxVel, this.random);\n      var size = this.startSize || Util.randomInRange(this.minSize, this.maxSize, this.random);\n      var dx = vel * Math.cos(angle);\n      var dy = vel * Math.sin(angle);\n\n      if (this.emitterType === EmitterType.Rectangle) {\n         ranX = Util.randomInRange(this.pos.x, this.pos.x + this.getWidth(), this.random);\n         ranY = Util.randomInRange(this.pos.y, this.pos.y + this.getHeight(), this.random);\n      } else if (this.emitterType === EmitterType.Circle) {\n         var radius = Util.randomInRange(0, this.radius, this.random);\n         ranX = radius * Math.cos(angle) + this.pos.x;\n         ranY = radius * Math.sin(angle) + this.pos.y;\n      }\n\n      var p = new Particle(this,\n         this.particleLife,\n         this.opacity,\n         this.beginColor,\n         this.endColor,\n         new Vector(ranX, ranY),\n         new Vector(dx, dy),\n         this.acceleration,\n         this.startSize,\n         this.endSize);\n      p.fadeFlag = this.fadeFlag;\n      p.particleSize = size;\n      if (this.particleSprite) {\n         p.particleSprite = this.particleSprite;\n      }\n      p.particleRotationalVelocity = this.particleRotationalVelocity;\n      if (this.randomRotation) {\n         p.currentRotation = Util.randomInRange(0, Math.PI * 2, this.random);\n      }\n      if (this.focus) {\n         p.focus = this.focus.add(new Vector(this.pos.x, this.pos.y));\n         p.focusAccel = this.focusAccel;\n      }\n      return p;\n   }\n\n   public update(engine: Engine, delta: number) {\n      super.update(engine, delta);\n\n      if (this.isEmitting) {\n         this._particlesToEmit += this.emitRate * (delta / 1000);\n         //var numParticles = Math.ceil(this.emitRate * delta / 1000);\n         if (this._particlesToEmit > 1.0) {\n            this.emitParticles(Math.floor(this._particlesToEmit));\n            this._particlesToEmit = this._particlesToEmit - Math.floor(this._particlesToEmit);\n         }\n      }\n\n      this.particles.forEach(p => p.update(delta));\n      this.deadParticles.forEach(p => this.particles.removeElement(p));\n      this.deadParticles.clear();\n   }\n\n   public draw(ctx: CanvasRenderingContext2D) {\n\n      // todo is there a more efficient to draw \n      // possibly use a webgl offscreen canvas and shaders to do particles?\n      this.particles.forEach(p => p.draw(ctx));\n   }\n\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      super.debugDraw(ctx);\n      ctx.fillStyle = Color.Black.toString();\n      ctx.fillText('Particles: ' + this.particles.count(), this.pos.x, this.pos.y + 20);\n\n      if (this.focus) {\n         ctx.fillRect(this.focus.x + this.pos.x, this.focus.y + this.pos.y, 3, 3);\n         DrawUtil.line(ctx, Color.Yellow,\n            this.focus.x + this.pos.x,\n            this.focus.y + this.pos.y,\n            super.getCenter().x,\n            super.getCenter().y);\n         ctx.fillText('Focus', this.focus.x + this.pos.x, this.focus.y + this.pos.y);\n      }\n   }\n\n}\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface IParticleEmitterArgs extends Partial<ParticleEmitterImpl> {\n   width?: number;\n   height?: number;\n   isEmitting?: boolean;\n   minVel?: number;\n   maxVel?: number;\n   acceleration?: Vector;\n   minAngle?: number;\n   maxAngle?: number;\n   emitRate?: number;\n   particleLife?: number;\n   opacity?: number;\n   fadeFlag?: boolean;\n   focus?: Vector;\n   focusAccel?: number;\n   startSize?: number;\n   endSize?: number;\n   minSize?: number;\n   maxSize?: number;\n   beginColor?: Color;\n   endColor?: Color;\n   particleSprite?: Sprite;\n   emitterType?: EmitterType;\n   radius?: number;\n   particleRotationalVelocity?: number;\n   randomRotation?: boolean;\n   random?: Random;\n}\n\n/**\n * Using a particle emitter is a great way to create interesting effects \n * in your game, like smoke, fire, water, explosions, etc. `ParticleEmitter`\n * extend [[Actor]] allowing you to use all of the features that come with.\n *\n * [[include:Particles.md]]\n */\nexport class ParticleEmitter extends Configurable(ParticleEmitterImpl) {\n   constructor(config?: IParticleEmitterArgs);\n   constructor(x?: number | IParticleEmitterArgs, y?: number, width?: number, height?: number);\n   constructor(xOrConfig?: number | IParticleEmitterArgs, y?: number, width?: number, height?: number) {\n      super(xOrConfig, y, width, height);\n   }\n}","export * from './ActionContext';\nexport * from './IActionable';\nexport * from './RotationType';\n\nimport * as actions from './Action';\nexport { actions as Actions };\n// legacy Internal.Actions namespace support\nexport var Internal = { Actions: actions };","import { Physics } from './../Physics';\nimport { CollisionContact } from './CollisionContact';\nimport { Pair } from './Pair';\nimport { Actor, CollisionType } from './../Actor';\nimport { ICollisionBroadphase } from './ICollisionResolver';\nimport { CollisionStartEvent, CollisionEndEvent } from '../Events';\n\nexport class NaiveCollisionBroadphase implements ICollisionBroadphase {\n\n   private _lastFramePairs: Pair[] = [];\n   private _lastFramePairsHash: { [pairId: string]: Pair; } = {};\n\n   public track() {\n      // pass\n   }\n\n   public untrack() {\n      // pass\n   }\n\n   /**\n    * Detects potential collision pairs in a broadphase approach with the dynamic aabb tree strategy\n    */\n   public broadphase(targets: Actor[]): Pair[] {\n\n      // Retrieve the list of potential colliders, exclude killed, prevented, and self\n      var potentialColliders = targets.filter((other) => {\n         return !other.isKilled() && other.collisionType !== CollisionType.PreventCollision;\n      });\n\n      var actor1: Actor;\n      var actor2: Actor;\n      var collisionPairs: Pair[] = [];\n\n      for (var j = 0, l = potentialColliders.length; j < l; j++) {\n\n         actor1 = potentialColliders[j];\n\n         for (var i = j + 1; i < l; i++) {\n\n            actor2 = potentialColliders[i];\n\n            var minimumTranslationVector;\n            if (minimumTranslationVector = actor1.collides(actor2)) {\n               var pair = new Pair(actor1.body, actor2.body);\n               pair.collision = new CollisionContact(actor1.collisionArea,\n                  actor2.collisionArea,\n                  minimumTranslationVector,\n                  actor1.pos,\n                  minimumTranslationVector);\n               if (!collisionPairs.some((cp) => {\n                  return cp.id === pair.id;\n               })) {\n                  collisionPairs.push(pair);\n               }\n            }\n         }\n\n      }\n      return collisionPairs;\n   }\n\n   /**\n    * Identify actual collisions from those pairs, and calculate collision impulse\n    */\n   public narrowphase(pairs: Pair[]): Pair[] {\n      return pairs;\n   }\n\n   public runCollisionStartEnd(pairs: Pair[]) {\n      let currentFrameHash: { [pairId: string]: Pair; } = {};\n\n      \n      for (let p of pairs) {\n         // load currentFrameHash\n         currentFrameHash[p.id] = p;\n\n         // find all new collisions\n         if (!this._lastFramePairsHash[p.id]) {\n            let actor1 = p.bodyA.actor;\n            let actor2 = p.bodyB.actor;\n            actor1.emit('collisionstart', new CollisionStartEvent(actor1, actor2, p));\n            actor2.emit('collisionstart', new CollisionStartEvent(actor2, actor1, p));\n         }\n      }\n\n      // find all old collisions\n      for (let p of this._lastFramePairs) {\n         if (!currentFrameHash[p.id]) {\n            let actor1 = p.bodyA.actor;\n            let actor2 = p.bodyB.actor;\n            actor1.emit('collisionend', new CollisionEndEvent(actor1, actor2));\n            actor2.emit('collisionend', new CollisionEndEvent(actor2, actor1));\n         }\n      }\n\n      // reset the last frame cache\n      this._lastFramePairs = pairs;\n      this._lastFramePairsHash = currentFrameHash;\n   }\n\n   /**\n    * Resolve the position and velocity of the physics bodies\n    */\n   public resolve(pairs: Pair[]): Pair[] {\n      for (var pair of pairs) {\n         pair.resolve(Physics.collisionResolutionStrategy);\n      }\n\n      return pairs.filter(p => p.canCollide);\n   }\n\n   public update(): number {\n      return 0;\n   }\n\n   public debugDraw() {\n      return;\n   }\n}","export * from './Body';\nexport * from './BoundingBox';\nexport * from './CircleArea';\nexport * from './CollisionContact';\nexport * from './CollisionJumpTable';\nexport * from './DynamicTree';\nexport * from './DynamicTreeCollisionBroadphase';\nexport * from './EdgeArea';\nexport * from './ICollisionArea';\nexport * from './ICollisionResolver';\nexport * from './IPhysics';\nexport * from './NaiveCollisionBroadphase';\nexport * from './Pair';\nexport * from './PolygonArea';\nexport * from './Side';","import { Color } from './Color';\nimport * as Effects from './SpriteEffects';\n\nimport { IDrawable } from '../Interfaces/IDrawable';\nimport { Vector } from '../Algebra';\n\n/**\n * Creates a closed polygon drawing given a list of [[Vector]]s.\n *\n * @warning Use sparingly as Polygons are performance intensive\n */\nexport class Polygon implements IDrawable {\n   public flipVertical: boolean;\n   public flipHorizontal: boolean;\n   public drawWidth: number;\n   public drawHeight: number;\n   \n   public width: number;\n   public height: number;\n\n   /**\n    * The color to use for the lines of the polygon\n    */\n   public lineColor: Color;\n   /**\n    * The color to use for the interior of the polygon\n    */\n   public fillColor: Color;\n   /**\n    * The width of the lines of the polygon\n    */\n   public lineWidth: number = 5;\n   /**\n    * Indicates whether the polygon is filled or not.\n    */\n   public filled: boolean = false;\n   \n   private _points: Vector[] = [];\n   public anchor = new Vector(0, 0);\n   public rotation: number = 0;\n   public scale = new Vector(1, 1);\n\n   /**\n    * @param points  The vectors to use to build the polygon in order\n    */\n   constructor(points: Vector[]) {\n      this._points = points;\n\n      var minX = this._points.reduce((prev: number, curr: Vector) => {\n         return Math.min(prev, curr.x);\n      }, 0);\n      var maxX = this._points.reduce((prev: number, curr: Vector) => {\n         return Math.max(prev, curr.x);\n      }, 0);\n\n      this.drawWidth = maxX - minX;\n\n      var minY = this._points.reduce((prev: number, curr: Vector) => {\n         return Math.min(prev, curr.y);\n      }, 0);\n      var maxY = this._points.reduce((prev: number, curr: Vector) => {\n         return Math.max(prev, curr.y);\n      }, 0);\n\n      this.drawHeight = maxY - minY;\n      \n      this.height = this.drawHeight;\n      this.width = this.drawWidth;\n   }\n\n   /**\n    * @notimplemented Effects are not supported on `Polygon`\n    */\n   public addEffect() {\n      // not supported on polygons\n   }\n   /**\n    * @notimplemented Effects are not supported on `Polygon`\n    */\n   public removeEffect(index: number): void;\n   /**\n    * @notimplemented Effects are not supported on `Polygon`\n    */\n   public removeEffect(effect: Effects.ISpriteEffect): void;\n   /**\n    * @notimplemented Effects are not supported on `Polygon`\n    */\n   public removeEffect() {\n      // not supported on polygons\n   }\n\n   /**\n    * @notimplemented Effects are not supported on `Polygon`\n    */\n   public clearEffects() {\n      // not supported on polygons\n   }\n   \n   public reset() {\n      //pass\n   }\n\n   public draw(ctx: CanvasRenderingContext2D, x: number, y: number) {\n      ctx.save();\n      ctx.translate(x + this.anchor.x, y + this.anchor.y);\n      ctx.scale(this.scale.x, this.scale.y);\n      ctx.rotate(this.rotation);\n      ctx.beginPath();\n      ctx.lineWidth = this.lineWidth;\n\n      // Iterate through the supplied points and construct a 'polygon'\n      var firstPoint = this._points[0];\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n\n      var i = 0, len = this._points.length;\n\n      for (i; i < len; i++) {\n         ctx.lineTo(this._points[i].x, this._points[i].y);\n      }\n\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n      ctx.closePath();\n\n      if (this.filled) {\n         ctx.fillStyle = this.fillColor.toString();\n         ctx.fill();\n      }\n\n      ctx.strokeStyle = this.lineColor.toString();\n\n      if (this.flipHorizontal) {\n         ctx.translate(this.drawWidth, 0);\n         ctx.scale(-1, 1);\n      }\n\n      if (this.flipVertical) {\n         ctx.translate(0, this.drawHeight);\n         ctx.scale(1, -1);\n      }\n\n      ctx.stroke();\n      ctx.restore();\n   }\n}","export { Animation, IAnimationArgs } from './Animation';\nexport * from './Color';\nexport * from './Polygon';\nexport { Sprite, ISpriteArgs }from './Sprite';\nexport {SpriteSheet, SpriteFont, ISpriteSheetArgs, ISpriteFontInitArgs, ISpriteFontOptions } from './SpriteSheet';\n\nimport * as effects from './SpriteEffects';\nexport { effects as Effects }","import { Random } from 'Random';\nimport { Color } from '../Drawing/Color';\nimport * as Util from '../Util/Util';\n\nfunction _lerp(time: number, a: number, b: number): number {\n   return a + time * (b - a);\n}\n\nfunction _fade(t: number): number {\n   return t * t * t * (t * (t * 6 - 15) + 10);\n}\n\n/**\n * Options for the perlin noise generator\n */\nexport interface IPerlinGeneratorOptions {\n   /**\n    * Random number seed for the Perlin noise generator\n    */\n   seed?: number;\n   /**\n    * Number of octaves to use when generating the noise, the number of octaves is the number of times the perlin\n    * noise is generated and laid on top of itself. Using higher values can increase the curviness of the noise, and \n    * make it look more natural.\n    */\n   octaves?: number;\n   /**\n    * Frequency to use when generating the noise, the higher the number the more quickly the pattern will oscilate. Another way\n    * to think about this is that it is like \"zooming\" out from an infinite pattern determined by the seed.\n    */\n   frequency?: number;\n   /**\n    * The amplitude determines the relative height of the peaks generated in the noise.\n    */\n   amplitude?: number;\n   /**\n    * The persistance determines how quickly the amplitude will drop off, a high degree of persistance results in smoother patterns,\n    * a low degree of persistance generates spikey patterns.\n    */\n   persistance?: number;\n}\n\n/**\n * Generates perlin noise based on the 2002 Siggraph paper http://mrl.nyu.edu/~perlin/noise/ \n * Also https://flafla2.github.io/2014/08/09/perlinnoise.html \n */\nexport class PerlinGenerator {\n\n   private _perm: number[] = [151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, \n    140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190,  6, 148, 247, 120, 234, 75, 0, 26, \n    197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87, 174, 20, 125, 136,\n    171, 168,  68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60,\n    211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54,  65, 25, 63, 161,  1, 216, 80,\n    73, 209, 76, 132, 187, 208,  89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198,\n    173, 186,  3, 64, 52, 217, 226, 250, 124, 123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206,\n    59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248, 152,  2, 44, 154, 163,  70,\n    221, 153, 101, 155, 167,  43, 172, 9, 129, 22, 39, 253,  19, 98, 108, 110, 79, 113, 224, 232, 178, \n    185,  112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241,  81, \n    51, 145, 235, 249, 14, 239, 107, 49, 192, 214,  31, 181, 199, 106, 157, 184,  84, 204, 176, 115,\n    121, 50, 45, 127,  4, 150, 254, 138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, \n    78, 66, 215, 61, 156, 180]; \n   private _p: Uint8Array = new Uint8Array(512);\n   private _random: Random;\n\n   private _defaultPerlinOptions: IPerlinGeneratorOptions = {\n      octaves: 1,\n      frequency: 1,\n      amplitude: 1,\n      persistance: .5\n   };\n\n   /**\n    * The persistance determines how quickly the amplitude will drop off, a high degree of persistance results in smoother patterns,\n    * a low degree of persistance generates spikey patterns.\n    */\n   public persistance: number;\n\n   /**\n    * The amplitude determines the relative height of the peaks generated in the noise.\n    */\n   public amplitude: number;\n\n   /**\n    * Frequency to use when generating the noise, the higher the number the more quickly the pattern will oscilate. Another way\n    * to think about this is that it is like \"zooming\" out from an infinite pattern determined by the seed.\n    */\n   public frequency: number;\n   \n   /**\n    * Number of octaves to use when generating the noise, the number of octaves is the number of times the perlin\n    * noise is generated and laid on top of itself. Using higher values can increase the curviness of the noise, and \n    * make it look more natural.\n    */\n   public octaves: number;\n\n\n   constructor(options?: IPerlinGeneratorOptions) {      \n      options = Util.extend({}, this._defaultPerlinOptions, options);\n\n      this.persistance = options.persistance;\n      this.amplitude = options.amplitude;\n      this.frequency = options.frequency;\n      this.octaves = options.octaves;\n\n      if (options.seed) {\n         this._random = new Random(options.seed);\n      } else {\n         this._random = new Random();\n      }\n      \n      this._perm = this._random.shuffle(this._perm);\n\n      for (var i = 0; i < 512; i++) {\n         this._p[i] = this._perm[i % 256] & 0xFF;\n      }      \n   }\n\n   /**\n    * Generates 1-Dimensional perlin noise given an x and generates noises values between [0, 1]. \n    */\n   public noise(x: number): number;\n   /**\n    * Generates 2-Dimensional perlin noise given an (x, y) and generates noise values between [0, 1]\n    */\n   public noise(x: number, y: number): number;\n   /**\n    * Generates 3-Dimensional perlin noise given an (x, y, z) and generates noise values between [0, 1]\n    */\n   public noise(x: number, y: number, z: number): number;\n   public noise(): number {\n      var amp = this.amplitude;\n      var freq = this.frequency;\n\n      var total = 0;\n      var maxValue = 0;\n      for (var i = 0; i < this.octaves; i++) {\n         switch (arguments.length) {\n            case 1: total += this._noise1d(arguments[0] * freq) * amp; break;\n            case 2: total += this._noise2d(arguments[0] * freq, \n                                           arguments[1] * freq) * amp; break;\n            case 3: total += this._noise3d(arguments[0] * freq, \n                                           arguments[1] * freq, \n                                           arguments[2] * freq) * amp; break;\n            /* istanbul ignore next */\n            default: throw new Error('Invalid arguments for perlin noise');\n         }\n         maxValue += amp;\n         amp *= this.persistance;\n         freq *= 2;\n      }\n      return total / maxValue;\n   }\n\n   /**\n    * Generates a list starting at 0 and ending at 1 of contious perlin noise, by default the step is 1/length;\n    *\n    */\n   public sequence(length: number, step?: number): number[] {\n      if (!step) {\n         step = 1 / length;\n      }\n      var array: number[] = new Array(length);\n      for (var i = 0; i < length; i++) {\n         array[i] = this.noise(i * step);\n      }\n      return array;\n   }\n\n   /**\n    * Generates a 2D grid of perlin noise given a step value packed into a 1D array i = (x + y*width), \n    * by default the step will 1/(min(dimension))\n    */\n   public grid(width: number, height: number, step?: number): number[] {\n      if (!step) {\n         step = 1 / (Math.min(width, height));\n      }\n\n      var array: number[] = new Array(width * height);\n\n      for (var y = 0; y < height; y++) {\n         for (var x = 0; x < width; x++) {\n            array[x + y * width] = this.noise(x * step, y * step);\n         }\n      }\n\n      return array;\n   }\n\n   private _gradient3d(hash: number, x: number, y: number, z: number) {\n      var h = hash & 0xF;\n      var u = h < 8 ? x : y;\n      var v = h < 4 ? y : ((h === 12 || h === 14) ? x : z);\n      return ((h & 0b1) === 0 ? u : -u) + ((h & 0b10) === 0 ? v : -v);\n   }\n\n   private _gradient2d(hash: number, x: number, y: number) {\n      var value = (hash & 0b1) === 0 ? x : y;\n      return (hash & 0b10) === 0 ? -value : value;\n   }\n\n   private _gradient1d(hash: number, x: number) {\n      return  (hash & 0b1) === 0 ? -x : x;\n   }\n\n   private _noise1d(x: number) {\n      var intX = Math.floor(x) & 0xFF; // force 0-255 integers to lookup in permutation\n      x -= Math.floor(x);\n      var fadeX = _fade(x);\n      return (_lerp(fadeX, this._gradient1d(this._p[intX], x), this._gradient1d(this._p[intX + 1], x - 1)) + 1) / 2;\n   }\n\n   private _noise2d(x: number, y: number) {\n      var intX = Math.floor(x) & 0xFF;\n      var intY = Math.floor(y) & 0xFF;\n      \n      x -= Math.floor(x);\n      y -= Math.floor(y);\n\n      var fadeX = _fade(x);\n      var fadeY = _fade(y);\n      var a = this._p[intX] + intY;\n      var b = this._p[intX + 1] + intY;\n      return (_lerp(fadeY, \n                  _lerp(fadeX, this._gradient2d(this._p[a] , x, y), this._gradient2d(this._p[b] , x - 1, y)),\n                  _lerp(fadeX, this._gradient2d(this._p[a + 1] , x, y - 1), this._gradient2d(this._p[b + 1], x - 1, y - 1))) + 1) / 2;\n   }\n\n   private _noise3d(x: number, y: number, z: number) {\n      var intX = Math.floor(x) & 0xFF;\n      var intY = Math.floor(y) & 0xFF;\n      var intZ = Math.floor(z) & 0xFF;\n      \n      x -= Math.floor(x);\n      y -= Math.floor(y);\n      z -= Math.floor(z);\n\n      var fadeX = _fade(x);\n      var fadeY = _fade(y);\n      var fadeZ = _fade(z);\n\n      var a = this._p[intX] + intY;\n      var b = this._p[intX + 1] + intY;\n\n      var aa = this._p[a] + intZ;\n      var ba = this._p[b] + intZ;\n\n      var ab = this._p[a + 1] + intZ;\n      var bb = this._p[b + 1] + intZ;\n\n\n      return (_lerp(fadeZ, \n                  _lerp(fadeY, \n                       _lerp(fadeX, this._gradient3d(this._p[aa] , x, y, z), \n                                    this._gradient3d(this._p[ba] , x - 1, y, z)),\n                       _lerp(fadeX, this._gradient3d(this._p[ab] , x, y - 1, z), \n                                    this._gradient3d(this._p[bb], x - 1, y - 1, z))),\n                  _lerp(fadeY,\n                        _lerp(fadeX, this._gradient3d(this._p[aa + 1] , x, y, z - 1), \n                                     this._gradient3d(this._p[ba + 1] , x - 1, y, z - 1)),\n                        _lerp(fadeX, this._gradient3d(this._p[ab + 1] , x, y - 1, z - 1), \n                                     this._gradient3d(this._p[bb + 1], x - 1, y - 1, z - 1)))) + 1) / 2;\n   }\n}\n\n/**\n * A helper to draw 2D perlin maps given a perlin generator and a function\n */\nexport class PerlinDrawer2D {\n   /**\n    * @param generator - An existing perlin generator\n    * @param colorFcn - A color function that takes a value between [0, 255] derived from the perlin generator, and returns a color\n    */\n   constructor(public generator: PerlinGenerator, public colorFcn?: (val: number) => Color) {\n      if (!colorFcn) {\n         this.colorFcn = (val: number) => { return val < 125 ? Color.Black : Color.White; };\n      }\n   }\n\n   /**\n    * Returns an image of 2D perlin noise\n    */\n   public image(width: number, height: number): HTMLImageElement {\n      var image = document.createElement('img');\n      var canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n      var ctx = canvas.getContext('2d');\n      this.draw(ctx, 0, 0, width, height);\n      image.src = canvas.toDataURL();\n      return image;\n   }\n\n   /**\n    * This draws a 2D perlin grid on a canvas context, not recommended to be called every frame due to performance\n    */\n   public draw(ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number) {\n     var grid = this.generator.grid(width, height);\n     var imageData = ctx.getImageData(x, y, width, height);\n     for (var j = 0; j < height; j++) {\n         for (var i = 0; i < width; i++) {\n            var val = grid[i + width * j];\n            var c = Math.floor(val * 255) & 0xff;\n            var pixel = (i + j * imageData.width) * 4;\n            var color = this.colorFcn(c);\n            \n            imageData.data[pixel] = color.r;\n            imageData.data[pixel + 1] = color.g;\n            imageData.data[pixel + 2] = color.b;\n            imageData.data[pixel + 3] = Math.floor(color.a * 255);\n         }\n      }\n      ctx.putImageData(imageData, x, y);\n   }\n}","export * from 'PerlinNoise';\nexport * from 'Random';","import { Logger } from './../Util/Log';\nimport { IPostProcessor } from './IPostProcessor';\nimport { Engine } from '../Engine';\n\nexport enum ColorBlindness {\n   Protanope,\n   Deuteranope,\n   Tritanope\n}\n\n\n/**\n * This post processor can correct colors and simulate color blindness. \n * It is possible to use this on every game, but the game's performance\n * will suffer measurably. It's better to use it as a helpful tool while developing your game. \n * Remember, the best practice is to design with color blindness in mind.\n *\n * [[include:ColorBlind.md]] \n */\nexport class ColorBlindCorrector implements IPostProcessor {\n   \n   private _vertexShader =\n   'attribute vec2 a_position;' +\n   'attribute vec2 a_texCoord;' +\n\n   'uniform vec2 u_resolution;' +\n\n   'varying vec2 v_texCoord;' +\n\n   'void main() {' +\n      // convert the rectangle from pixels to 0.0 to 1.0\n      'vec2 zeroToOne = a_position / u_resolution;' +\n\n      // convert from 0->1 to 0->2\n      'vec2 zeroToTwo = zeroToOne * 2.0;' +\n\n      // convert from 0->2 to -1->+1 (clipspace)\n      'vec2 clipSpace = zeroToTwo - 1.0;' +\n\n      'gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);' +\n\n      // pass the texCoord to the fragment shader\n      // The GPU will interpolate this value between points.\n      'v_texCoord = a_texCoord;' +\n   '}';\n\n   private _fragmentShader =\n   'precision mediump float;' +\n   // our texture\n   'uniform sampler2D u_image;' +\n   // the texCoords passed in from the vertex shader.\n   'varying vec2 v_texCoord;' +\n\n   // Color blind conversions\n   /*'mat3 m[9] =' +\n   '{' +\n      'mat3(1.0, 0.0, 0.0,  0.0, 1.0, 0.0,  0.0, 0.0, 1.0  ),' + // normal\n      'mat3(0.567, 0.433, 0.0,  0.558, 0.442, 0.0,  0.0, 0.242, 0.758),' + // protanopia\n      'mat3(0.817, 0.183, 0.0,  0.333, 0.667, 0.0,  0.0, 0.125,0.875),' + // protanomaly\n      'mat3(0.625, 0.375, 0.0,  0.7, 0.3, 0.0,  0.0, 0.3,0.7  ),' + // deuteranopia\n      'mat3(0.8, 0.2, 0.0,  0.258, 0.742, 0.0,  0.0, 0.142,0.858),' + // deuteranomaly\n      'mat3(0.95, 0.05, 0.0,  0.0, 0.433, 0.567,  0.0, 0.475,0.525),' + // tritanopia\n      'mat3(0.967, 0.033, 0.0,  0.0, 0.733, 0.267,  0.0, 0.183,0.817),' + // tritanomaly\n      'mat3(0.299, 0.587, 0.114,  0.299, 0.587, 0.114,  0.299, 0.587,0.114),' + // achromatopsia\n      'mat3(0.618, 0.320, 0.062,  0.163, 0.775, 0.062,  0.163, 0.320,0.516)' +  // achromatomaly\n   '};' +*/\n\n\n   'void main() {' +\n   \n      'vec4 o =  texture2D(u_image, v_texCoord);' +\n      // RGB to LMS matrix conversion\n         'float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);' +\n         'float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);' +\n         'float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);' +\n\n      // Simulate color blindness\n\n      '//MODE CODE//' +\n\n      /* Deuteranope for testing \n      'float l = 1.0 * L + 0.0 * M + 0.0 * S;' +\n            'float m = 0.494207 * L + 0.0 * M + 1.24827 * S;' +\n            'float s = 0.0 * L + 0.0 * M + 1.0 * S;' +*/\n\n      // LMS to RGB matrix conversion\n         'vec4 error;' +\n      'error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);' +\n      'error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);' +\n      'error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);' +\n      'error.a = 1.0;' +\n\n      'vec4 diff = o - error;' +\n      'vec4 correction;' +\n      'correction.r = 0.0;' +\n      'correction.g =  (diff.r * 0.7) + (diff.g * 1.0);' +\n      'correction.b =  (diff.r * 0.7) + (diff.b * 1.0);' +\n      'correction = o + correction;' +\n      'correction.a = o.a;' +   \n\n      '//SIMULATE//' +\n      \n   '}';\n\n\n\n   private _internalCanvas: HTMLCanvasElement;\n   private _gl: WebGLRenderingContext;\n   private _program: WebGLProgram;\n\n\n   constructor(public engine: Engine, public simulate: boolean = false, public colorMode: ColorBlindness = ColorBlindness.Protanope) {\n      this._internalCanvas = document.createElement('canvas');\n      this._internalCanvas.width = engine.drawWidth;\n      this._internalCanvas.height = engine.drawHeight;\n\n      this._gl = <WebGLRenderingContext>this._internalCanvas.getContext('webgl', { preserveDrawingBuffer: true });\n\n      this._program = this._gl.createProgram();\n      var fragmentShader = this._getShader('Fragment', this._getFragmentShaderByMode(colorMode));\n      var vertextShader = this._getShader('Vertex', this._vertexShader);\n\n      this._gl.attachShader(this._program, vertextShader);\n      this._gl.attachShader(this._program, fragmentShader);\n      this._gl.linkProgram(this._program);\n\n      if (!this._gl.getProgramParameter(this._program, this._gl.LINK_STATUS)) {\n         Logger.getInstance().error('Unable to link shader program!');\n      }\n\n      this._gl.useProgram(this._program);\n   }\n   \n   private _getFragmentShaderByMode(colorMode: ColorBlindness) {\n      var code = '';\n      if (colorMode === ColorBlindness.Protanope) {\n         code =\n            'float l = 0.0 * L + 2.02344 * M + -2.52581 * S;' +\n            'float m = 0.0 * L + 1.0 * M + 0.0 * S;' +\n            'float s = 0.0 * L + 0.0 * M + 1.0 * S;';\n      } else if (colorMode === ColorBlindness.Deuteranope) {\n         code =\n            'float l = 1.0 * L + 0.0 * M + 0.0 * S;' +\n            'float m = 0.494207 * L + 0.0 * M + 1.24827 * S;' +\n            'float s = 0.0 * L + 0.0 * M + 1.0 * S;';\n      }else if (colorMode === ColorBlindness.Tritanope) {\n         code =\n            'float l = 1.0 * L + 0.0 * M + 0.0 * S;' +\n            'float m = 0.0 * L + 1.0 * M + 0.0 * S;' +\n            'float s = -0.395913 * L + 0.801109 * M + 0.0 * S;';\n      }\n\n      if (this.simulate) {\n         this._fragmentShader = this._fragmentShader.replace('//SIMULATE//', 'gl_FragColor = error.rgba;');\n      } else {\n         this._fragmentShader = this._fragmentShader.replace('//SIMULATE//', 'gl_FragColor = correction.rgba;');\n      }\n\n      return this._fragmentShader.replace('//MODE CODE//', code);\n\n   }\n\n   private _setRectangle(x: number, y: number, width: number, height: number) {\n      var x1 = x;\n      var x2 = x + width;\n      var y1 = y;\n      var y2 = y + height;\n      this._gl.bufferData(this._gl.ARRAY_BUFFER, new Float32Array([\n         x1, y1,\n         x2, y1,\n         x1, y2,\n         x1, y2,\n         x2, y1,\n         x2, y2]), this._gl.STATIC_DRAW);\n   }\n\n   private _getShader(type: string, program: string): WebGLShader {\n      var shader: WebGLShader;\n      if (type === 'Fragment') {\n         shader = this._gl.createShader(this._gl.FRAGMENT_SHADER);   \n      }else if (type === 'Vertex') {\n         shader = this._gl.createShader(this._gl.VERTEX_SHADER);\n      } else {\n         Logger.getInstance().error('Error unknown shader type', type);\n      }\n\n\n      this._gl.shaderSource(shader, program);\n      this._gl.compileShader(shader);\n\n      if (!this._gl.getShaderParameter(shader, this._gl.COMPILE_STATUS)) {\n         Logger.getInstance().error('Unable to compile shader!', this._gl.getShaderInfoLog(shader));\n         return null;\n      }\n\n      return shader;\n   }\n\n   public process(image: ImageData, out: CanvasRenderingContext2D) {\n      // look up where the vertex data needs to go.\n      var positionLocation = this._gl.getAttribLocation(this._program, 'a_position');\n      var texCoordLocation = this._gl.getAttribLocation(this._program, 'a_texCoord');\n\n      var texCoordBuffer = this._gl.createBuffer();\n      this._gl.bindBuffer(this._gl.ARRAY_BUFFER, texCoordBuffer);\n      this._gl.bufferData(this._gl.ARRAY_BUFFER, new Float32Array([\n         0.0, 0.0,\n         1.0, 0.0,\n         0.0, 1.0,\n         0.0, 1.0,\n         1.0, 0.0,\n         1.0, 1.0]), this._gl.STATIC_DRAW);\n      this._gl.enableVertexAttribArray(texCoordLocation);\n      this._gl.vertexAttribPointer(texCoordLocation, 2, this._gl.FLOAT, false, 0, 0);\n\n      // Create a texture.\n      var texture = this._gl.createTexture();\n      this._gl.bindTexture(this._gl.TEXTURE_2D, texture);\n\n      // Set the parameters so we can render any size image.\n      this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_WRAP_S, this._gl.CLAMP_TO_EDGE);\n      this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_WRAP_T, this._gl.CLAMP_TO_EDGE);\n      this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_MIN_FILTER, this._gl.NEAREST);\n      this._gl.texParameteri(this._gl.TEXTURE_2D, this._gl.TEXTURE_MAG_FILTER, this._gl.NEAREST);\n      // Flip the texture when unpacking into the gl context, gl reads textures in the opposite order as everything else :/\n      this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL, 1);\n      // Upload the image into the texture.\n      this._gl.texImage2D(this._gl.TEXTURE_2D, 0, this._gl.RGBA, this._gl.RGBA, this._gl.UNSIGNED_BYTE, image);\n\n      // lookup uniforms\n      var resolutionLocation = this._gl.getUniformLocation(this._program, 'u_resolution');\n\n      // set the resolution\n      this._gl.uniform2f(resolutionLocation, this._internalCanvas.width, this._internalCanvas.height);\n\n      // Create a buffer for the position of the rectangle corners.\n      var positionBuffer = this._gl.createBuffer();\n      this._gl.bindBuffer(this._gl.ARRAY_BUFFER, positionBuffer);\n      this._gl.enableVertexAttribArray(positionLocation);\n      this._gl.vertexAttribPointer(positionLocation, 2, this._gl.FLOAT, false, 0, 0);\n\n      // Set a rectangle the same size as the image.\n      this._setRectangle(0, 0, image.width, image.height);\n\n      // Draw the rectangle.\n      this._gl.drawArrays(this._gl.TRIANGLES, 0, 6);\n\n\n\n      // Grab tranformed image from internal canvas\n      var pixelData = new Uint8Array(image.width * image.height * 4);\n      this._gl.readPixels(0, 0, image.width, image.height, this._gl.RGBA, this._gl.UNSIGNED_BYTE, pixelData);\n\n      (<any>image.data).set(pixelData);\n\n      out.putImageData(image, 0, 0);\n   }\n\n\n}","export * from './ColorBlindCorrector';\nexport * from './IPostProcessor';","export * from './Resource';\nexport * from './Sound';\nexport * from './Texture';","export * from './Util';\nimport * as drawUtil from './DrawUtil';\n\nexport { drawUtil as DrawUtil };","import { Logger } from './Log';\n/**\n * This is the list of features that will be used to log the supported\n * features to the console when Detector.logBrowserFeatures() is called.\n */\n\nconst REPORTED_FEATURES: { [key: string]: string } = {\n   webgl: 'WebGL',\n   webaudio: 'WebAudio',\n   gamepadapi: 'Gamepad API'\n};\n\n/**\n * Interface for detected browser features matrix\n */\nexport interface IDetectedFeatures {\n   readonly canvas: boolean;\n   readonly arraybuffer: boolean;\n   readonly dataurl: boolean;\n   readonly objecturl: boolean;\n   readonly rgba: boolean;\n   readonly webaudio: boolean;\n   readonly webgl: boolean;\n   readonly gamepadapi: boolean;\n}\n\ninterface ICriticalTests {\n   canvasSupport(): boolean;\n   arrayBufferSupport(): boolean;\n   dataUrlSupport(): boolean;\n   objectUrlSupport(): boolean;\n   rgbaSupport(): boolean;   \n}\n\ninterface IWarningTests {\n   webAudioSupport(): boolean;\n   webglSupport(): boolean;\n}\n\n/**\n * Excalibur internal feature detection helper class\n */\nexport class Detector {\n\n   private _features: IDetectedFeatures = null;\n\n   public failedTests: string[] = [];\n\n   public constructor() {\n      this._features = this._loadBrowserFeatures();\n   }\n\n   /**\n    * Returns a map of currently supported browser features. This method\n    * treats the features as a singleton and will only calculate feature\n    * support if it has not previously been done.\n    */\n   public getBrowserFeatures(): IDetectedFeatures {\n      if (this._features === null) {\n         this._features = this._loadBrowserFeatures();\n      }\n      return this._features;\n   }\n   \n   /**\n    * Report on non-critical browser support for debugging purposes.\n    * Use native browser console colors for visibility.\n    */\n   public logBrowserFeatures(): void {\n      let msg = '%cSUPPORTED BROWSER FEATURES\\n==========================%c\\n';\n      let args = [\n         'font-weight: bold; color: navy',\n         'font-weight: normal; color: inherit'\n      ];\n\n      let supported: any = this.getBrowserFeatures();\n      for (let feature of Object.keys(REPORTED_FEATURES)) {\n         if (supported[feature]) {\n            msg += '(%c\\u2713%c)'; // ()\n            args.push('font-weight: bold; color: green');\n            args.push('font-weight: normal; color: inherit');\n         } else {\n            msg += '(%c\\u2717%c)'; // ()\n            args.push('font-weight: bold; color: red');\n            args.push('font-weight: normal; color: inherit'); \n         };\n\n         msg += ' ' + REPORTED_FEATURES[feature] + '\\n';\n      }         \n\n      args.unshift(msg);\n      console.log.apply(console, args);\n   }\n\n   /**\n    * Executes several IIFE's to get a constant reference to supported\n    * features within the current execution context.\n    */\n   private _loadBrowserFeatures(): IDetectedFeatures {\n      return {\n         // IIFE to check canvas support\n         canvas: (() => {\n            return this._criticalTests.canvasSupport();\n         })(),\n\n         // IIFE to check arraybuffer support\n         arraybuffer: (() => {\n            return this._criticalTests.arrayBufferSupport();\n         })(),\n\n         // IIFE to check dataurl support\n         dataurl: (() => {\n            return this._criticalTests.dataUrlSupport();\n         })(),\n\n         // IIFE to check objecturl support\n         objecturl: (() => {\n            return this._criticalTests.objectUrlSupport();\n         })(),\n\n         // IIFE to check rgba support\n         rgba: (() => {\n            return this._criticalTests.rgbaSupport();\n         })(),\n\n         // IIFE to check webaudio support\n         webaudio: (() => {\n            return this._warningTest.webAudioSupport();\n         })(),\n\n         // IIFE to check webgl support\n         webgl: (() => {\n            return this._warningTest.webglSupport();\n         })(),\n\n         // IIFE to check gamepadapi support\n         gamepadapi: (() => {\n            return !!(<any>navigator).getGamepads;\n         })()\n      };\n   }\n\n   // critical browser features required for ex to run\n   private _criticalTests: ICriticalTests = {\n      // Test canvas/2d context support\n      canvasSupport: function() {\n         var elem = document.createElement('canvas');\n         return !!(elem.getContext && elem.getContext('2d'));\n      },\n      \n      // Test array buffer support ex uses for downloading binary data\n      arrayBufferSupport: function() {\n         var xhr = new XMLHttpRequest();\n         xhr.open('GET', '/');\n         try {\n            xhr.responseType = 'arraybuffer';\n         } catch (e) {\n            return false;\n         }\n         return xhr.responseType === 'arraybuffer';\n      },\n      \n      // Test data urls ex uses for sprites\n      dataUrlSupport: function() {\n         var canvas = document.createElement('canvas');\n         return canvas.toDataURL('image/png').indexOf('data:image/png') === 0;\n      },\n      \n      // Test object url support for loading\n      objectUrlSupport: function() {\n         return ('URL' in window) && ('revokeObjectURL' in URL) && ('createObjectURL' in URL);\n      },\n      \n      // RGBA support for colors\n      rgbaSupport: function() {\n         var style = document.createElement('a').style;\n         style.cssText = 'background-color:rgba(150,255,150,.5)';\n         return ('' + style.backgroundColor).indexOf('rgba') > -1;\n      }\n   };\n   \n   // warnings excalibur performance will be degraded\n   private _warningTest: IWarningTests = {\n      webAudioSupport: function() {\n         return !!((<any>window).AudioContext || \n                  (<any>window).webkitAudioContext || \n                  (<any>window).mozAudioContext || \n                  (<any>window).msAudioContext || \n                  (<any>window).oAudioContext);\n      },\n      webglSupport: function() {\n         var elem = document.createElement('canvas');\n         return !!(elem.getContext && elem.getContext('webgl'));\n      }\n   };\n\n   public test(): boolean {\t\t\t\n      // Critical test will for ex not to run\n      var failedCritical = false;\n      for (var test in this._criticalTests) {\n         if (!this._criticalTests[<keyof ICriticalTests>test].call(this)) {\n            this.failedTests.push(test);\n            Logger.getInstance().error('Critical browser feature missing, Excalibur requires:', \n               test);\n            failedCritical = true;\n         }\n      }\n      if (failedCritical) {\n         return false;\n      }\n      \n      // Warning tests do not for ex to return false to compatibility\n      for (var warning in this._warningTest) {\n         if (!this._warningTest[<keyof IWarningTests>warning]()) {\n            Logger.getInstance().warn('Warning browser feature missing, Excalibur will have reduced performance:', \n               warning);\n         }\n      }\n      \n      return true;\n   }\n   \n}","/**\n * The current Excalibur version string\n */\nexport var EX_VERSION = '__EX_VERSION';\n\n// This file is used as the bundle entrypoint and exports everything\n// that will be exposed as the `ex` global variable.\n\nexport { Actor, IActorArgs, CollisionType } from './Actor';\nexport * from './Algebra';\nexport * from './Camera';\nexport * from './Class';\nexport * from './Configurable'\nexport * from './Debug';\nexport * from './Engine';\nexport * from './EventDispatcher';\nexport * from './Events';\nexport * from './Group';\nexport { Label, FontStyle, FontUnit, TextAlign, BaseAlign } from './Label';\nexport * from './Loader';\nexport { Particle, ParticleEmitter, IParticleArgs, IParticleEmitterArgs, EmitterType } from './Particles';\nexport * from './Physics';\nexport * from './Promises';\nexport * from './Scene';\nexport { TileMap, Cell, ITileMapArgs, ICellArgs, TileSprite } from './TileMap';\nexport * from './Timer';\nexport * from './Trigger';\nexport * from './UIActor';\n\nexport * from './Actions/Index';\nexport * from './Collision/Index';\nexport * from './Drawing/Index';\nexport * from './Interfaces/Index';\nexport * from './Math/Index';\nexport * from './PostProcessing/Index';\nexport * from './Resources/Index';\n\n// ex.Events namespace\nimport * as events from './Events';\nexport { events as Events }\n\n// ex.Input namespace\nimport * as input from './Input/Index';\nexport { input as Input }\n\n// ex.Traits namespace\nimport * as traits from './Traits/Index';\nexport { traits as Traits }\n\n// ex.Util namespaces\nimport * as util from './Util/Index';\nexport { util as Util }\n\nexport * from './Util/Decorators';\nexport * from './Util/Detector';\nexport * from './Util/CullingBox';\nexport * from './Util/EasingFunctions';\nexport * from './Util/Log';\nexport * from './Util/SortedList';","import { EX_VERSION } from './Index';\nimport { ICanUpdate, ICanDraw, ICanInitialize } from './Interfaces/LifecycleEvents';\nimport { ILoadable } from './Interfaces/ILoadable';\nimport { Promise } from './Promises';\nimport { Vector } from './Algebra';\nimport { UIActor } from './UIActor';\nimport { Actor } from './Actor';\nimport { Timer } from './Timer';\nimport { TileMap } from './TileMap';\nimport { Animation } from './Drawing/Animation';\nimport { Loader } from './Loader';\nimport { Detector } from './Util/Detector';\nimport { VisibleEvent, HiddenEvent, \n         GameStartEvent, GameStopEvent, \n         PreUpdateEvent, PostUpdateEvent, \n         PreFrameEvent, PostFrameEvent, \n         GameEvent, DeactivateEvent, \n         ActivateEvent, PreDrawEvent, \n         PostDrawEvent, InitializeEvent } from './Events';\nimport { ILoader } from './Interfaces/ILoader';\nimport { Logger, LogLevel } from './Util/Log';\nimport { Color } from './Drawing/Color';\nimport { Scene } from './Scene';\nimport { IPostProcessor } from './PostProcessing/IPostProcessor';\nimport { Debug, IDebugStats } from './Debug';\nimport { Class } from './Class';\nimport * as Input from './Input/Index';\nimport * as Util from './Util/Util';\nimport * as Events from './Events';\nimport { BoundingBox } from './Collision/BoundingBox';\n\n/**\n * Enum representing the different display modes available to Excalibur\n */\nexport enum DisplayMode {\n   /** \n    * Show the game as full screen \n    */\n   FullScreen,\n   /** \n    * Scale the game to the parent DOM container \n    */\n   Container,\n   /** \n    * Show the game as a fixed size \n    */\n   Fixed,\n   \n   /**\n    * Allow the game to be positioned with the [[IEngineOptions.position]] option\n    */\n   Position\n}\n\n/**\n * Enum representing the different mousewheel event bubble prevention\n */\nexport enum ScrollPreventionMode {\n   /**\n    * Do not prevent any page scrolling\n    */\n   None,\n    /**\n     * Prevent page scroll if mouse is over the game canvas\n     */\n   Canvas,\n    /**\n     * Prevent all page scrolling via mouse wheel\n     */\n   All\n}\n\n/**\n * Interface describing the absolute CSS position of the game window. For use when [[DisplayMode.Position]]\n * is specified and when the user wants to define exact pixel spacing of the window.\n * When a number is given, the value is interpreted as pixels\n */\nexport interface IAbsolutePosition {\n  \n  top?: number | string;\n  left?: number | string;\n  right?: number | string;\n  bottom?: number | string;\n  \n}\n\n/**\n * Defines the available options to configure the Excalibur engine at constructor time.\n */\nexport interface IEngineOptions {\n   /**\n    * Optionally configure the native canvas width of the game\n    */\n   width?: number;\n\n   /**\n    * Optionally configure the native canvas height of the game\n    */\n   height?: number;\n\n   /**\n    * Optionally specify the target canvas DOM element to render the game in\n    */\n   canvasElementId?: string;\n\n   /**\n    * The [[DisplayMode]] of the game. Depending on this value, [[width]] and [[height]] may be ignored.\n    */\n   displayMode?: DisplayMode;\n\n   /**\n    * Configures the pointer scope. Pointers scoped to the 'Canvas' can only fire events within the canvas viewport; whereas, 'Document'\n    * (default) scoped will fire anywhere on the page.\n    */\n   pointerScope?: Input.PointerScope;\n\n   /**\n    * Suppress boot up console message, which contains the \"powered by Excalibur message\"\n    */\n   suppressConsoleBootMessage?: boolean;\n\n   /**\n    * Suppress minimum browser feature detection, it is not recommended users of excalibur switch this off. This feature ensures that \n    * the currently running browser meets the minimum requirements for running excalibur. This can be useful if running on non-standard\n    * browsers or if there is a bug in excalibur preventing execution.\n    */\n   suppressMinimumBrowserFeatureDetection?: boolean;\n\n   /**\n    * Suppress HiDPI auto detection and scaling, it is not recommended users of excalibur switch off this feature. This feature detects\n    * and scales the drawing canvas appropriately to accommodate HiDPI screens.\n    */\n   suppressHiDPIScaling?: boolean;\n   \n   /**\n    * Specify how the game window is to be positioned when the [[DisplayMode.Position]] is chosen. This option MUST be specified\n    * if the DisplayMode is set as [[DisplayMode.Position]]. The position can be either a string or an [[IAbsolutePosition]]. \n    * String must be in the format of css style background-position. The vertical position must precede the horizontal position in strings.\n    *\n    * Valid String examples: \"top left\", \"top\", \"bottom\", \"middle\", \"middle center\", \"bottom right\"\n    * Valid [[IAbsolutePosition]] examples: `{top: 5, right: 10%}`, `{bottom: 49em, left: 10px}`, `{left: 10, bottom: 40}` \n    */\n   position?: string | IAbsolutePosition;\n\n   /**\n    * Scroll prevention method.\n    */\n   scrollPreventionMode?: ScrollPreventionMode;\n\n   /**\n    * Optionally set the background color\n    */\n   backgroundColor?: Color;\n}\n\n/**\n * The Excalibur Engine\n *\n * The [[Engine]] is the main driver for a game. It is responsible for \n * starting/stopping the game, maintaining state, transmitting events, \n * loading resources, and managing the scene.\n *\n * [[include:Engine.md]]\n */\nexport class Engine extends Class implements ICanInitialize, ICanUpdate, ICanDraw  {\n\n   /**\n    * Direct access to the engine's canvas element\n    */\n   public canvas: HTMLCanvasElement;\n\n   /**\n    * Direct access to the engine's 2D rendering context\n    */\n   public ctx: CanvasRenderingContext2D;\n\n   /**\n    * Direct access to the canvas element ID, if an ID exists\n    */\n   public canvasElementId: string;\n\n   /**\n    * The width of the game canvas in pixels (physical width component of the\n    * resolution of the canvas element)\n    */\n   public get canvasWidth(): number {\n      return this.canvas.width;\n   }\n\n   /**\n    * Returns half width of the game canvas in pixels (half physical width component)\n    */\n   public get halfCanvasWidth(): number {\n      return this.canvas.width / 2;\n   }\n\n   /**\n    * The height of the game canvas in pixels, (physical height component of\n    * the resolution of the canvas element)\n    */\n   public get canvasHeight(): number {\n      return this.canvas.height;\n   }\n\n   /**\n    * Returns half height of the game canvas in pixels (half physical height component)\n    */\n   public get halfCanvasHeight(): number {\n      return this.canvas.height / 2;\n   }\n\n   /**\n    * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n    */\n    public get drawWidth(): number {\n      if (this.currentScene && this.currentScene.camera) {\n         return (this.canvasWidth / this.currentScene.camera.getZoom()) / this.pixelRatio;\n      }\n      return this.canvasWidth / this.pixelRatio;\n   }\n\n   /**\n    * Returns half the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n    */\n   public get halfDrawWidth(): number {\n      return this.drawWidth / 2;\n   }\n\n   /**\n    * Returns the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n    */\n   public get drawHeight(): number {\n      if (this.currentScene && this.currentScene.camera) {\n         return (this.canvasHeight / this.currentScene.camera.getZoom()) / this.pixelRatio;\n      }\n      return this.canvasHeight / this.pixelRatio;\n   }\n\n   /**\n    * Returns half the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n    */\n   public get halfDrawHeight(): number {\n      return this.drawHeight / 2;\n   }\n\n   /**\n    * Returns whether excalibur detects the current screen to be HiDPI\n    */\n   public get isHiDpi(): boolean {\n      return this.pixelRatio !== 1;\n   }\n\n   /**\n    * Access engine input like pointer, keyboard, or gamepad\n    */\n   public input: Input.IEngineInput;\n\n\n   private _hasStarted: boolean = false;\n\n   /**\n    * Access Excalibur debugging functionality.\n    */\n   public debug = new Debug();\n\n   /**\n    * Access [[stats]] that holds frame statistics.\n    */\n   public get stats(): IDebugStats {\n      return this.debug.stats;\n   }\n\n   /**\n    * Gets or sets the list of post processors to apply at the end of drawing a frame (such as [[ColorBlindCorrector]])\n    */\n   public postProcessors: IPostProcessor[] = [];\n\n   /**\n    * The current [[Scene]] being drawn and updated on screen\n    */\n   public currentScene: Scene;\n\n   /**\n    * The default [[Scene]] of the game, use [[Engine.goToScene]] to transition to different scenes.\n    */\n   public rootScene: Scene;\n\n   /**\n    * Contains all the scenes currently registered with Excalibur\n    */\n   public scenes: { [key: string]: Scene; } = {};\n\n   private _animations: AnimationNode[] = [];\n\n   /**\n    * Indicates whether the engine is set to fullscreen or not\n    */\n   public isFullscreen: boolean = false;\n\n   /**\n    * Indicates the current [[DisplayMode]] of the engine.\n    */\n   public displayMode: DisplayMode = DisplayMode.FullScreen;\n\n\n   private _suppressHiDPIScaling: boolean = false;\n   /**\n    * Returns the calculated pixel ration for use in rendering\n    */\n   public get pixelRatio(): number\n   {\n      if (this._suppressHiDPIScaling) {\n         return 1;\n      }\n      let devicePixelRatio = window.devicePixelRatio || 1;\n\n      let pixelRatio = devicePixelRatio;\n      return pixelRatio;\n   }\n   \n   /**\n    * Indicates the current position of the engine. Valid only when DisplayMode is DisplayMode.Position\n    */\n   public position: string | IAbsolutePosition;\n   /**\n    * Indicates whether audio should be paused when the game is no longer visible.\n    */\n   public pauseAudioWhenHidden: boolean = true;\n\n   /**\n    * Indicates whether the engine should draw with debug information\n    */\n   public isDebug: boolean = false;\n   public debugColor: Color = new Color(255, 255, 255);\n   /**\n    * Sets the background color for the engine.\n    */\n   public backgroundColor: Color;\n\n   /**\n    * The action to take when a fatal exception is thrown\n    */\n   public onFatalException = (e: any) => { Logger.getInstance().fatal(e); };\n\n   /**\n    * The mouse wheel scroll prevention mode\n    */\n   public pageScrollPreventionMode: ScrollPreventionMode;\n\n   private _logger: Logger;\n   private _isSmoothingEnabled: boolean = true;\n\n   // this is a reference to the current requestAnimationFrame return value\n   private _requestId: number;\n\n   // this determines whether excalibur is compatible with your browser\n   private _compatible: boolean;\n\n   private _timescale: number = 1.0;\n\n   // loading\n   private _loader: ILoader;\n   private _isLoading: boolean = false;\n\n   private _isInitialized: boolean = false;\n\n\n   public on(eventName: Events.initialize, handler: (event?: Events.InitializeEvent) => void): void;\n   public on(eventName: Events.visible, handler: (event?: VisibleEvent) => void): void;\n   public on(eventName: Events.hidden, handler: (event?: HiddenEvent) => void): void;\n   public on(eventName: Events.start, handler: (event?: GameStartEvent) => void): void;\n   public on(eventName: Events.stop, handler: (event?: GameStopEvent) => void): void;\n   public on(eventName: Events.preupdate, handler: (event?: PreUpdateEvent) => void): void;\n   public on(eventName: Events.postupdate, handler: (event?: PostUpdateEvent) => void): void;\n   public on(eventName: Events.preframe, handler: (event?: PreFrameEvent) => void): void;\n   public on(eventName: Events.postframe, handler: (event?: PostFrameEvent) => void): void;\n   public on(eventName: Events.predraw, handler: (event?: PreDrawEvent) => void): void;\n   public on(eventName: Events.postdraw, handler: (event?: PostDrawEvent) => void): void;\n   public on(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public on(eventName: string, handler: (event?: any) => void): void {\n      super.on(eventName, handler);\n   }\n\n   public once(eventName: Events.initialize, handler: (event?: Events.InitializeEvent) => void): void;\n   public once(eventName: Events.visible, handler: (event?: VisibleEvent) => void): void;\n   public once(eventName: Events.hidden, handler: (event?: HiddenEvent) => void): void;\n   public once(eventName: Events.start, handler: (event?: GameStartEvent) => void): void;\n   public once(eventName: Events.stop, handler: (event?: GameStopEvent) => void): void;\n   public once(eventName: Events.preupdate, handler: (event?: PreUpdateEvent) => void): void;\n   public once(eventName: Events.postupdate, handler: (event?: PostUpdateEvent) => void): void;\n   public once(eventName: Events.preframe, handler: (event?: PreFrameEvent) => void): void;\n   public once(eventName: Events.postframe, handler: (event?: PostFrameEvent) => void): void;\n   public once(eventName: Events.predraw, handler: (event?: PreDrawEvent) => void): void;\n   public once(eventName: Events.postdraw, handler: (event?: PostDrawEvent) => void): void;\n   public once(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public once(eventName: string, handler: (event?: any) => void): void {\n      super.once(eventName, handler);\n   }\n\n   public off(eventName: Events.initialize, handler?: (event?: Events.InitializeEvent) => void): void;\n   public off(eventName: Events.visible, handler?: (event?: VisibleEvent) => void): void;\n   public off(eventName: Events.hidden, handler?: (event?: HiddenEvent) => void): void;\n   public off(eventName: Events.start, handler?: (event?: GameStartEvent) => void): void;\n   public off(eventName: Events.stop, handler?: (event?: GameStopEvent) => void): void;\n   public off(eventName: Events.preupdate, handler?: (event?: PreUpdateEvent) => void): void;\n   public off(eventName: Events.postupdate, handler?: (event?: PostUpdateEvent) => void): void;\n   public off(eventName: Events.preframe, handler?: (event?: PreFrameEvent) => void): void;\n   public off(eventName: Events.postframe, handler?: (event?: PostFrameEvent) => void): void;\n   public off(eventName: Events.predraw, handler?: (event?: PreDrawEvent) => void): void;\n   public off(eventName: Events.postdraw, handler?: (event?: PostDrawEvent) => void): void;\n   public off(eventName: string, handler?: (event?: GameEvent<any>) => void): void;\n   public off(eventName: string, handler?: (event?: any) => void): void {\n      super.off(eventName, handler);\n   }\n\n   /**\n    * Default [[IEngineOptions]]\n    */\n   private static _DefaultEngineOptions: IEngineOptions = {\n      width:                                  0,\n      height:                                 0,\n      canvasElementId:                        '',\n      pointerScope:                           Input.PointerScope.Document,\n      suppressConsoleBootMessage:             null,\n      suppressMinimumBrowserFeatureDetection: null,\n      suppressHiDPIScaling:                   null,\n      scrollPreventionMode:                   ScrollPreventionMode.Canvas,\n      backgroundColor:                        Color.fromHex('#2185d0') // Excalibur blue\n   };\n\n   /**\n    * Creates a new game using the given [[IEngineOptions]]. By default, if no options are provided,\n    * the game will be rendered full screen (taking up all available browser window space).\n    * You can customize the game rendering through [[IEngineOptions]].\n    * \n    * Example:\n    * \n    * ```js\n    * var game = new ex.Engine({ \n    *   width: 0, // the width of the canvas\n    *   height: 0, // the height of the canvas\n    *   canvasElementId: '', // the DOM canvas element ID, if you are providing your own\n    *   displayMode: ex.DisplayMode.FullScreen, // the display mode\n    *   pointerScope: ex.Input.PointerScope.Document, // the scope of capturing pointer (mouse/touch) events\n    *   backgroundColor: ex.Color.fromHex('#2185d0') // background color of the engine\n    * });\n    *\n    * // call game.start, which is a Promise\n    * game.start().then(function () {\n    *   // ready, set, go!\n    * });\n    * ```\n    */\n   constructor(options?: IEngineOptions) {\n      super();\n\n      options = Util.extend({}, Engine._DefaultEngineOptions, options);\n\n      // Check compatibility \n      var detector = new Detector();\n      if (!options.suppressMinimumBrowserFeatureDetection && !(this._compatible = detector.test())) {\n         var message = document.createElement('div');\n         message.innerText = 'Sorry, your browser does not support all the features needed for Excalibur';\n         document.body.appendChild(message);\n\n         detector.failedTests.forEach(function (test) {\n            var testMessage = document.createElement('div');\n            testMessage.innerText = 'Browser feature missing ' + test;\n            document.body.appendChild(testMessage);\n         });\n\n         if (options.canvasElementId) {\n            var canvas = document.getElementById(options.canvasElementId);\n            if (canvas) {\n               canvas.parentElement.removeChild(canvas);\n            }\n         }\n\n         return;\n      } else {\n         this._compatible = true;\n      }\n\n      // Use native console API for color fun\n      if (console.log && !options.suppressConsoleBootMessage) {\n         console.log(`%cPowered by Excalibur.js (v${EX_VERSION})`,\n            'background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;');\n         console.log('\\n\\\n      /| ________________\\n\\\nO|===|* >________________>\\n\\\n      \\\\|');\n         console.log('Visit', 'http://excaliburjs.com', 'for more information');\n      }\n\n      this._logger = Logger.getInstance();\n\n      // If debug is enabled, let's log browser features to the console.\n      if (this._logger.defaultLevel === LogLevel.Debug) {\n         detector.logBrowserFeatures();\n      }\n\n      this._logger.debug('Building engine...');\n\n      this.canvasElementId = options.canvasElementId;\n\n      if (options.canvasElementId) {\n         this._logger.debug('Using Canvas element specified: ' + options.canvasElementId);\n         this.canvas = <HTMLCanvasElement>document.getElementById(options.canvasElementId);\n      } else {\n         this._logger.debug('Using generated canvas element');\n         this.canvas = <HTMLCanvasElement>document.createElement('canvas');\n      }\n      if (options.width && options.height) {\n         if (options.displayMode === undefined) {\n            this.displayMode = DisplayMode.Fixed;\n         }\n         this._logger.debug('Engine viewport is size ' + options.width + ' x ' + options.height);\n         \n         this.canvas.width = options.width;         \n         this.canvas.height = options.height;\n\n\n      } else if (!options.displayMode) {\n         this._logger.debug('Engine viewport is fullscreen');\n         this.displayMode = DisplayMode.FullScreen;\n      }\n\n      if (options.backgroundColor) {\n         this.backgroundColor = options.backgroundColor.clone();\n      }\n\n      this._loader = new Loader();\n\n      this._initialize(options);\n\n      this.rootScene = this.currentScene = new Scene(this);\n\n      this.addScene('root', this.rootScene);\n      this.goToScene('root');\n   }\n\n   /**\n    * Returns a BoundingBox of the top left corner of the screen\n    * and the bottom right corner of the screen.\n    */\n   public getWorldBounds() {\n      var left = this.screenToWorldCoordinates(Vector.Zero).x;\n      var top = this.screenToWorldCoordinates(Vector.Zero).y;\n      var right = left + this.drawWidth;\n      var bottom = top + this.drawHeight;\n\n      return new BoundingBox(left, top, right, bottom);\n   }\n\n\n   /**\n    * Gets the current engine timescale factor (default is 1.0 which is 1:1 time)\n    */\n   public get timescale() {\n      return this._timescale;\n   }\n\n   /**\n    * Sets the current engine timescale factor. Useful for creating slow-motion effects or fast-forward effects\n    * when using time-based movement.\n    */\n   public set timescale(value: number) {\n      if (value <= 0) {\n         Logger.getInstance().error('Cannot set engine.timescale to a value of 0 or less than 0.');\n         return;\n      }\n\n      this._timescale = value;\n   }\n\n   /**\n    * Plays a sprite animation on the screen at the specified `x` and `y`\n    * (in game coordinates, not screen pixels). These animations play\n    * independent of actors, and will be cleaned up internally as soon\n    * as they are complete. Note animations that loop will never be\n    * cleaned up.\n    *\n    * @param animation  Animation to play\n    * @param x          x game coordinate to play the animation\n    * @param y          y game coordinate to play the animation\n    */\n   public playAnimation(animation: Animation, x: number, y: number) {\n      this._animations.push(new AnimationNode(animation, x, y));\n   }\n\n   /**\n    * Adds a [[TileMap]] to the [[currentScene]], once this is done the TileMap \n    * will be drawn and updated.\n    */\n   public addTileMap(tileMap: TileMap) {\n      this.currentScene.addTileMap(tileMap);\n   }\n\n   /**\n    * Removes a [[TileMap]] from the [[currentScene]], it will no longer be drawn or updated.\n    */\n   public removeTileMap(tileMap: TileMap) {\n      this.currentScene.removeTileMap(tileMap);\n   }\n\n   /**\n    * Adds a [[Timer]] to the [[currentScene]].\n    * @param timer  The timer to add to the [[currentScene]].\n    */\n   public addTimer(timer: Timer): Timer {\n      return this.currentScene.addTimer(timer);\n   }\n\n   /**\n    * Removes a [[Timer]] from the [[currentScene]].\n    * @param timer  The timer to remove to the [[currentScene]].       \n    */\n   public removeTimer(timer: Timer): Timer {\n      return this.currentScene.removeTimer(timer);\n   }\n\n   /**\n    * Adds a [[Scene]] to the engine, think of scenes in Excalibur as you\n    * would levels or menus.\n    *\n    * @param key  The name of the scene, must be unique\n    * @param scene The scene to add to the engine       \n    */\n   public addScene(key: string, scene: Scene) {\n      if (this.scenes[key]) {\n         this._logger.warn('Scene', key, 'already exists overwriting');\n      }\n      this.scenes[key] = scene;\n      scene.engine = this;\n   }\n\n   /**\n    * Removes a [[Scene]] instance from the engine\n    * @param scene  The scene to remove\n    */\n   public removeScene(scene: Scene): void;\n   /**\n    * Removes a scene from the engine by key\n    * @param key  The scene key to remove\n    */\n   public removeScene(key: string): void;\n   /**\n    * @internal\n    */\n   public removeScene(entity: any): void {\n      if (entity instanceof Scene) {\n         // remove scene\n         for (var key in this.scenes) {\n            if (this.scenes.hasOwnProperty(key)) {\n               if (this.scenes[key] === entity) {\n                  delete this.scenes[key];\n               }\n            }\n         }\n      }\n\n      if (typeof entity === 'string') {\n         // remove scene\n         delete this.scenes[entity];\n      }\n   }\n\n   /**\n    * Adds a [[Scene]] to the engine, think of scenes in Excalibur as you\n    * would levels or menus.\n    * @param sceneKey  The key of the scene, must be unique\n    * @param scene     The scene to add to the engine       \n    */\n   public add(sceneKey: string, scene: Scene): void;\n   /**\n    * Adds a [[Timer]] to the [[currentScene]].\n    * @param timer  The timer to add to the [[currentScene]].\n    */\n   public add(timer: Timer): void;\n   /**\n    * Adds a [[TileMap]] to the [[currentScene]], once this is done the TileMap \n    * will be drawn and updated.\n    */\n   public add(tileMap: TileMap): void;\n   /**\n    * Adds an actor to the [[currentScene]] of the game. This is synonymous\n    * to calling `engine.currentScene.add(actor)`.\n    *\n    * Actors can only be drawn if they are a member of a scene, and only\n    * the [[currentScene]] may be drawn or updated.\n    *\n    * @param actor  The actor to add to the [[currentScene]]\n    */\n   public add(actor: Actor): void;\n\n   /**\n    * Adds a [[UIActor]] to the [[currentScene]] of the game, \n    * UIActors do not participate in collisions, instead the \n    * remain in the same place on the screen.\n    * @param uiActor  The UIActor to add to the [[currentScene]]\n    */\n   public add(uiActor: UIActor): void;\n   public add(entity: any): void {\n      if (entity instanceof UIActor) {\n         this.currentScene.addUIActor(entity);\n         return;\n      }\n      if (entity instanceof Actor) {\n         this._addChild(entity);\n      }\n      if (entity instanceof Timer) {\n         this.addTimer(entity);\n      }\n\n      if (entity instanceof TileMap) {\n         this.addTileMap(entity);\n      }\n\n      if (arguments.length === 2) {\n         this.addScene((<string>arguments[0]), (<Scene>arguments[1]));\n      }\n   }\n\n   /**\n    * Removes a scene instance from the engine\n    * @param scene  The scene to remove\n    */\n   public remove(scene: Scene): void;\n   /**\n    * Removes a scene from the engine by key\n    * @param sceneKey  The scene to remove\n    */\n   public remove(sceneKey: string): void;\n   /**\n    * Removes a [[Timer]] from the [[currentScene]].\n    * @param timer  The timer to remove to the [[currentScene]].       \n    */\n   public remove(timer: Timer): void;\n   /**\n    * Removes a [[TileMap]] from the [[currentScene]], it will no longer be drawn or updated.\n    */\n   public remove(tileMap: TileMap): void;\n   /**\n    * Removes an actor from the [[currentScene]] of the game. This is synonymous\n    * to calling `engine.currentScene.removeChild(actor)`.\n    * Actors that are removed from a scene will no longer be drawn or updated.\n    *\n    * @param actor  The actor to remove from the [[currentScene]].      \n    */\n   public remove(actor: Actor): void;\n   /**\n    * Removes a [[UIActor]] to the scene, it will no longer be drawn or updated\n    * @param uiActor  The UIActor to remove from the [[currentScene]]\n    */\n   public remove(uiActor: UIActor): void;\n   public remove(entity: any): void {\n      if (entity instanceof UIActor) {\n         this.currentScene.removeUIActor(entity);\n         return;\n      }\n      if (entity instanceof Actor) {\n         this._removeChild(entity);\n      }\n      if (entity instanceof Timer) {\n         this.removeTimer(entity);\n      }\n\n      if (entity instanceof TileMap) {\n         this.removeTileMap(entity);\n      }\n\n      if (entity instanceof Scene) {\n         this.removeScene(entity);\n      }\n\n      if (typeof entity === 'string') {\n         this.removeScene(entity);\n      }\n   }\n\n   /**\n    * Adds an actor to the [[currentScene]] of the game. This is synonymous\n    * to calling `engine.currentScene.add(actor)`.\n    *\n    * Actors can only be drawn if they are a member of a scene, and only\n    * the [[currentScene]] may be drawn or updated.\n    *\n    * @param actor  The actor to add to the [[currentScene]]       \n    */\n   protected _addChild(actor: Actor) {\n      this.currentScene.add(actor);\n   }\n\n   /**\n    * Removes an actor from the [[currentScene]] of the game. This is synonymous\n    * to calling `engine.currentScene.remove(actor)`.\n    * Actors that are removed from a scene will no longer be drawn or updated.\n    *\n    * @param actor  The actor to remove from the [[currentScene]].      \n    */\n   protected _removeChild(actor: Actor) {\n      this.currentScene.remove(actor);\n   }\n\n   /**\n    * Changes the currently updating and drawing scene to a different,\n    * named scene. Calls the [[Scene]] lifecycle events.\n    * @param key  The key of the scene to transition to.       \n    */\n   public goToScene(key: string) {\n      if (this.scenes[key]) {\n         var oldScene = this.currentScene;\n         var newScene = this.scenes[key];\n\n         this._logger.debug('Going to scene:', key);\n\n         // only deactivate when initialized\n         if (this.currentScene.isInitialized) {\n            this.currentScene._deactivate.call(this.currentScene, [oldScene, newScene]);\n            this.currentScene.eventDispatcher.emit('deactivate', new DeactivateEvent(newScene, this.currentScene));\n         }\n\n         // set current scene to new one\n         this.currentScene = newScene;\n\n         // initialize the current scene if has not been already\n         this.currentScene._initialize(this);\n\n         this.currentScene._activate.call(this.currentScene, [oldScene, newScene]);\n         this.currentScene.eventDispatcher.emit('activate', new ActivateEvent(oldScene, this.currentScene));\n      } else {\n         this._logger.error('Scene', key, 'does not exist!');\n      }\n   }\n\n   /**\n    * Transforms the current x, y from screen coordinates to world coordinates\n    * @param point  Screen coordinate to convert\n    */\n   public screenToWorldCoordinates(point: Vector): Vector {\n\n      var newX = point.x;\n      var newY = point.y;\n\n      // transform back to world space\n      newX = (newX / this.canvas.clientWidth) * this.drawWidth;\n      newY = (newY / this.canvas.clientHeight) * this.drawHeight;\n\n\n      // transform based on zoom\n      newX = newX - this.halfDrawWidth;\n      newY = newY - this.halfDrawHeight;\n\n      // shift by focus\n      if (this.currentScene && this.currentScene.camera) {\n         var focus = this.currentScene.camera.getFocus();\n         newX += focus.x;\n         newY += focus.y;\n      }\n\n      return new Vector(Math.floor(newX), Math.floor(newY));\n   }\n\n   /**\n    * Transforms a world coordinate, to a screen coordinate\n    * @param point  World coordinate to convert\n    */\n   public worldToScreenCoordinates(point: Vector): Vector {\n\n      var screenX = point.x;\n      var screenY = point.y;\n\n      // shift by focus\n      if (this.currentScene && this.currentScene.camera) {\n         var focus = this.currentScene.camera.getFocus();\n         screenX -= focus.x;\n         screenY -= focus.y;\n      }\n\n      // transform back on zoom\n      screenX = screenX + this.halfDrawWidth;\n      screenY = screenY + this.halfDrawHeight;\n\n      // transform back to screen space\n      screenX = (screenX * this.canvas.clientWidth) / this.drawWidth;\n      screenY = (screenY * this.canvas.clientHeight) / this.drawHeight;\n\n      return new Vector(Math.floor(screenX), Math.floor(screenY));\n   }\n\n   /**\n    * Sets the internal canvas height based on the selected display mode.\n    */\n   private _setHeightByDisplayMode(parent: HTMLElement | Window) {\n      if (this.displayMode === DisplayMode.Container) {\n         this.canvas.width = (<HTMLElement>parent).clientWidth;\n         this.canvas.height = (<HTMLElement>parent).clientHeight;\n      }\n\n      if (this.displayMode === DisplayMode.FullScreen) {\n         document.body.style.margin = '0px';\n         document.body.style.overflow = 'hidden';\n         this.canvas.width = (<Window>parent).innerWidth;\n         this.canvas.height = (<Window>parent).innerHeight;\n      }\n   }\n\n   /**\n    * Initializes the internal canvas, rendering context, displaymode, and native event listeners\n    */\n   private _initialize(options?: IEngineOptions) {\n      if (options.displayMode) {\n        this.displayMode = options.displayMode;\n      }\n      \n      if (this.displayMode === DisplayMode.FullScreen || this.displayMode === DisplayMode.Container) {\n\n\n         var parent = <any>(this.displayMode === DisplayMode.Container ?\n            <any>(this.canvas.parentElement || document.body) : <any>window);\n\n         this._setHeightByDisplayMode(parent);\n\n         window.addEventListener('resize', () => {\n            this._logger.debug('View port resized');\n            this._setHeightByDisplayMode(parent);\n            this._logger.info('parent.clientHeight ' + parent.clientHeight);\n            this.setAntialiasing(this._isSmoothingEnabled);\n         });\n      } else if (this.displayMode === DisplayMode.Position) {\n          this._intializeDisplayModePosition(options);\n      }\n       \n      // initialize inputs\n      this.input = {\n         keyboard: new Input.Keyboard(),\n         pointers: new Input.Pointers(this),\n         gamepads: new Input.Gamepads()\n      };\n      this.input.keyboard.init();\n      this.input.pointers.init(options && options.pointerScope === Input.PointerScope.Document ? document : this.canvas);\n      this.input.gamepads.init();\n\n      this.pageScrollPreventionMode = options.scrollPreventionMode;\n\n      // Issue #385 make use of the visibility api\n      // https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API\n\n      var hidden: keyof HTMLDocument, visibilityChange: string;\n      if (typeof document.hidden !== 'undefined') { // Opera 12.10 and Firefox 18 and later support \n         hidden = 'hidden';\n         visibilityChange = 'visibilitychange';\n      } else if ('msHidden' in document) {\n         hidden = <keyof HTMLDocument>'msHidden';\n         visibilityChange = 'msvisibilitychange';\n      } else if ('webkitHidden' in document) {\n         hidden = <keyof HTMLDocument>'webkitHidden';\n         visibilityChange = 'webkitvisibilitychange';\n      }\n\n      document.addEventListener(visibilityChange, () => {\n         if (document[hidden]) {\n            this.eventDispatcher.emit('hidden', new HiddenEvent(this));\n            this._logger.debug('Window hidden');\n         } else {\n            this.eventDispatcher.emit('visible', new VisibleEvent(this));\n            this._logger.debug('Window visible');\n         }\n      });\n\n      this.ctx = <CanvasRenderingContext2D>this.canvas.getContext('2d');\n\n      this._suppressHiDPIScaling = !!options.suppressHiDPIScaling;\n      if (!options.suppressHiDPIScaling) {\n         this._initializeHiDpi();\n      }\n\n      if (!this.canvasElementId) {\n         document.body.appendChild(this.canvas);\n      }\n   }\n\n   public onInitialize(_engine: Engine) {\n      // Override me\n   }\n\n   private _intializeDisplayModePosition(options: IEngineOptions) {\n      if ( !options.position ) {\n         throw new Error('DisplayMode of Position was selected but no position option was given');\n       } else {\n           \n           this.canvas.style.display = 'block';\n           this.canvas.style.position = 'absolute';\n           \n           if (typeof options.position === 'string') {\n             var specifiedPosition = options.position.split(' ');\n             \n             switch (specifiedPosition[0]) {\n               case 'top':\n                 this.canvas.style.top = '0px';\n                 break;\n               case 'bottom':\n                 this.canvas.style.bottom = '0px';\n                 break;\n               case 'middle':\n                 this.canvas.style.top = '50%';\n                 var offsetY = -this.halfDrawHeight;\n                 this.canvas.style.marginTop = offsetY.toString();\n                 break;\n               default:\n                 throw new Error('Invalid Position Given');                  \n             }\n             \n             if (specifiedPosition[1]) {\n               \n               switch (specifiedPosition[1]) {\n                 case 'left':\n                   this.canvas.style.left = '0px';\n                   break;\n                 case 'right':\n                   this.canvas.style.right = '0px';\n                   break;\n                 case 'center':\n                   this.canvas.style.left = '50%';\n                   var offsetX = -this.halfDrawWidth;\n                   this.canvas.style.marginLeft = offsetX.toString();\n                   break;\n                 default:\n                   throw new Error('Invalid Position Given');\n               }\n             }\n           } else {\n               \n               if (options.position.top) {\n                 typeof options.position.top === 'number' ? \n                 this.canvas.style.top = options.position.top.toString() + 'px' : \n                 this.canvas.style.top = options.position.top;\n               }\n               if (options.position.right) {\n                 typeof options.position.right === 'number' ? \n                 this.canvas.style.right = options.position.right.toString() + 'px' : \n                 this.canvas.style.right = options.position.right;\n               }\n               if (options.position.bottom) {\n                 typeof options.position.bottom === 'number' ? \n                 this.canvas.style.bottom = options.position.bottom.toString() + 'px' : \n                 this.canvas.style.bottom = options.position.bottom;\n               }\n               if (options.position.left) {\n                 typeof options.position.left === 'number' ? \n                 this.canvas.style.left = options.position.left.toString() + 'px' : \n                 this.canvas.style.left = options.position.left;\n               }\n               \n               \n           }\n       }\n   }\n\n   private _initializeHiDpi() {\n      \n      // Scale the canvas if needed\n      if (this.isHiDpi) {\n         \n         let oldWidth = this.canvas.width;\n         let oldHeight = this.canvas.height;\n\n         this.canvas.width = oldWidth * this.pixelRatio;\n         this.canvas.height = oldHeight * this.pixelRatio;\n\n         this.canvas.style.width = oldWidth + 'px';\n         this.canvas.style.height = oldHeight + 'px';\n\n         this._logger.warn(`Hi DPI screen detected, resetting canvas resolution from \n                           ${oldWidth}x${oldHeight} to ${this.canvas.width}x${this.canvas.height} \n                           css size will remain ${oldWidth}x${oldHeight}`);\n         \n         this.ctx.scale(this.pixelRatio, this.pixelRatio);\n         this._logger.warn(`Canvas drawing context was scaled by ${this.pixelRatio}`);\n      }\n   }\n\n   /**\n    * If supported by the browser, this will set the antialiasing flag on the\n    * canvas. Set this to `false` if you want a 'jagged' pixel art look to your\n    * image resources.\n    * @param isSmooth  Set smoothing to true or false       \n    */\n   public setAntialiasing(isSmooth: boolean) {\n      this._isSmoothingEnabled = isSmooth;\n\n      var ctx: any = this.ctx;\n      ctx.imageSmoothingEnabled = isSmooth;\n      for (var smoothing of ['webkitImageSmoothingEnabled', 'mozImageSmoothingEnabled', 'msImageSmoothingEnabled']) {\n         if (smoothing in ctx) {\n            ctx[smoothing] = isSmooth;\n         }\n      };\n   }\n\n   /**\n    * Return the current smoothing status of the canvas\n    */\n   public getAntialiasing(): boolean {\n      return (<any>this.ctx).imageSmoothingEnabled ||\n         (<any>this.ctx).webkitImageSmoothingEnabled ||\n         (<any>this.ctx).mozImageSmoothingEnabled ||\n         (<any>this.ctx).msImageSmoothingEnabled;\n   }\n\n\n   /**\n    * Gets whether the actor is Initialized \n    */\n   public get isInitialized(): boolean {\n      return this._isInitialized;\n   }\n\n   private _overrideInitialize(engine: Engine) {\n      if (!this.isInitialized) {\n         this.onInitialize(engine);\n         super.emit('initialize', new InitializeEvent(engine, this));\n         this._isInitialized = true;\n      }\n\n   }\n\n   /**\n    * Updates the entire state of the game\n    * @param delta  Number of milliseconds elapsed since the last update.\n    */\n   private _update(delta: number) {\n      if (this._isLoading) {\n         // suspend updates untill loading is finished\n         this._loader.update(this, delta);\n         // Update input listeners\n         this.input.keyboard.update();\n         this.input.pointers.update();\n         this.input.gamepads.update();\n         return;\n      }\n      this._overrideInitialize(this);\n      // Publish preupdate events\n      this._preupdate(delta);\n\n      // process engine level events\n      this.currentScene.update(this, delta);\n\n      // update animations\n      this._animations = this._animations.filter(function (a) {\n         return !a.animation.isDone();\n      });\n\n      // Update input listeners\n      this.input.keyboard.update();\n      this.input.pointers.update();\n      this.input.gamepads.update();\n\n      // Publish update event\n      this._postupdate(delta);\n   }\n\n   /**\n    * @internal\n    */\n   public _preupdate(delta: number) {\n      this.emit('preupdate', new PreUpdateEvent(this, delta, this));\n      this.onPreUpdate(this, delta);\n   }\n\n   public onPreUpdate(_engine: Engine, _delta: number) {\n      // Override me\n   }\n\n   /**\n    * @internal\n    */\n   public _postupdate(delta: number) {\n      this.emit('postupdate', new PostUpdateEvent(this, delta, this));\n      this.onPostUpdate(this, delta);\n   }\n\n   public onPostUpdate(_engine: Engine, _delta: number) {\n      // Override me\n   }\n\n   /**\n    * Draws the entire game\n    * @param delta  Number of milliseconds elapsed since the last draw.\n    */\n   private _draw(delta: number) {\n      var ctx = this.ctx;\n      this._predraw(ctx, delta);\n\n      if (this._isLoading) {\n         this._loader.draw(ctx, delta);\n         // Drawing nothing else while loading\n         return;\n      }\n\n      ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n      ctx.fillStyle = this.backgroundColor.toString();\n      ctx.fillRect(0, 0, this.canvasWidth, this.canvasHeight);\n\n      this.currentScene.draw(this.ctx, delta);\n\n      // todo needs to be a better way of doing this\n      var a = 0, len = this._animations.length;\n      for (a; a < len; a++) {\n         this._animations[a].animation.draw(ctx, this._animations[a].x, this._animations[a].y);\n      }\n\n      // Draw debug information\n      if (this.isDebug) {\n\n         this.ctx.font = 'Consolas';\n         this.ctx.fillStyle = this.debugColor.toString();\n         var keys = this.input.keyboard.getKeys();\n         for (var j = 0; j < keys.length; j++) {\n            this.ctx.fillText(keys[j].toString() + ' : ' + (Input.Keys[keys[j]] ? Input.Keys[keys[j]] : 'Not Mapped'), 100, 10 * j + 10);\n         }\n\n         this.ctx.fillText('FPS:' + this.stats.currFrame.fps.toFixed(2).toString(), 10, 10);\n      }\n\n      // Post processing\n      for (var i = 0; i < this.postProcessors.length; i++) {\n         this.postProcessors[i].process(this.ctx.getImageData(0, 0, this.canvasWidth, this.canvasHeight), this.ctx);\n      }\n\n      this._postdraw(ctx, delta);\n   }\n\n   /**\n    * @internal\n    */\n   public _predraw(_ctx: CanvasRenderingContext2D, delta: number) {\n      this.emit('predraw', new PreDrawEvent(_ctx, delta, this));\n      this.onPreDraw(_ctx, delta);\n   }\n\n   public onPreDraw(_ctx: CanvasRenderingContext2D, _delta: number) {\n      // Override me\n   }\n\n   /**\n    * @internal\n    */\n   public _postdraw(_ctx: CanvasRenderingContext2D, delta: number) {\n      this.emit('postdraw', new PostDrawEvent(_ctx, delta, this));\n      this.onPostDraw(_ctx, delta);\n   }\n\n   public onPostDraw(_ctx: CanvasRenderingContext2D, _delta: number) {\n      // Override me\n   }\n\n   /**\n    * Starts the internal game loop for Excalibur after loading\n    * any provided assets. \n    * @param loader  Optional [[ILoader]] to use to load resources. The default loader is [[Loader]], override to provide your own\n    * custom loader.\n    */\n   public start(loader?: ILoader): Promise<any> {\n      if (!this._compatible) {\n         var promise = new Promise();\n         return promise.reject('Excalibur is incompatible with your browser');\n      }\n\n      var loadingComplete: Promise<any>;\n      if (loader) {\n         this._loader = loader;\n         this._loader.wireEngine(this);\n         loadingComplete = this.load(this._loader);\n      } else {\n         loadingComplete = Promise.resolve();\n      }\n\n      loadingComplete.then(() => {\n         this.emit('start', new GameStartEvent(this));\n      });\n\n      if (!this._hasStarted) {\n         this._hasStarted = true;\n         this._logger.debug('Starting game...');\n\n         Engine.createMainLoop(this, window.requestAnimationFrame, Date.now)();\n\n         this._logger.debug('Game started');\n\n      } else {\n         // Game already started;\n      }\n      return loadingComplete;\n\n   }\n\n   public static createMainLoop(game: Engine, raf: (func: Function) => number, nowFn: () => number) {\n      var lastTime = nowFn();\n\n      return function mainloop() {\n         if (!game._hasStarted) {\n            return;\n         }\n         try {\n            game._requestId = raf(mainloop);\n            game.emit('preframe', new PreFrameEvent(game, game.stats.prevFrame));\n\n            // Get the time to calculate time-elapsed\n            var now = nowFn();\n            var elapsed = Math.floor(now - lastTime) || 1;\n            // Resolves issue #138 if the game has been paused, or blurred for \n            // more than a 200 milliseconds, reset elapsed time to 1. This improves reliability \n            // and provides more expected behavior when the engine comes back\n            // into focus\n            if (elapsed > 200) {\n               elapsed = 1;\n            }\n            var delta = elapsed * game.timescale;\n\n            // reset frame stats (reuse existing instances)\n            var frameId = game.stats.prevFrame.id + 1;\n            game.stats.prevFrame.reset(game.stats.currFrame);\n            game.stats.currFrame.reset();\n            game.stats.currFrame.id = frameId;\n            game.stats.currFrame.delta = delta;\n            game.stats.currFrame.fps = 1.0 / (delta / 1000);\n\n            var beforeUpdate = nowFn();\n            game._update(delta);\n            var afterUpdate = nowFn();\n            game._draw(delta);\n            var afterDraw = nowFn();\n\n            game.stats.currFrame.duration.update = afterUpdate - beforeUpdate;\n            game.stats.currFrame.duration.draw = afterDraw - afterUpdate;\n\n            lastTime = now;\n\n            game.emit('postframe', new PostFrameEvent(game, game.stats.currFrame));\n         } catch (e) {\n            window.cancelAnimationFrame(game._requestId);\n            game.stop();\n            game.onFatalException(e);\n         }\n      };\n   }\n\n   /**\n    * Stops Excalibur's main loop, useful for pausing the game.\n    */\n   public stop() {\n      if (this._hasStarted) {\n         this.emit('stop', new GameStopEvent(this));\n         this._hasStarted = false;\n         this._logger.debug('Game stopped');\n      }\n   }\n\n   /**\n    * Returns the Engine's Running status, Useful for checking whether engine is running or paused.\n    */\n   public isPaused(): boolean {\n      return !(this._hasStarted);\n   }\n\n   /**\n    * Takes a screen shot of the current viewport and returns it as an\n    * HTML Image Element.\n    */\n   public screenshot(): HTMLImageElement {\n      var result = new Image();\n      var raw = this.canvas.toDataURL('image/png');\n      result.src = raw;\n      return result;\n   }\n\n   /**\n    * Another option available to you to load resources into the game. \n    * Immediately after calling this the game will pause and the loading screen\n    * will appear.\n    * @param loader  Some [[ILoadable]] such as a [[Loader]] collection, [[Sound]], or [[Texture]].\n    */\n   public load(loader: ILoadable): Promise<any> {\n      var complete = new Promise<any>();\n\n      this._isLoading = true;\n\n      loader.load().then(() => {\n         setTimeout(() => {\n            this._isLoading = false;\n            complete.resolve();\n         }, 500);\n      });\n\n      return complete;\n   }\n\n}\n\n/**\n * @internal\n */\nclass AnimationNode {\n   constructor(public animation: Animation, public x: number, public y: number) { }\n}\n","import { Engine } from 'Engine';\nimport * as Util from 'Util/Util';\n\n/**\n * A 2D vector on a plane.\n */\nexport class Vector {\n\n   /**\n    * A (0, 0) vector\n    */\n   public static Zero = new Vector(0, 0);\n\n   /**\n    * A (1, 1) vector\n    */\n   public static One = new Vector(1, 1);\n\n   /**\n    * A (0.5, 0.5) vector\n    */\n   public static Half = new Vector(0.5, 0.5);\n\n   /**\n    * A unit vector pointing up (0, -1)\n    */\n   public static Up = new Vector(0, -1);\n\n   /**\n    * A unit vector pointing down (0, 1)\n    */\n   public static Down = new Vector(0, 1);\n\n   /**\n    * A unit vector pointing left (-1, 0)\n    */\n   public static Left = new Vector(-1, 0);\n   /**\n    * A unit vector pointing right (1, 0)\n    */\n   public static Right = new Vector(1, 0);\n\n   /**\n    * Returns a vector of unit length in the direction of the specified angle in Radians.\n    * @param angle The angle to generate the vector\n    */\n   public static fromAngle(angle: number) {\n      return new Vector(Math.cos(angle), Math.sin(angle));\n   }\n\n   /**\n    * Checks if vector is not null, undefined, or if any of its components are NaN or Infinity.\n    */\n   public static isValid(vec: Vector) {\n      if (vec === null || vec === undefined) {\n         return false;\n      }\n      if (isNaN(vec.x) || isNaN(vec.y)) {\n         return false;\n      }\n\n      if (vec.x === Infinity ||\n         vec.y === Infinity ||\n         vec.x === -Infinity ||\n         vec.y === Infinity) {\n         return false;\n      }\n\n      return true;\n   }\n\n   /**\n    * Calculates distance between two Vectors\n    * @param vec1\n    * @param vec2\n    */\n   public static distance(vec1: Vector, vec2: Vector) {\n      return Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));\n   }\n\n   /**\n    * @param x  X component of the Vector\n    * @param y  Y component of the Vector\n    */\n   constructor(public x: number, public y: number) { }\n\n   /**\n    * Sets the x and y components at once\n    */\n   public setTo(x: number, y: number) {\n      this.x = x;\n      this.y = y;\n   }\n\n   /**\n    * Compares this point against another and tests for equality\n    * @param point  The other point to compare to\n    */\n   public equals(vector: Vector, tolerance: number = .001): boolean {\n      return Math.abs(this.x - vector.x) <= tolerance && Math.abs(this.y - vector.y) <= tolerance;\n   }\n\n   /**\n    * The distance to another vector. If no other Vector is specified, this will return the [[magnitude]].\n    * @param v  The other vector. Leave blank to use origin vector.\n    */\n   public distance(v?: Vector): number {\n      if (!v) {\n         v = Vector.Zero;\n      }\n      return Math.sqrt(Math.pow(this.x - v.x, 2) + Math.pow(this.y - v.y, 2));\n   }\n\n   /**\n    * The magnitude (size) of the Vector\n    */\n   public magnitude(): number {\n      return this.distance();\n   }\n\n   /**\n    * Normalizes a vector to have a magnitude of 1.\n    */\n   public normalize(): Vector {\n      var d = this.distance();\n      if (d > 0) {\n         return new Vector(this.x / d, this.y / d);\n      } else {\n         return new Vector(0, 1);\n      }\n   }\n\n   /**\n    * Returns the average (midpoint) between the current point and the specified\n    */\n   public average(vec: Vector): Vector {\n      return this.add(vec).scale(.5);\n   }\n\n   /**\n    * Scales a vector's by a factor of size\n    * @param size  The factor to scale the magnitude by\n    */\n   public scale(size: number): Vector {\n      return new Vector(this.x * size, this.y * size);\n   }\n\n   /**\n    * Adds one vector to another\n    * @param v The vector to add\n    */\n   public add(v: Vector): Vector {\n      return new Vector(this.x + v.x, this.y + v.y);\n   }\n\n   /**\n    * Subtracts a vector from another, if you subract vector `B.sub(A)` the resulting vector points from A -> B\n    * @param v The vector to subtract\n    */\n   public sub(v: Vector): Vector {\n      return new Vector(this.x - v.x, this.y - v.y);\n   }\n\n   /**\n    * Adds one vector to this one modifying the original\n    * @param v The vector to add\n    */\n   public addEqual(v: Vector): Vector {\n      this.x += v.x;\n      this.y += v.y;\n      return this;\n   }\n\n   /**\n    * Subtracts a vector from this one modifying the original\n    * @parallel v The vector to subtract\n    */\n   public subEqual(v: Vector): Vector {\n      this.x -= v.x;\n      this.y -= v.y;\n      return this;\n   }\n\n   /**\n    * Scales this vector by a factor of size and modifies the original\n    */\n   public scaleEqual(size: number): Vector {\n      this.x *= size;\n      this.y *= size;\n      return this;\n   }\n\n   /**\n    * Performs a dot product with another vector\n    * @param v  The vector to dot\n    */\n   public dot(v: Vector): number {\n      return this.x * v.x + this.y * v.y;\n   }\n\n   /**\n    * Performs a 2D cross product with scalar. 2D cross products with a scalar return a vector.\n    * @param v  The vector to cross\n    */\n   public cross(v: number): Vector;\n   /**\n    * Performs a 2D cross product with another vector. 2D cross products return a scalar value not a vector.\n    * @param v  The vector to cross\n    */\n   public cross(v: Vector): number;\n   public cross(v: any): any {\n      if (v instanceof Vector) {\n         return this.x * v.y - this.y * v.x;\n      } else if (typeof v === 'number') {\n         return new Vector(v * this.y, -v * this.x);\n      }\n   }\n\n\n\n   /**\n    * Returns the perpendicular vector to this one\n    */\n   public perpendicular(): Vector {\n      return new Vector(this.y, -this.x);\n   }\n\n   /**\n    * Returns the normal vector to this one, same as the perpendicular of length 1\n    */\n   public normal(): Vector {\n      return this.perpendicular().normalize();\n   }\n\n   /**\n    * Negate the current vector\n    */\n   public negate(): Vector {\n      return this.scale(-1);\n   }\n\n   /**\n    * Returns the angle of this vector.\n    */\n   public toAngle(): number {\n      return Math.atan2(this.y, this.x);\n   }\n\n   /**\n    * Rotates the current vector around a point by a certain number of\n    * degrees in radians\n    */\n   public rotate(angle: number, anchor?: Vector): Vector {\n      if (!anchor) {\n         anchor = new Vector(0, 0);\n      }\n      var sinAngle = Math.sin(angle);\n      var cosAngle = Math.cos(angle);\n      var x = cosAngle * (this.x - anchor.x) - sinAngle * (this.y - anchor.y) + anchor.x;\n      var y = sinAngle * (this.x - anchor.x) + cosAngle * (this.y - anchor.y) + anchor.y;\n      return new Vector(x, y);\n   }\n\n   /**\n    * Creates new vector that has the same values as the previous.\n    */\n   public clone(): Vector {\n      return new Vector(this.x, this.y);\n   }\n\n   /**\n    * Returns a string repesentation of the vector.\n    */\n   public toString(): string {\n      return `(${this.x}, ${this.y})`;\n   }\n}\n\n\n/**\n * A 2D ray that can be cast into the scene to do collision detection\n */\nexport class Ray {\n   public pos: Vector;\n   public dir: Vector;\n\n   /**\n    * @param pos The starting position for the ray\n    * @param dir The vector indicating the direction of the ray\n    */\n   constructor(pos: Vector, dir: Vector) {\n      this.pos = pos;\n      this.dir = dir.normalize();\n   }\n\n   /**\n    * Tests a whether this ray intersects with a line segment. Returns a number greater than or equal to 0 on success.\n    * This number indicates the mathematical intersection time.\n    * @param line  The line to test\n    */\n   public intersect(line: Line): number {\n      var numerator = line.begin.sub(this.pos);\n\n      // Test is line and ray are parallel and non intersecting\n      if (this.dir.cross(line.getSlope()) === 0 && numerator.cross(this.dir) !== 0) {\n         return -1;\n      }\n\n      // Lines are parallel\n      var divisor = (this.dir.cross(line.getSlope()));\n      if (divisor === 0) {\n         return -1;\n      }\n\n      var t = numerator.cross(line.getSlope()) / divisor;\n\n      if (t >= 0) {\n         var u = (numerator.cross(this.dir) / divisor) / line.getLength();\n         if (u >= 0 && u <= 1) {\n            return t;\n         }\n      }\n      return -1;\n   }\n\n   /**\n    * Returns the point of intersection given the intersection time\n    */\n   public getPoint(time: number): Vector {\n      return this.pos.add(this.dir.scale(time));\n   }\n}\n\n/**\n * A 2D line segment\n */\nexport class Line {\n\n   /**\n    * @param begin  The starting point of the line segment\n    * @param end  The ending point of the line segment\n    */\n   constructor(public begin: Vector, public end: Vector) {\n   }\n\n   /**\n    * Gets the raw slope (m) of the line. Will return (+/-)Infinity for vertical lines.\n    */\n   public get slope() {\n      return (this.end.y - this.begin.y) / (this.end.x - this.begin.x);\n   }\n\n   /**\n    * Gets the Y-intercept (b) of the line. Will return (+/-)Infinity if there is no intercept.\n    */\n   public get intercept() {\n      return this.begin.y - (this.slope * this.begin.x);\n   }\n\n   /**\n    * Gets the normal of the line\n    */\n   public normal(): Vector {\n      return this.end.sub(this.begin).normal();\n   }\n\n   /**\n    * Returns the slope of the line in the form of a vector\n    */\n   public getSlope(): Vector {\n      var begin = this.begin;\n      var end = this.end;\n      var distance = begin.distance(end);\n      return end.sub(begin).scale(1 / distance);\n   }\n\n   /**\n    * Returns the length of the line segment in pixels\n    */\n   public getLength(): number {\n      var begin = this.begin;\n      var end = this.end;\n      var distance = begin.distance(end);\n      return distance;\n   }\n\n   /**\n    * Find the perpendicular distance from the line to a point\n    * https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n    * @param point \n    */\n   public distanceToPoint(point: Vector) {\n      let x0 = point.x;\n      let y0 = point.y;\n\n      let l = this.getLength();\n\n      let dy = this.end.y - this.begin.y;\n      let dx = this.end.x - this.begin.x;\n      let distance = Math.abs(dy * x0 - dx * y0 + this.end.x * this.begin.y - this.end.y * this.begin.x) / l;\n      return distance;\n   }\n\n   /**\n    * Finds a point on the line given only an X or a Y value. Given an X value, the function returns\n    * a new point with the calculated Y value and vice-versa.\n    *\n    * @param x The known X value of the target point\n    * @param y The known Y value of the target point\n    * @returns A new point with the other calculated axis value\n    */\n   public findPoint(x: number = null, y: number = null): Vector {\n      var m = this.slope;\n      var b = this.intercept;\n\n      if (x !== null) {\n         return new Vector(x, (m * x) + b);\n      } else if (y !== null) {\n         return new Vector((y - b) / m, y);\n      } else {\n         throw new Error('You must provide an X or a Y value');\n      }\n   }\n\n   /**\n    * Whether or not the given point lies on this line. This method is precise by default\n    * meaning the point must lie exactly on the line. Adjust threshold to\n    * loosen the strictness of the check for floating-point calculations.\n    */\n   public hasPoint(x: number, y: number, threshold?: number): boolean;\n\n   /**\n    * Whether or not the given point lies on this line. This method is precise by default\n    * meaning the point must lie exactly on the line. Adjust threshold to\n    * loosen the strictness of the check for floating-point calculations.\n    */\n   public hasPoint(v: Vector, threshold?: number): boolean;\n\n   /**\n    * @see http://stackoverflow.com/a/11908158/109458\n    */\n   public hasPoint(): boolean {\n      var currPoint: Vector;\n      var threshold = 0;\n\n      if (typeof arguments[0] === 'number' &&\n         typeof arguments[1] === 'number') {\n         currPoint = new Vector(arguments[0], arguments[1]);\n         threshold = arguments[2] || 0;\n      } else if (arguments[0] instanceof Vector) {\n         currPoint = arguments[0];\n         threshold = arguments[1] || 0;\n      } else {\n         throw 'Could not determine the arguments for Vector.hasPoint';\n      }\n\n      var dxc = currPoint.x - this.begin.x;\n      var dyc = currPoint.y - this.begin.y;\n\n      var dx1 = this.end.x - this.begin.x;\n      var dy1 = this.end.y - this.begin.y;\n\n      var cross = dxc * dy1 - dyc * dx1;\n\n      // check whether point lines on the line\n      if (Math.abs(cross) > threshold) {\n         return false;\n      }\n\n      // check whether point lies in-between start and end\n      if (Math.abs(dx1) >= Math.abs(dy1)) {\n         return dx1 > 0\n            ? this.begin.x <= currPoint.x && currPoint.x <= this.end.x\n            : this.end.x <= currPoint.x && currPoint.x <= this.begin.x;\n      } else {\n         return dy1 > 0\n            ? this.begin.y <= currPoint.y && currPoint.y <= this.end.y\n            : this.end.y <= currPoint.y && currPoint.y <= this.begin.y;\n      }\n   }\n}\n\n/**\n * A 1 dimensional projection on an axis, used to test overlaps\n */\nexport class Projection {\n   constructor(public min: number, public max: number) { }\n   public overlaps(projection: Projection): boolean {\n      return this.max > projection.min && projection.max > this.min;\n   }\n\n   public getOverlap(projection: Projection): number {\n      if (this.overlaps(projection)) {\n         if (this.max > projection.max) {\n            return projection.max - this.min;\n         } else {\n            return this.max - projection.min;\n         }\n      }\n      return 0;\n   }\n}\n\nexport class GlobalCoordinates {\n   public static fromPagePosition(x: number, y: number, engine: Engine): GlobalCoordinates;\n   public static fromPagePosition(pos: Vector, engine: Engine): GlobalCoordinates;\n   public static fromPagePosition(xOrPos: number | Vector, yOrEngine: number | Engine, engineOrUndefined?: Engine): GlobalCoordinates {\n      var pageX: number;\n      var pageY: number;\n      var pagePos: Vector;\n      var engine: Engine;\n\n      if (arguments.length === 3) {\n         pageX = <number>xOrPos;\n         pageY = <number>yOrEngine;\n         pagePos = new Vector(pageX, pageY);\n         engine = engineOrUndefined;\n      } else {\n         pagePos = <Vector>xOrPos;\n         pageX = pagePos.x;\n         pageY = pagePos.y;\n         engine = <Engine>yOrEngine;\n      }\n\n      var screenX: number = pageX - Util.getPosition(engine.canvas).x;\n      var screenY: number = pageY - Util.getPosition(engine.canvas).y;\n      var screenPos = new Vector(screenX, screenY);\n      var worldPos = engine.screenToWorldCoordinates(screenPos);\n\n      return new GlobalCoordinates(worldPos, pagePos, screenPos);\n   }\n\n   constructor(public worldPos: Vector, public pagePos: Vector, public screenPos: Vector) { }\n}","import { Vector } from './Algebra';\n\n/**\n * Possible collision resolution strategies\n *\n * The default is [[CollisionResolutionStrategy.Box]] which performs simple axis aligned arcade style physics.\n * \n * More advanced rigid body physics are enabled by setting [[CollisionResolutionStrategy.RigidBody]] which allows for complicated\n * simulated physical interactions.\n */\nexport enum CollisionResolutionStrategy {\n   Box,\n   RigidBody\n}\n\n/**\n * Possible broadphase collision pair identification strategies\n * \n * The default strategy is [[BroadphaseStrategy.DynamicAABBTree]] which uses a binary tree of axis-aligned bounding boxes to identify\n * potential collision pairs which is O(nlog(n)) faster. The other possible strategy is the [[BroadphaseStrategy.Naive]] strategy \n * which loops over every object for every object in the scene to identify collision pairs which is O(n^2) slower.\n */\nexport enum BroadphaseStrategy {\n   Naive,\n   DynamicAABBTree\n}\n\n/**\n * Possible numerical integrators for position and velocity\n */\nexport enum Integrator {\n   Euler\n}\n\n/**\n * The [[Physics]] object is the global configuration object for all Excalibur physics. \n *\n * [[include:Physics.md]]\n */\n/* istanbul ignore next */\nexport class Physics {\n   /**\n    * Global acceleration that is applied to all vanilla actors that have a [[CollisionType.Active|active]] collision type.\n    * Global acceleration won't effect [[Label|labels]], [[UIActor|ui actors]], or [[Trigger|triggers]] in Excalibur.\n    * \n    * This is a great way to globally simulate effects like gravity.\n    */\n   public static acc = new Vector(0, 0);\n\n   /**\n    * Globally switches all Excalibur physics behavior on or off.\n    */\n   public static enabled = true;\n\n   /**\n    * Gets or sets the number of collision passes for Excalibur to perform on physics bodies. \n    *   \n    * Reducing collision passes may cause things not to collide as expected in your game, but may increase performance.\n    * \n    * More passes can improve the visual quality of collisions when many objects are on the screen. This can reduce jitter, improve the\n    * collision resolution of fast move objects, or the stability of large numbers of objects stacked together.\n    * \n    * Fewer passes will improve the performance of the game at the cost of collision quality, more passes will improve quality at the \n    * cost of performance. \n    * \n    * The default is set to 5 passes which is a good start.\n    */\n   public static collisionPasses = 5;\n\n   /**\n    * Gets or sets the broadphase pair identification strategy.\n    * \n    * The default strategy is [[BroadphaseStrategy.DynamicAABBTree]] which uses a binary tree of axis-aligned bounding boxes to identify\n    * potential collision pairs which is O(nlog(n)) faster. The other possible strategy is the [[BroadphaseStrategy.Naive]] strategy \n    * which loops over every object for every object in the scene to identify collision pairs which is O(n^2) slower.\n    */\n   public static broadphaseStrategy: BroadphaseStrategy = BroadphaseStrategy.DynamicAABBTree;\n\n   /**\n    * Globally switches the debug information for the broadphase strategy\n    */\n   public static broadphaseDebug: boolean = false;\n   /**\n    * Show the normals as a result of collision on the screen.\n    */\n   public static showCollisionNormals: boolean = false;\n   /**\n    * Show the position, velocity, and acceleration as graphical vectors.\n    */\n   public static showMotionVectors: boolean = false;\n   /**\n    * Show the axis-aligned bounding boxes of the collision bodies on the screen.\n    */\n   public static showBounds: boolean = false;\n   /**\n    * Show the bounding collision area shapes\n    */\n   public static showArea: boolean = false;\n   /**\n    * Show points of collision interpreted by excalibur as a result of collision.\n    */\n   public static showContacts: boolean = false;\n   /**\n    * Show the surface normals of the collision areas.\n    */\n   public static showNormals: boolean = false;\n   /**\n    * Gets or sets the global collision resolution strategy (narrowphase).\n    * \n    * The default is [[CollisionResolutionStrategy.Box]] which performs simple axis aligned arcade style physics.\n    * \n    * More advanced rigid body physics are enabled by setting [[CollisionResolutionStrategy.RigidBody]] which allows for complicated\n    * simulated physical interactions.\n    */\n   public static collisionResolutionStrategy: CollisionResolutionStrategy = CollisionResolutionStrategy.Box;\n   /**\n    * The default mass to use if none is specified\n    */\n   public static defaultMass: number = 10;\n   /**\n    * Gets or sets the position and velocity positional integrator, currently only Euler is supported.\n    */\n   public static integrator: Integrator = Integrator.Euler;\n   /**\n    * Number of steps to use in integration. A higher number improves the positional accuracy over time. This can be useful to increase\n    * if you have fast moving objects in your simulation or you have a large number of objects and need to increase stability.\n    */\n   public static integrationSteps = 1;\n   /**\n    * Gets or sets whether rotation is allowed in a RigidBody collision resolution \n    */\n   public static allowRigidBodyRotation = true;\n\n   /**\n    * Configures Excalibur to use box physics. Box physics which performs simple axis aligned arcade style physics.\n    */\n   public static useBoxPhysics(): void {\n      Physics.collisionResolutionStrategy = CollisionResolutionStrategy.Box;\n   }\n\n   /**\n    * Configures Excalibur to use rigid body physics. Rigid body physics allows for complicated\n    * simulated physical interactions.\n    */\n   public static useRigidBodyPhysics(): void {\n      Physics.collisionResolutionStrategy = CollisionResolutionStrategy.RigidBody;\n   }\n\n   /**\n    * Small value to help collision passes settle themselves after the narrowphase. \n    */\n   public static collisionShift = .001;\n\n   /**\n    * Factor to add to the RigidBody BoundingBox, bounding box (dimensions += vel * dynamicTreeVelocityMultiplyer); \n    */\n   public static dynamicTreeVelocityMultiplyer = 2;\n\n   /**\n    * Pad RigidBody BoundingBox by a constant amount\n    */\n   public static boundsPadding = 5;\n\n   /**\n    * Surface epsilon is used to help deal with surface penatration\n    */\n   public static surfaceEpsilon = .1;\n\n   /**\n    * Enable fast moving body checking, this enables checking for collision pairs via raycast for fast moving objects to prevent\n    * bodies from tunneling through one another.\n    */\n   public static checkForFastBodies = true;\n\n   /**\n    * Disable minimum fast moving body raycast, by default if ex.Physics.checkForFastBodies = true Excalibur will only check if the \n    * body is moving at least half of its minimum diminension in an update. If ex.Physics.disableMinimumSpeedForFastBody is set to true,\n    * Excalibur will always perform the fast body raycast regardless of speed. \n    */\n   public static disableMinimumSpeedForFastBody = false;\n}\n","import { Physics } from './Physics';\nimport { Class } from './Class';\nimport { BoundingBox } from './Collision/BoundingBox';\nimport { Texture } from './Resources/Texture';\nimport {\n   InitializeEvent, KillEvent, PreUpdateEvent, PostUpdateEvent,\n   PreDrawEvent, PostDrawEvent, PreDebugDrawEvent, PostDebugDrawEvent,\n   PostCollisionEvent, PreCollisionEvent, CollisionStartEvent, \n   CollisionEndEvent, PostKillEvent, PreKillEvent, GameEvent, \n   ExitTriggerEvent, EnterTriggerEvent\n} from './Events';\nimport { PointerEvent, WheelEvent, PointerDragEvent } from './Input/Pointer';\nimport { Engine } from './Engine';\nimport { Color } from './Drawing/Color';\nimport { Sprite } from './Drawing/Sprite';\nimport { IActorTrait } from './Interfaces/IActorTrait';\nimport { IDrawable } from './Interfaces/IDrawable';\nimport { ICanInitialize, ICanUpdate, ICanDraw, ICanBeKilled } from './Interfaces/LifecycleEvents';\nimport { Scene } from './Scene';\nimport { Logger } from './Util/Log';\nimport { ActionContext } from './Actions/ActionContext';\nimport { ActionQueue } from './Actions/Action';\nimport { Vector } from './Algebra';\nimport { ICollisionArea } from './Collision/ICollisionArea';\nimport { Body } from './Collision/Body';\nimport { Side } from './Collision/Side';\nimport { IEvented } from './Interfaces/IEvented';\nimport { IActionable } from './Actions/IActionable';\nimport { Configurable } from './Configurable';\nimport * as Traits from './Traits/Index';\nimport * as Effects from './Drawing/SpriteEffects';\nimport * as Util from './Util/Util';\nimport * as Events from './Events';\nimport { IPointerEvents } from './Interfaces/IPointerEvents';\n\nexport type PointerEventName = 'pointerdragstart'\n   | 'pointerdragend' | 'pointerdragmove' | 'pointerdragenter'\n   | 'pointerdragleave' | 'pointermove' | 'pointerenter'\n   | 'pointerleave' | 'pointerup' | 'pointerdown';\n\n\n/**\n * [[include:Constructors.md]]\n */\nexport interface IActorArgs extends Partial<ActorImpl> {\n   width?: number;\n   height?: number;\n   pos?: Vector;\n   vel?: Vector;\n   acc?: Vector;\n   rotation?: number;\n   rx?: number;\n   z?: number;\n   color?: Color;\n   visible?: boolean;\n   body?: Body;\n   collisionType?: CollisionType;\n}\n\n/**\n * @hidden\n */\n\nexport class ActorImpl extends Class implements IActionable, IEvented, IPointerEvents, ICanInitialize, ICanUpdate, ICanDraw, ICanBeKilled {\n   // #region Properties\n\n   /**\n    * Indicates the next id to be set\n    */\n   public static maxId = 0;\n   /**\n    * The unique identifier for the actor\n    */\n   public id: number = ActorImpl.maxId++;\n\n   /**\n    * The physics body the is associated with this actor. The body is the container for all physical properties, like position, velocity,\n    * acceleration, mass, inertia, etc.\n    */\n   public body: Body = new Body(this);\n\n   /**\n    * Gets the collision area shape to use for collision possible options are [CircleArea|circles], [PolygonArea|polygons], and \n    * [EdgeArea|edges]. \n    */\n   public get collisionArea(): ICollisionArea {\n      return this.body.collisionArea;\n   }\n\n   /**\n    * Gets the collision area shape to use for collision possible options are [CircleArea|circles], [PolygonArea|polygons], and \n    * [EdgeArea|edges]. \n    */\n   public set collisionArea(area: ICollisionArea) {\n      this.body.collisionArea = area;\n   }\n\n   /**\n    * Gets the x position of the actor relative to it's parent (if any)\n    */\n   public get x(): number {\n      return this.body.pos.x;\n   }\n\n   /**\n    * Sets the x position of the actor relative to it's parent (if any)\n    */\n   public set x(theX: number) {\n      this.body.pos.x = theX;\n   }\n\n   /**\n    * Gets the y position of the actor relative to it's parent (if any)\n    */\n   public get y(): number {\n      return this.body.pos.y;\n   }\n\n   /**\n    * Sets the y position of the actor relative to it's parent (if any)\n    */\n   public set y(theY: number) {\n      this.body.pos.y = theY;\n   }\n\n   /**\n    * Gets the position vector of the actor in pixels\n    */\n   public get pos(): Vector {\n      return this.body.pos;\n   }\n\n   /**\n    * Sets the position vector of the actor in pixels\n    */\n   public set pos(thePos: Vector) {\n      this.body.pos.setTo(thePos.x, thePos.y);\n   }\n\n   /**\n    * Gets the position vector of the actor from the last frame\n    */\n   public get oldPos(): Vector {\n      return this.body.oldPos;\n   }\n\n   /**\n    * Sets the position vector of the actor in the last frame\n    */\n   public set oldPos(thePos: Vector) {\n      this.body.oldPos.setTo(thePos.x, thePos.y);\n   }\n\n   /**\n    * Gets the velocity vector of the actor in pixels/sec\n    */\n   public get vel(): Vector {\n      return this.body.vel;\n   }\n\n   /**\n    * Sets the velocity vector of the actor in pixels/sec\n    */\n   public set vel(theVel: Vector) {\n      this.body.vel.setTo(theVel.x, theVel.y);\n   }\n\n   /**\n    * Gets the velocity vector of the actor from the last frame\n    */\n   public get oldVel(): Vector {\n      return this.body.oldVel;\n   }\n\n   /**\n    * Sets the velocity vector of the actor from the last frame\n    */\n   public set oldVel(theVel: Vector) {\n      this.body.oldVel.setTo(theVel.x, theVel.y);\n   }\n\n   /**\n    * Gets the acceleration vector of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may be \n    * useful to simulate a gravitational effect.  \n    */\n   public get acc(): Vector {\n      return this.body.acc;\n   }\n\n   /**\n    * Sets the acceleration vector of teh actor in pixels/second/second\n    */\n   public set acc(theAcc: Vector) {\n      this.body.acc.setTo(theAcc.x, theAcc.y);\n   }\n\n   /** \n    * Gets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\n    */\n   public get rotation(): number {\n      return this.body.rotation;\n   }\n\n   /**\n    * Sets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\n    */\n   public set rotation(theAngle: number) {\n      this.body.rotation = theAngle;\n   }\n\n   /** \n    * Gets the rotational velocity of the actor in radians/second\n    */\n   public get rx(): number {\n      return this.body.rx;\n   }\n\n   /**\n    * Sets the rotational velocity of the actor in radians/sec\n    */\n   public set rx(angularVelocity: number) {\n      this.body.rx = angularVelocity;\n   }\n\n   /**\n    * Gets the current torque applied to the actor. Torque can be thought of as rotational force\n    */\n   public get torque() {\n      return this.body.torque;\n   }\n\n   /**\n    * Sets the current torque applied to the actor. Torque can be thought of as rotational force\n    */\n   public set torque(theTorque: number) {\n      this.body.torque = theTorque;\n   }\n\n   /**\n    * Get the current mass of the actor, mass can be thought of as the resistance to acceleration.\n    */\n   public get mass() {\n      return this.body.mass;\n   }\n\n   /**\n    * Sets the mass of the actor, mass can be thought of as the resistance to acceleration.\n    */\n   public set mass(theMass: number) {\n      this.body.mass = theMass;\n   }\n\n   /**\n    * Gets the current moment of inertia, moi can be thought of as the resistance to rotation.\n    */\n   public get moi() {\n      return this.body.moi;\n   }\n\n   /**\n    * Sets the current moment of inertia, moi can be thought of as the resistance to rotation.\n    */\n   public set moi(theMoi: number) {\n      this.body.moi = theMoi;\n   }\n\n   /**\n    * Gets the coefficient of friction on this actor, this can be thought of as how sticky or slippery an object is.\n    */\n   public get friction() {\n      return this.body.friction;\n   }\n\n   /**\n    * Sets the coefficient of friction of this actor, this can ve thought of as how stick or slippery an object is.\n    */\n   public set friction(theFriction: number) {\n      this.body.friction = theFriction;\n   }\n\n   /**\n    * Gets the coefficient of restitution of this actor, represents the amount of energy preserved after collision. Think of this  \n    * as bounciness.\n    */\n   public get restitution() {\n      return this.body.restitution;\n   }\n\n   /**\n    * Sets the coefficient of restitution of this actor, represents the amount of energy preserved after collision. Think of this\n    * as bounciness.\n    */\n   public set restitution(theRestitution: number) {\n      this.body.restitution = theRestitution;\n   }\n\n   /**\n    * The anchor to apply all actor related transformations like rotation,\n    * translation, and scaling. By default the anchor is in the center of\n    * the actor. By default it is set to the center of the actor (.5, .5)\n    * \n    * An anchor of (.5, .5) will ensure that drawings are centered.\n    *\n    * Use `anchor.setTo` to set the anchor to a different point using\n    * values between 0 and 1. For example, anchoring to the top-left would be\n    * `Actor.anchor.setTo(0, 0)` and top-right would be `Actor.anchor.setTo(0, 1)`.\n    */\n   public anchor: Vector;\n\n   private _height: number = 0;\n   private _width: number = 0;\n\n   /**\n    * The scale vector of the actor\n    */\n   public scale: Vector = new Vector(1, 1);\n   /** \n    * The x scalar velocity of the actor in scale/second\n    */\n   public sx: number = 0; //scale/sec\n   /** \n    * The y scalar velocity of the actor in scale/second\n    */\n   public sy: number = 0; //scale/sec\n\n   /**\n    * Indicates whether the actor is physically in the viewport\n    */\n   public isOffScreen: boolean = false;\n   /** \n    * The visibility of an actor\n    */\n   public visible: boolean = true;\n   /**\n    * The opacity of an actor. Passing in a color in the [[constructor]] will use the \n    * color's opacity.\n    */\n   public opacity: number = 1;\n   public previousOpacity: number = 1;\n\n   /** \n    * Direct access to the actor's [[ActionQueue]]. Useful if you are building custom actions.\n    */\n   public actionQueue: ActionQueue;\n\n   /**\n    * [[ActionContext|Action context]] of the actor. Useful for scripting actor behavior.\n    */\n   public actions: ActionContext;\n   /**\n    * Convenience reference to the global logger\n    */\n   public logger: Logger = Logger.getInstance();\n   /**\n    * The scene that the actor is in\n    */\n   public scene: Scene = null;\n   /**\n    * The parent of this actor\n    */\n   public parent: Actor = null;\n   // TODO: Replace this with the new actor collection once z-indexing is built\n   /**\n    * The children of this actor\n    */\n   public children: Actor[] = [];\n   /**\n    * Gets or sets the current collision type of this actor. By \n    * default it is ([[CollisionType.PreventCollision]]).\n    */\n   public collisionType: CollisionType = CollisionType.PreventCollision;\n   public collisionGroups: string[] = [];\n\n\n   private _collisionHandlers: { [key: string]: { (actor: Actor): void }[]; } = {};\n   private _isInitialized: boolean = false;\n   public frames: { [key: string]: IDrawable; } = {};\n   private _effectsDirty: boolean = false;\n\n   /**\n    * Access to the current drawing for the actor, this can be \n    * an [[Animation]], [[Sprite]], or [[Polygon]]. \n    * Set drawings with [[setDrawing]].\n    */\n   public currentDrawing: IDrawable = null;\n\n   /**\n    * Modify the current actor update pipeline. \n    */\n   public traits: IActorTrait[] = [];\n\n   /**\n    * Sets the color of the actor. A rectangle of this color will be \n    * drawn if no [[IDrawable]] is specified as the actors drawing.\n    * \n    * The default is `null` which prevents a rectangle from being drawn.\n    */\n   public get color(): Color {\n      return this._color;\n   }\n   public set color(v: Color) {\n      this._color = v.clone();\n   }\n   private _color: Color;\n\n   /**\n    * Whether or not to enable the [[CapturePointer]] trait that propagates \n    * pointer events to this actor\n    */\n   public enableCapturePointer: boolean = false;\n\n   /**\n    * Configuration for [[CapturePointer]] trait\n    */\n   public capturePointer: Traits.ICapturePointerConfig = {\n      captureMoveEvents: false,\n      captureDragEvents: false\n   };\n\n   private _zIndex: number = 0;\n   private _isKilled: boolean = false;\n   private _opacityFx = new Effects.Opacity(this.opacity);\n\n   // #endregion\n\n   /**\n    * @param x       The starting x coordinate of the actor\n    * @param y       The starting y coordinate of the actor\n    * @param width   The starting width of the actor\n    * @param height  The starting height of the actor\n    * @param color   The starting color of the actor. Leave null to draw a transparent actor. The opacity of the color will be used as the\n    * initial [[opacity]].\n    */\n   constructor(xOrConfig?: number | IActorArgs, y?: number, width?: number, height?: number, color?: Color) {\n      super();\n\n      if (xOrConfig && typeof xOrConfig === 'object') {\n         var config = xOrConfig;\n         xOrConfig = config.pos ? config.pos.x : config.x;\n         y = config.pos ? config.pos.y : config.y;\n         width = config.width;\n         height = config.height;\n      }\n\n      this.pos.x = <number>xOrConfig || 0;\n      this.pos.y = y || 0;\n      this._width = width || 0;\n      this._height = height || 0;\n      if (color) {\n         this.color = color;\n         // set default opacity of an actor to the color\n         this.opacity = color.a;\n      }\n\n      // Build default pipeline\n      //this.traits.push(new ex.Traits.EulerMovement());\n      // TODO: TileMaps should be converted to a collision area\n      this.traits.push(new Traits.TileMapCollisionDetection());\n      this.traits.push(new Traits.OffscreenCulling());\n      this.traits.push(new Traits.CapturePointer());\n\n      // Build the action queue\n      this.actionQueue = new ActionQueue(this);\n      this.actions = new ActionContext(this);\n\n      // default anchor is in the middle\n      this.anchor = new Vector(.5, .5);\n\n      // Initialize default collision area to be box\n      this.body.useBoxCollision();\n   }\n  \n   /**\n    * `onInitialize` is called before the first update of the actor. This method is meant to be\n    * overridden. This is where initialization of child actors should take place.\n    * \n    * Synonymous with the event handler `.on('initialize', (evt) => {...})`\n    */\n   public onInitialize(_engine: Engine): void {\n      // Override me\n   }\n\n   /**\n    * Gets wether the actor is Initialized \n    */\n   public get isInitialized(): boolean {\n      return this._isInitialized;\n   }\n\n   /**\n    * Initializes this actor and all it's child actors, meant to be called by the Scene before first update not by users of Excalibur.\n    * \n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * @internal\n    */\n   public _initialize(engine: Engine) {\n      if (!this.isInitialized) {\n         this.onInitialize(engine);\n         super.emit('initialize', new InitializeEvent(engine, this));\n         this._isInitialized = true;\n      }\n      for (var child of this.children) {\n         child._initialize(engine);\n      }\n   }\n\n   // #region Events\n\n   private _capturePointerEvents: PointerEventName[] = [\n      'pointerup', 'pointerdown', 'pointermove', 'pointerenter', 'pointerleave',\n      'pointerdragstart', 'pointerdragend', 'pointerdragmove', 'pointerdragenter', 'pointerdragleave'\n   ];\n\n   private _captureMoveEvents: PointerEventName[] = [\n      'pointermove', 'pointerenter', 'pointerleave',\n      'pointerdragmove', 'pointerdragenter', 'pointerdragleave'\n   ];\n\n   private _captureDragEvents: PointerEventName[] = [\n      'pointerdragstart', 'pointerdragend', 'pointerdragmove', 'pointerdragenter', 'pointerdragleave'\n   ];\n\n   private _checkForPointerOptIn(eventName: string) {\n      if (eventName) {\n         const normalized = <PointerEventName>eventName.toLowerCase();\n\n         if (this._capturePointerEvents.indexOf(normalized) !== -1) {\n            this.enableCapturePointer = true;\n\n            if (this._captureMoveEvents.indexOf(normalized) !== -1) {\n               this.capturePointer.captureMoveEvents = true;\n            }\n\n            if (this._captureDragEvents.indexOf(normalized) !== -1) {\n               this.capturePointer.captureDragEvents = true;\n            }\n         }\n      }\n   }\n\n   public on(eventName: Events.exittrigger, handler: (evt: ExitTriggerEvent) => void): void;\n   public on(eventName: Events.entertrigger, handler: (evt: EnterTriggerEvent) => void): void;\n   public on(eventName: Events.collisionstart, handler: (event?: CollisionStartEvent) => void): void;\n   public on(eventName: Events.collisionend, handler: (event?: CollisionEndEvent) => void): void;\n   public on(eventName: Events.precollision, handler: (event?: PreCollisionEvent) => void): void;\n   public on(eventName: Events.postcollision, handler: (event?: PostCollisionEvent) => void): void;\n   public on(eventName: Events.kill, handler: (event?: KillEvent) => void): void;\n   public on(eventName: Events.prekill, handler: (event?: PreKillEvent) => void): void;\n   public on(eventName: Events.postkill, handler: (event?: PostKillEvent) => void): void;\n   public on(eventName: Events.initialize, handler: (event?: InitializeEvent) => void): void;\n   public on(eventName: Events.preupdate, handler: (event?: PreUpdateEvent) => void): void;\n   public on(eventName: Events.postupdate, handler: (event?: PostUpdateEvent) => void): void;\n   public on(eventName: Events.predraw, handler: (event?: PreDrawEvent) => void): void;\n   public on(eventName: Events.postdraw, handler: (event?: PostDrawEvent) => void): void;\n   public on(eventName: Events.predebugdraw, handler: (event?: PreDebugDrawEvent) => void): void;\n   public on(eventName: Events.postdebugdraw, handler: (event?: PostDebugDrawEvent) => void): void;\n   public on(eventName: Events.pointerup, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.pointerdown, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.pointerenter, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.pointerleave, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.pointermove, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.pointercancel, handler: (event?: PointerEvent) => void): void;\n   public on(eventName: Events.pointerwheel, handler: (event?: WheelEvent) => void): void;\n   public on(eventName: Events.pointerdragstart, handler: (event?: PointerDragEvent) => void): void;\n   public on(eventName: Events.pointerdragend, handler: (event?: PointerDragEvent) => void): void;\n   public on(eventName: Events.pointerdragenter, handler: (event?: PointerDragEvent) => void): void;\n   public on(eventName: Events.pointerdragleave, handler: (event?: PointerDragEvent) => void): void;\n   public on(eventName: Events.pointerdragmove, handler: (event?: PointerDragEvent) => void): void;\n   public on(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public on(eventName: string, handler: (event?: any) => void): void {\n      this._checkForPointerOptIn(eventName);\n      super.on(eventName, handler);\n   }\n\n   public once(eventName: Events.exittrigger, handler: (evt: ExitTriggerEvent) => void): void;\n   public once(eventName: Events.entertrigger, handler: (evt: EnterTriggerEvent) => void): void;\n   public once(eventName: Events.collisionstart, handler: (event?: CollisionStartEvent) => void): void;\n   public once(eventName: Events.collisionend, handler: (event?: CollisionEndEvent) => void): void;\n   public once(eventName: Events.precollision, handler: (event?: PreCollisionEvent) => void): void;\n   public once(eventName: Events.postcollision, handler: (event?: PostCollisionEvent) => void): void;\n   public once(eventName: Events.kill, handler: (event?: KillEvent) => void): void;\n   public once(eventName: Events.postkill, handler: (event?: PostKillEvent) => void): void;\n   public once(eventName: Events.prekill, handler: (event?: PreKillEvent) => void): void;\n   public once(eventName: Events.initialize, handler: (event?: InitializeEvent) => void): void;\n   public once(eventName: Events.preupdate, handler: (event?: PreUpdateEvent) => void): void;\n   public once(eventName: Events.postupdate, handler: (event?: PostUpdateEvent) => void): void;\n   public once(eventName: Events.predraw, handler: (event?: PreDrawEvent) => void): void;\n   public once(eventName: Events.postdraw, handler: (event?: PostDrawEvent) => void): void;\n   public once(eventName: Events.predebugdraw, handler: (event?: PreDebugDrawEvent) => void): void;\n   public once(eventName: Events.postdebugdraw, handler: (event?: PostDebugDrawEvent) => void): void;\n   public once(eventName: Events.pointerup, handler: (event?: PointerEvent) => void): void;\n   public once(eventName: Events.pointerdown, handler: (event?: PointerEvent) => void): void;\n   public once(eventName: Events.pointerenter, handler: (event?: PointerEvent) => void): void;\n   public once(eventName: Events.pointerleave, handler: (event?: PointerEvent) => void): void;\n   public once(eventName: Events.pointermove, handler: (event?: PointerEvent) => void): void;\n   public once(eventName: Events.pointercancel, handler: (event?: PointerEvent) => void): void;\n   public once(eventName: Events.pointerwheel, handler: (event?: WheelEvent) => void): void;\n   public once(eventName: Events.pointerdragstart, handler: (event?: PointerDragEvent) => void): void;\n   public once(eventName: Events.pointerdragend, handler: (event?: PointerDragEvent) => void): void;\n   public once(eventName: Events.pointerdragenter, handler: (event?: PointerDragEvent) => void): void;\n   public once(eventName: Events.pointerdragleave, handler: (event?: PointerDragEvent) => void): void;\n   public once(eventName: Events.pointerdragmove, handler: (event?: PointerDragEvent) => void): void;\n   public once(eventName: string, handler: (event?: GameEvent<any>) => void): void;\n   public once(eventName: string, handler: (event?: any) => void): void {\n      this._checkForPointerOptIn(eventName);\n      super.once(eventName, handler);\n   }\n\n   public off(eventName: Events.exittrigger, handler?: (evt: ExitTriggerEvent) => void): void;\n   public off(eventName: Events.entertrigger, handler?: (evt: EnterTriggerEvent) => void): void;\n   public off(eventName: Events.pointerup, handler?: (event?: PointerEvent) => void): void;\n   public off(eventName: Events.pointerdown, handler?: (event?: PointerEvent) => void): void;\n   public off(eventName: Events.pointerenter, handler?: (event?: PointerEvent) => void): void;\n   public off(eventName: Events.pointerleave, handler?: (event?: PointerEvent) => void): void;\n   public off(eventName: Events.pointermove, handler?: (event?: PointerEvent) => void): void;\n   public off(eventName: Events.pointercancel, handler?: (event?: PointerEvent) => void): void;\n   public off(eventName: Events.pointerwheel, handler?: (event?: WheelEvent) => void): void;\n   public off(eventName: Events.pointerdragstart, handler?: (event?: PointerDragEvent) => void): void;\n   public off(eventName: Events.pointerdragend, handler?: (event?: PointerDragEvent) => void): void;\n   public off(eventName: Events.pointerdragenter, handler?: (event?: PointerDragEvent) => void): void;\n   public off(eventName: Events.pointerdragleave, handler?: (event?: PointerDragEvent) => void): void;\n   public off(eventName: Events.pointerdragmove, handler?: (event?: PointerDragEvent) => void): void;\n   public off(eventName: Events.prekill, handler?: (event?: PreKillEvent) => void): void;\n   public off(eventName: Events.postkill, handler?: (event?: PostKillEvent) => void): void;\n   public off(eventName: Events.initialize, handler?: (event?: Events.InitializeEvent) => void): void;\n   public off(eventName: Events.postupdate, handler?: (event?: Events.PostUpdateEvent) => void): void;\n   public off(eventName: Events.preupdate, handler?: (event?: Events.PreUpdateEvent) => void): void;\n   public off(eventName: Events.postdraw, handler?: (event?: Events.PostDrawEvent) => void): void;\n   public off(eventName: Events.predraw, handler?: (event?: Events.PreDrawEvent) => void): void;\n   public off(eventName: string, handler?: (event?: GameEvent<any>) => void): void;\n   public off(eventName: string, handler?: (event?: any) => void): void {\n      super.off(eventName, handler);\n   }\n\n   // #endregion\n\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _prekill handler for [[onPreKill]] lifecycle event\n    * @internal\n    */\n   public _prekill(_scene: Scene) {\n      super.emit('prekill', new PreKillEvent(this));\n      this.onPreKill(_scene);\n   }\n\n   /**\n    * Safe to override onPreKill lifecycle event handler. Synonymous with `.on('prekill', (evt) =>{...})`\n    * \n    * `onPreKill` is called directly before an actor is killed and removed from its current [[Scene]].\n    */\n   public onPreKill(_scene: Scene) {\n      // Override me\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _prekill handler for [[onPostKill]] lifecycle event\n    * @internal\n    */\n   public _postkill(_scene: Scene) {\n      super.emit('postkill', new PostKillEvent(this));\n      this.onPostKill(_scene);\n\n   }\n\n   /**\n    * Safe to override onPostKill lifecycle event handler. Synonymous with `.on('postkill', (evt) => {...})`\n    * \n    * `onPostKill` is called directly after an actor is killed and remove from its current [[Scene]].\n    */\n   public onPostKill(_scene: Scene) {\n      // Override me\n   }\n\n   /**\n    * If the current actor is a member of the scene, this will remove\n    * it from the scene graph. It will no longer be drawn or updated.\n    */\n   public kill() {\n      if (this.scene) {\n         this._prekill(this.scene);\n         this.emit('kill', new KillEvent(this));\n         this.scene.remove(this);\n         this._isKilled = true;\n         this._postkill(this.scene);\n      } else {\n         this.logger.warn('Cannot kill actor, it was never added to the Scene');\n      }\n   }\n\n   /**\n    * If the current actor is killed, it will now not be killed. \n    */\n   public unkill() {\n      this._isKilled = false;\n   }\n\n   /**\n    * Indicates wether the actor has been killed.\n    */\n   public isKilled(): boolean {\n      return this._isKilled;\n   }\n\n   /**\n    * Adds a child actor to this actor. All movement of the child actor will be\n    * relative to the parent actor. Meaning if the parent moves the child will\n    * move with it.\n    * @param actor The child actor to add\n    */\n   public add(actor: Actor) {\n      actor.collisionType = CollisionType.PreventCollision;\n      if (Util.addItemToArray(actor, this.children)) {\n         actor.parent = this;\n      }\n   }\n   /**\n    * Removes a child actor from this actor. \n    * @param actor The child actor to remove\n    */\n   public remove(actor: Actor) {\n      if (Util.removeItemFromArray(actor, this.children)) {\n         actor.parent = null;\n      }\n   }\n   /**\n    * Sets the current drawing of the actor to the drawing corresponding to\n    * the key.\n    * @param key The key of the drawing\n    */\n   public setDrawing(key: string): void;\n   /**\n    * Sets the current drawing of the actor to the drawing corresponding to\n    * an `enum` key (e.g. `Animations.Left`)\n    * @param key The `enum` key of the drawing\n    */\n   public setDrawing(key: number): void;\n   public setDrawing(key: any): void {\n      key = key.toString();\n      if (this.currentDrawing !== this.frames[<string>key]) {\n         if (this.frames[key] != null) {\n            this.frames[key].reset();\n            this.currentDrawing = this.frames[key];\n         } else {\n            Logger.getInstance().error('the specified drawing key \\'' + key + '\\' does not exist');\n         }\n      }\n   }\n\n   /**\n    * Adds a whole texture as the \"default\" drawing. Set a drawing using [[setDrawing]].\n    */\n   public addDrawing(texture: Texture): void;\n   /**\n    * Adds a whole sprite as the \"default\" drawing. Set a drawing using [[setDrawing]].\n    */\n   public addDrawing(sprite: Sprite): void;\n   /**\n    * Adds a drawing to the list of available drawings for an actor. Set a drawing using [[setDrawing]].\n    * @param key     The key to associate with a drawing for this actor\n    * @param drawing This can be an [[Animation]], [[Sprite]], or [[Polygon]]. \n    */\n   public addDrawing(key: any, drawing: IDrawable): void;\n   public addDrawing(): void {\n      if (arguments.length === 2) {\n         this.frames[<string>arguments[0]] = arguments[1];\n         if (!this.currentDrawing) {\n            this.currentDrawing = arguments[1];\n         }\n         this._effectsDirty = true;\n      } else {\n         if (arguments[0] instanceof Sprite) {\n            this.addDrawing('default', arguments[0]);\n         }\n         if (arguments[0] instanceof Texture) {\n            this.addDrawing('default', arguments[0].asSprite());\n         }\n      }\n   }\n\n\n   public get z(): number {\n      return this.getZIndex();\n   }\n\n   public set z(newZ: number) {\n      this.setZIndex(newZ);\n   }\n\n   /**\n    * Gets the z-index of an actor. The z-index determines the relative order an actor is drawn in.\n    * Actors with a higher z-index are drawn on top of actors with a lower z-index\n    */\n   public getZIndex(): number {\n      return this._zIndex;\n   }\n\n   /**\n    * Sets the z-index of an actor and updates it in the drawing list for the scene. \n    * The z-index determines the relative order an actor is drawn in.\n    * Actors with a higher z-index are drawn on top of actors with a lower z-index\n    * @param newIndex new z-index to assign\n    */\n   public setZIndex(newIndex: number) {\n      this.scene.cleanupDrawTree(this);\n      this._zIndex = newIndex;\n      this.scene.updateDrawTree(this);\n   }\n\n   /** \n    * Adds an actor to a collision group. Actors with no named collision groups are\n    * considered to be in every collision group.\n    *\n    * Once in a collision group(s) actors will only collide with other actors in \n    * that group.\n    *\n    * @param name The name of the collision group\n    */\n   public addCollisionGroup(name: string) {\n      this.collisionGroups.push(name);\n   }\n   /**\n    * Removes an actor from a collision group.\n    * @param name The name of the collision group\n    */\n   public removeCollisionGroup(name: string) {\n      var index = this.collisionGroups.indexOf(name);\n      if (index !== -1) {\n         this.collisionGroups.splice(index, 1);\n      }\n   }\n\n   /**\n    * Get the center point of an actor\n    */\n   public getCenter(): Vector {\n      return new Vector(this.pos.x + this.getWidth() / 2 - this.anchor.x * this.getWidth(),\n         this.pos.y + this.getHeight() / 2 - this.anchor.y * this.getHeight());\n   }\n   /**\n    * Gets the calculated width of an actor, factoring in scale\n    */\n   public getWidth() {\n      return this._width * this.getGlobalScale().x;\n   }\n   /**\n    * Sets the width of an actor, factoring in the current scale\n    */\n   public setWidth(width: number) {\n      this._width = width / this.scale.x;\n   }\n   /**\n    * Gets the calculated height of an actor, factoring in scale\n    */\n   public getHeight() {\n      return this._height * this.getGlobalScale().y;\n   }\n   /**\n    * Sets the height of an actor, factoring in the current scale\n    */\n   public setHeight(height: number) {\n      this._height = height / this.scale.y;\n   }\n   /**\n    * Gets the left edge of the actor\n    */\n   public getLeft() {\n      return this.getBounds().left;\n   }\n   /**\n    * Gets the right edge of the actor\n    */\n   public getRight() {\n      return this.getBounds().right;\n   }\n   /**\n    * Gets the top edge of the actor\n    */\n   public getTop() {\n      return this.getBounds().top;\n   }\n   /**\n    * Gets the bottom edge of the actor\n    */\n   public getBottom() {\n      return this.getBounds().bottom;\n   }\n\n   /**\n    * Gets this actor's rotation taking into account any parent relationships\n    * \n    * @returns Rotation angle in radians\n    */\n   public getWorldRotation(): number {\n      if (!this.parent) {\n         return this.rotation;\n      }\n\n      return this.rotation + this.parent.getWorldRotation();\n   }\n\n   /**\n    * Gets an actor's world position taking into account parent relationships, scaling, rotation, and translation\n    * \n    * @returns Position in world coordinates\n    */\n   public getWorldPos(): Vector {\n      if (!this.parent) {\n         return this.pos.clone();\n      }\n\n      // collect parents                  \n      var parents: Actor[] = [];\n      var root: Actor = this;\n\n      parents.push(this);\n\n      // find parents\n      while (root.parent) {\n         root = root.parent;\n         parents.push(root);\n      }\n\n      // calculate position       \n      var x = parents.reduceRight((px, p) => {\n         if (p.parent) {\n            return px + (p.pos.x * p.getGlobalScale().x);\n         }\n         return px + p.pos.x;\n      }, 0);\n\n      var y = parents.reduceRight((py, p) => {\n         if (p.parent) {\n            return py + (p.pos.y * p.getGlobalScale().y);\n         }\n         return py + p.pos.y;\n      }, 0);\n\n      // rotate around root anchor\n      var ra = root.getWorldPos(); // 10, 10\n      var r = this.getWorldRotation();\n\n      return new Vector(x, y).rotate(r, ra);\n   }\n\n   /**\n    * Gets the global scale of the Actor\n    */\n   public getGlobalScale(): Vector {\n      if (!this.parent) {\n         return new Vector(this.scale.x, this.scale.y);\n      }\n\n      var parentScale = this.parent.getGlobalScale();\n      return new Vector(this.scale.x * parentScale.x, this.scale.y * parentScale.y);\n   }\n\n   // #region Collision\n\n   /**\n    * Returns the actor's [[BoundingBox]] calculated for this instant in world space.\n    */\n   public getBounds(): BoundingBox {\n      // todo cache bounding box\n      var anchor = this._getCalculatedAnchor();\n      var pos = this.getWorldPos();\n\n      return new BoundingBox(pos.x - anchor.x,\n         pos.y - anchor.y,\n         pos.x + this.getWidth() - anchor.x,\n         pos.y + this.getHeight() - anchor.y).rotate(this.rotation, pos);\n   }\n\n   /**\n    * Returns the actor's [[BoundingBox]] relative to the actors position.\n    */\n   public getRelativeBounds() {\n      // todo cache bounding box\n      var anchor = this._getCalculatedAnchor();\n      return new BoundingBox(-anchor.x,\n         -anchor.y,\n         this.getWidth() - anchor.x,\n         this.getHeight() - anchor.y).rotate(this.rotation);\n   }\n\n\n   /**\n    * Tests whether the x/y specified are contained in the actor\n    * @param x  X coordinate to test (in world coordinates)\n    * @param y  Y coordinate to test (in world coordinates)\n    * @param recurse checks whether the x/y are contained in any child actors (if they exist).\n    */\n   public contains(x: number, y: number, recurse: boolean = false): boolean {\n      var containment = this.getBounds().contains(new Vector(x, y));\n\n      if (recurse) {\n\n         return containment || this.children.some((child: Actor) => {\n            return child.contains(x, y, true);\n         });\n      }\n\n      return containment;\n   }\n\n   /**\n    * Returns the side of the collision based on the intersection \n    * @param intersect The displacement vector returned by a collision\n    */\n   public getSideFromIntersect(intersect: Vector) {\n      if (intersect) {\n         if (Math.abs(intersect.x) > Math.abs(intersect.y)) {\n            if (intersect.x < 0) {\n               return Side.Right;\n            }\n            return Side.Left;\n         } else {\n            if (intersect.y < 0) {\n               return Side.Bottom;\n            }\n            return Side.Top;\n         }\n      }\n      return Side.None;\n   }\n   /**\n    * Test whether the actor has collided with another actor, returns the side of the current actor that collided.\n    * @param actor The other actor to test\n    */\n   public collidesWithSide(actor: Actor): Side {\n      var separationVector = this.collides(actor);\n      if (!separationVector) {\n         return Side.None;\n      }\n      if (Math.abs(separationVector.x) > Math.abs(separationVector.y)) {\n         if (this.pos.x < actor.pos.x) {\n            return Side.Right;\n         } else {\n            return Side.Left;\n         }\n      } else {\n         if (this.pos.y < actor.pos.y) {\n            return Side.Bottom;\n         } else {\n            return Side.Top;\n         }\n      }\n   }\n   /**\n    * Test whether the actor has collided with another actor, returns the intersection vector on collision. Returns\n    * `null` when there is no collision;\n    * @param actor The other actor to test\n    */\n   public collides(actor: Actor): Vector {\n      var bounds = this.getBounds();\n      var otherBounds = actor.getBounds();\n      var intersect = bounds.collides(otherBounds);\n      return intersect;\n   }\n   /**\n    * Register a handler to fire when this actor collides with another in a specified group\n    * @param group The group name to listen for\n    * @param func The callback to fire on collision with another actor from the group. The callback is passed the other actor.\n    */\n   public onCollidesWith(group: string, func: (actor: Actor) => void) {\n      if (!this._collisionHandlers[group]) {\n         this._collisionHandlers[group] = [];\n      }\n      this._collisionHandlers[group].push(func);\n   }\n   public getCollisionHandlers(): { [key: string]: { (actor: Actor): void }[]; } {\n      return this._collisionHandlers;\n   }\n   /**\n    * Removes all collision handlers for this group on this actor\n    * @param group Group to remove all handlers for on this actor.\n    */\n   public removeCollidesWith(group: string) {\n      this._collisionHandlers[group] = [];\n   }\n   /**\n    * Returns true if the two actors are less than or equal to the distance specified from each other\n    * @param actor     Actor to test\n    * @param distance  Distance in pixels to test\n    */\n   public within(actor: Actor, distance: number): boolean {\n      return Math.sqrt(Math.pow(this.pos.x - actor.pos.x, 2) + Math.pow(this.pos.y - actor.pos.y, 2)) <= distance;\n   }\n\n   // #endregion\n\n   private _getCalculatedAnchor(): Vector {\n      return new Vector(this.getWidth() * this.anchor.x, this.getHeight() * this.anchor.y);\n   }\n\n   protected _reapplyEffects(drawing: IDrawable) {\n      drawing.removeEffect(this._opacityFx);\n      drawing.addEffect(this._opacityFx);\n   }\n\n   // #region Update\n   /**\n    * Perform euler integration at the specified time step\n    */\n   public integrate(delta: number) {\n      // Update placements based on linear algebra\n      var seconds = delta / 1000;\n\n      var totalAcc = this.acc.clone();\n      // Only active vanilla actors are affected by global acceleration\n      if (this.collisionType === CollisionType.Active) {\n         totalAcc.addEqual(Physics.acc);\n      }\n\n      this.vel.addEqual(totalAcc.scale(seconds));\n      this.pos.addEqual(this.vel.scale(seconds)).addEqual(totalAcc.scale(0.5 * seconds * seconds));\n\n      this.rx += this.torque * (1.0 / this.moi) * seconds;\n      this.rotation += this.rx * seconds;\n\n      this.scale.x += this.sx * delta / 1000;\n      this.scale.y += this.sy * delta / 1000;\n\n      // Update physics body\n      this.body.update();\n   }\n\n   /**\n    * Called by the Engine, updates the state of the actor\n    * @param engine The reference to the current game engine\n    * @param delta  The time elapsed since the last update in milliseconds\n    */\n   public update(engine: Engine, delta: number) {\n      this._initialize(engine);\n      this._preupdate(engine, delta);\n\n      // Update action queue\n      this.actionQueue.update(delta);\n\n      // Update color only opacity\n      if (this.color) {\n         this.color.a = this.opacity;\n      }\n\n      // calculate changing opacity\n      if (this.previousOpacity !== this.opacity) {\n         this.previousOpacity = this.opacity;\n         this._opacityFx.opacity = this.opacity;\n         this._effectsDirty = true;\n      }\n\n      // Capture old values before integration step updates them\n      this.oldVel.setTo(this.vel.x, this.vel.y);\n      this.oldPos.setTo(this.pos.x, this.pos.y);\n\n      // Run Euler integration\n      this.integrate(delta);\n\n      // Update actor pipeline (movement, collision detection, event propagation, offscreen culling)\n      for (const trait of this.traits) {\n         trait.update(this, engine, delta);\n      }\n\n      // Update child actors\n      for (let i = 0; i < this.children.length; i++) {\n         this.children[i].update(engine, delta);\n      }\n\n      this._postupdate(engine, delta);\n   }\n\n   /**\n    * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n    * \n    * `onPreUpdate` is called directly before an actor is updated.\n    */\n   public onPreUpdate(_engine: Engine, _delta: number): void {\n      // Override me\n   }\n\n   /**\n    * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('postupdate', (evt) =>{...})`\n    * \n    * `onPostUpdate` is called directly after an actor is updated.\n    */\n   public onPostUpdate(_engine: Engine, _delta: number): void {\n      // Override me\n   }\n   \n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _preupdate handler for [[onPreUpdate]] lifecycle event\n    * @internal\n    */\n   public _preupdate(engine: Engine, delta: number): void {      \n      this.emit('preupdate', new PreUpdateEvent(engine, delta, this));\n      this.onPreUpdate(engine, delta);\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _preupdate handler for [[onPostUpdate]] lifecycle event\n    * @internal\n    */\n   public _postupdate(engine: Engine, delta: number): void {      \n      this.emit('postupdate', new PreUpdateEvent(engine, delta, this));\n      this.onPostUpdate(engine, delta);\n   }\n\n   // endregion\n\n   // #region Drawing\n   /**\n    * Called by the Engine, draws the actor to the screen\n    * @param ctx   The rendering context\n    * @param delta The time since the last draw in milliseconds\n    */\n   public draw(ctx: CanvasRenderingContext2D, delta: number) {\n      ctx.save();\n      ctx.translate(this.pos.x, this.pos.y);\n      ctx.rotate(this.rotation);\n      ctx.scale(this.scale.x, this.scale.y);\n\n      // translate canvas by anchor offset\n      ctx.save();\n      ctx.translate(-(this._width * this.anchor.x), -(this._height * this.anchor.y));\n\n      this._predraw(ctx, delta);\n\n      if (this.currentDrawing) {\n         var drawing = this.currentDrawing;\n         // See https://github.com/excaliburjs/Excalibur/pull/619 for discussion on this formula          \n         var offsetX = (this._width - drawing.width * drawing.scale.x) * this.anchor.x;\n         var offsetY = (this._height - drawing.height * drawing.scale.y) * this.anchor.y;\n\n         if (this._effectsDirty) {\n            this._reapplyEffects(this.currentDrawing);\n            this._effectsDirty = false;\n         }\n\n         this.currentDrawing.draw(ctx, offsetX, offsetY);\n      } else {\n         if (this.color) {\n            ctx.fillStyle = this.color.toString();\n            ctx.fillRect(0, 0, this._width, this._height);\n         }\n      }\n      ctx.restore();\n\n      // Draw child actors\n      for (var i = 0; i < this.children.length; i++) {\n         if (this.children[i].visible) {\n            this.children[i].draw(ctx, delta);\n         }\n      }\n\n      \n      this._postdraw(ctx, delta);\n      ctx.restore();\n   }\n\n   /**\n    * Safe to override onPreDraw lifecycle event handler. Synonymous with `.on('predraw', (evt) =>{...})`\n    * \n    * `onPreDraw` is called directly before an actor is drawn, but after local transforms are made.\n    */\n   public onPreDraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n      // Override me\n   }\n\n   /**\n    * Safe to override onPostDraw lifecycle event handler. Synonymous with `.on('postdraw', (evt) =>{...})`\n    * \n    * `onPostDraw` is called directly after an actor is drawn, and before local transforms are removed.\n    */\n   public onPostDraw(_ctx: CanvasRenderingContext2D, _delta: number): void {\n      // Override me\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _predraw handler for [[onPreDraw]] lifecycle event\n    * @internal\n    */\n   public _predraw(ctx: CanvasRenderingContext2D, delta: number): void {      \n      this.emit('predraw', new PreDrawEvent(ctx, delta, this));\n      this.onPreDraw(ctx, delta);\n   }\n\n   /**\n    * It is not recommended that internal excalibur methods be overriden, do so at your own risk.\n    * \n    * Internal _postdraw handler for [[onPostDraw]] lifecycle event\n    * @internal\n    */\n   public _postdraw(ctx: CanvasRenderingContext2D, delta: number): void {\n      this.emit('postdraw', new PreDrawEvent(ctx, delta, this));\n      this.onPostDraw(ctx, delta);\n   }\n\n   /**\n    * Called by the Engine, draws the actors debugging to the screen\n    * @param ctx The rendering context\n    */\n   /* istanbul ignore next */\n   public debugDraw(ctx: CanvasRenderingContext2D) {\n      this.emit('predebugdraw', new PreDebugDrawEvent(ctx, this));\n\n      this.body.debugDraw(ctx);\n\n      // Draw actor bounding box\n      var bb = this.getBounds();\n      bb.debugDraw(ctx);\n\n\n      // Draw actor Id\n      ctx.fillText('id: ' + this.id, bb.left + 3, bb.top + 10);\n\n      // Draw actor anchor Vector\n      ctx.fillStyle = Color.Yellow.toString();\n      ctx.beginPath();\n      ctx.arc(this.getWorldPos().x, this.getWorldPos().y, 3, 0, Math.PI * 2);\n      ctx.closePath();\n      ctx.fill();\n\n      // Culling Box debug draw\n      for (var j = 0; j < this.traits.length; j++) {\n         if (this.traits[j] instanceof Traits.OffscreenCulling) {\n            (<Traits.OffscreenCulling>this.traits[j]).cullingBox.debugDraw(ctx);\n         }\n      }\n\n      // Unit Circle debug draw\n      ctx.strokeStyle = Color.Yellow.toString();\n      ctx.beginPath();\n      var radius = Math.min(this.getWidth(), this.getHeight());\n      ctx.arc(this.getWorldPos().x, this.getWorldPos().y, radius, 0, Math.PI * 2);\n      ctx.closePath();\n      ctx.stroke();\n      var ticks: { [key: string]: number } = {\n         '0 Pi': 0,\n         'Pi/2': Math.PI / 2,\n         'Pi': Math.PI,\n         '3/2 Pi': 3 * Math.PI / 2\n      };\n\n      var oldFont = ctx.font;\n      for (var tick in ticks) {\n         ctx.fillStyle = Color.Yellow.toString();\n         ctx.font = '14px';\n         ctx.textAlign = 'center';\n         ctx.fillText(tick, this.getWorldPos().x + Math.cos(ticks[tick]) * (radius + 10),\n            this.getWorldPos().y + Math.sin(ticks[tick]) * (radius + 10));\n      }\n\n      ctx.font = oldFont;\n\n      // Draw child actors\n      for (var i = 0; i < this.children.length; i++) {\n         this.children[i].debugDraw(ctx);\n      }\n\n      this.emit('postdebugdraw', new PostDebugDrawEvent(ctx, this));\n   }\n\n   // #endregion\n}\n\n\n/**\n * The most important primitive in Excalibur is an `Actor`. Anything that\n * can move on the screen, collide with another `Actor`, respond to events, \n * or interact with the current scene, must be an actor. An `Actor` **must**\n * be part of a [[Scene]] for it to be drawn to the screen.\n *\n * [[include:Actors.md]]\n * \n * \n * [[include:Constructors.md]]\n *\n */\nexport class Actor extends Configurable(ActorImpl) {\n   constructor();\n   constructor(config?: IActorArgs);\n   constructor(x?: number, y?: number, width?: number, height?: number, color?: Color);\n   constructor(xOrConfig?: number | IActorArgs, y?: number, width?: number, height?: number, color?: Color) {\n      super(xOrConfig, y, width, height, color);\n   }\n}\n\n\n/**\n * An enum that describes the types of collisions actors can participate in\n */\nexport enum CollisionType {\n   /**\n    * Actors with the `PreventCollision` setting do not participate in any\n    * collisions and do not raise collision events.\n    */\n   PreventCollision,\n   /**\n    * Actors with the `Passive` setting only raise collision events, but are not\n    * influenced or moved by other actors and do not influence or move other actors.\n    */\n   Passive,\n   /**\n    * Actors with the `Active` setting raise collision events and participate\n    * in collisions with other actors and will be push or moved by actors sharing\n    * the `Active` or `Fixed` setting.\n    */\n   Active,\n   /**\n    * Actors with the `Fixed` setting raise collision events and participate in\n    * collisions with other actors. Actors with the `Fixed` setting will not be\n    * pushed or moved by other actors sharing the `Fixed`. Think of Fixed\n    * actors as \"immovable/onstoppable\" objects. If two `Fixed` actors meet they will\n    * not be pushed or moved by each other, they will not interact except to throw\n    * collision events.\n    */\n   Fixed\n}","import { RotationType } from './RotationType';\n\nimport { Actor } from '../Actor';\nimport { Vector } from '../Algebra';\nimport { Logger } from '../Util/Log';\nimport * as Util from '../Util/Util';\n\n/**\n * Used for implementing actions for the [[ActionContext|Action API]].\n */\nexport interface IAction {\n   update(delta: number): void;\n   isComplete(actor: Actor): boolean;\n   reset(): void;\n   stop(): void;\n}\n\nexport class EaseTo implements IAction {\n   private _currentLerpTime: number = 0;\n   private _lerpDuration: number = 1 * 1000; // 1 second\n   private _lerpStart: Vector = new Vector(0, 0);\n   private _lerpEnd: Vector = new Vector(0, 0);\n   private _initialized: boolean = false;\n   private _stopped: boolean = false;\n   private _distance: number = 0;\n   constructor(public actor: Actor, \n               x: number, \n               y: number, \n               duration: number, \n               public easingFcn: (currentTime: number, startValue: number, endValue: number, duration: number) => number) {\n      this._lerpDuration = duration;\n      this._lerpEnd = new Vector(x, y);\n   }\n   private _initialize() {\n      this._lerpStart = new Vector(this.actor.pos.x, this.actor.pos.y);\n      this._currentLerpTime = 0;\n      this._distance = this._lerpStart.distance(this._lerpEnd);\n   }\n\n   public update(delta: number): void {\n      if (!this._initialized) {\n         this._initialize();\n         this._initialized = true;\n      }\n\n      var newX = this.actor.pos.x;\n      var newY = this.actor.pos.y;\n      if (this._currentLerpTime < this._lerpDuration) {\n\n         if (this._lerpEnd.x < this._lerpStart.x) {\n            newX = this._lerpStart.x - (this.easingFcn(this._currentLerpTime, \n                                                         this._lerpEnd.x, \n                                                         this._lerpStart.x, \n                                                         this._lerpDuration) - this._lerpEnd.x);\n         } else {\n            newX = this.easingFcn(this._currentLerpTime, this._lerpStart.x, this._lerpEnd.x, this._lerpDuration);\n         }\n\n         if (this._lerpEnd.y < this._lerpStart.y) {\n            newY = this._lerpStart.y - (this.easingFcn(this._currentLerpTime, \n                                                         this._lerpEnd.y, \n                                                         this._lerpStart.y, \n                                                         this._lerpDuration) - this._lerpEnd.y);\n         } else {\n            newY = this.easingFcn(this._currentLerpTime, this._lerpStart.y, this._lerpEnd.y, this._lerpDuration);\n         }\n         this.actor.pos.x = newX;\n         this.actor.pos.y = newY;\n\n         this._currentLerpTime += delta;\n\n      } else {\n         this.actor.pos.x = this._lerpEnd.x;\n         this.actor.pos.y = this._lerpEnd.y;\n         //this._lerpStart = null;\n         //this._lerpEnd = null;\n         //this._currentLerpTime = 0;\n      }\n\n   }\n   public isComplete(actor: Actor): boolean {\n      return this._stopped || (new Vector(actor.pos.x, actor.pos.y)).distance(this._lerpStart) >= this._distance;\n   }\n\n   public reset(): void {\n      this._initialized = false;\n   }\n   public stop(): void {\n      this._stopped = true;\n   }\n}\n\nexport class MoveTo implements IAction {\n   private _actor: Actor;\n   public x: number;\n   public y: number;\n   private _start: Vector;\n   private _end: Vector;\n   private _dir: Vector;\n   private _speed: number;\n   private _distance: number;\n   private _started = false;\n   private _stopped = false;\n   constructor(actor: Actor, destx: number, desty: number, speed: number) {\n      this._actor = actor;\n      this._end = new Vector(destx, desty);\n      this._speed = speed;\n   }\n\n   public update(_delta: number): void {\n      if (!this._started) {\n         this._started = true;\n         this._start = new Vector(this._actor.pos.x, this._actor.pos.y);\n         this._distance = this._start.distance(this._end);\n         this._dir = this._end.sub(this._start).normalize();\n      }\n      var m = this._dir.scale(this._speed);\n      this._actor.vel.x = m.x;\n      this._actor.vel.y = m.y;\n      \n      if (this.isComplete(this._actor)) {\n         this._actor.pos.x = this._end.x;\n         this._actor.pos.y = this._end.y;\n         this._actor.vel.y = 0;\n         this._actor.vel.x = 0;\n      }\n   }\n\n   public isComplete(actor: Actor): boolean {\n      return this._stopped || (new Vector(actor.pos.x, actor.pos.y)).distance(this._start) >= this._distance;\n   }\n\n   public stop(): void {\n      this._actor.vel.y = 0;\n      this._actor.vel.x = 0;\n      this._stopped = true;\n   }\n\n   public reset(): void {\n      this._started = false;\n   }\n}\n\nexport class MoveBy implements IAction {\n   private _actor: Actor;\n   public x: number;\n   public y: number;\n   private _distance: number;\n   private _speed: number;\n   private _time: number;\n\n   private _start: Vector;\n   private _end: Vector;\n   private _dir: Vector;\n   private _started = false;\n   private _stopped = false;\n   constructor(actor: Actor, destx: number, desty: number, time: number) {\n      this._actor = actor;\n      this._end = new Vector(destx, desty);\n      if (time <= 0) {\n         Logger.getInstance().error('Attempted to moveBy time less than or equal to zero : ' + time);\n         throw new Error('Cannot move in time <= 0');\n      }\n      this._time = time;\n\n   }\n\n   public update(_delta: number) {\n      if (!this._started) {\n         this._started = true;\n         this._start = new Vector(this._actor.pos.x, this._actor.pos.y);\n         this._distance = this._start.distance(this._end);\n         this._dir = this._end.sub(this._start).normalize();\n         this._speed = this._distance / (this._time / 1000);\n      }\n\n      var m = this._dir.scale(this._speed);\n      this._actor.vel.x = m.x;\n      this._actor.vel.y = m.y;\n\n      \n      if (this.isComplete(this._actor)) {\n         this._actor.pos.x = this._end.x;\n         this._actor.pos.y = this._end.y;\n         this._actor.vel.y = 0;\n         this._actor.vel.x = 0;\n      }\n   }\n\n   public isComplete(actor: Actor): boolean {\n      return this._stopped || (new Vector(actor.pos.x, actor.pos.y)).distance(this._start) >= this._distance;\n   }\n\n   public stop(): void {\n      this._actor.vel.y = 0;\n      this._actor.vel.x = 0;\n      this._stopped = true;\n   }\n\n   public reset(): void {\n      this._started = false;\n   }\n}\n\nexport class Follow implements IAction {\n   private _actor : Actor;\n   private _actorToFollow : Actor;\n   public x : number;\n   public y : number;\n   private _current : Vector;\n   private _end : Vector;\n   private _dir : Vector;\n   private _speed : number;\n   private _maximumDistance : number;\n   private _distanceBetween : number;\n   private _started = false;\n   private _stopped = false;\n\n   constructor(actor: Actor, actorToFollow : Actor, followDistance? : number) {\n      this._actor = actor;\n      this._actorToFollow = actorToFollow;\n      this._current = new Vector(this._actor.pos.x, this._actor.pos.y);\n      this._end = new Vector(actorToFollow.pos.x, actorToFollow.pos.y);\n      this._maximumDistance = (followDistance !== undefined) ? followDistance : this._current.distance(this._end);\n      this._speed = 0;\n   }\n\n   public update(_delta: number) : void {\n      if (!this._started) {\n         this._started = true;\n         this._distanceBetween = this._current.distance(this._end);\n         this._dir = this._end.sub(this._current).normalize();\n      }\n      \n      var actorToFollowSpeed = Math.sqrt(Math.pow(this._actorToFollow.vel.x, 2) + Math.pow(this._actorToFollow.vel.y, 2));\n      if (actorToFollowSpeed !== 0) {\n         this._speed = actorToFollowSpeed;\n      }\n      this._current.x = this._actor.pos.x;\n      this._current.y = this._actor.pos.y;\n\n      this._end.x = this._actorToFollow.pos.x;\n      this._end.y = this._actorToFollow.pos.y;\n      this._distanceBetween = this._current.distance(this._end);\n      this._dir = this._end.sub(this._current).normalize();\n\n      if (this._distanceBetween >= this._maximumDistance) {\n         var m = this._dir.scale(this._speed);\n         this._actor.vel.x = m.x;\n         this._actor.vel.y = m.y;\n      } else {\n         this._actor.vel.x = 0;\n         this._actor.vel.y = 0;\n      }\n\n      if (this.isComplete()) {\n         // TODO this should never occur\n         this._actor.pos.x = this._end.x;\n         this._actor.pos.y = this._end.y;\n         this._actor.vel.y = 0;\n         this._actor.vel.x = 0;\n      }\n   }\n\n   public stop(): void {\n         this._actor.vel.y = 0;\n         this._actor.vel.x = 0;\n         this._stopped = true;\n   }\n\n   public isComplete() : boolean {\n      // the actor following should never stop unless specified to do so\n      return this._stopped;\n   }\n\n   public reset() : void {\n      this._started = false;\n   }\n}\n\nexport class Meet implements IAction {\n   private _actor : Actor;\n   private _actorToMeet : Actor;\n   public x : number;\n   public y : number;\n   private _current : Vector;\n   private _end : Vector;\n   private _dir : Vector;\n   private _speed : number;\n   private _distanceBetween : number;\n   private _started = false;\n   private _stopped = false;\n   private _speedWasSpecified = false;\n\n   constructor(actor: Actor, actorToMeet : Actor, speed? : number) {\n      this._actor = actor;\n      this._actorToMeet = actorToMeet;\n      this._current = new Vector(this._actor.pos.x, this._actor.pos.y);\n      this._end = new Vector(actorToMeet.pos.x, actorToMeet.pos.y);\n      this._speed = speed || 0;\n\n      if (speed !== undefined) {\n         this._speedWasSpecified = true;\n      }\n   }\n\n   public update(_delta: number) : void {\n      if (!this._started) {\n         this._started = true;\n         this._distanceBetween = this._current.distance(this._end);\n         this._dir = this._end.sub(this._current).normalize();\n      }\n\n      var actorToMeetSpeed = Math.sqrt(Math.pow(this._actorToMeet.vel.x, 2) + Math.pow(this._actorToMeet.vel.y, 2));\n      if ((actorToMeetSpeed !== 0) && (!this._speedWasSpecified)) {\n         this._speed = actorToMeetSpeed;\n      }\n      this._current.x = this._actor.pos.x;\n      this._current.y = this._actor.pos.y;\n\n      this._end.x = this._actorToMeet.pos.x;\n      this._end.y = this._actorToMeet.pos.y;\n      this._distanceBetween = this._current.distance(this._end);\n      this._dir = this._end.sub(this._current).normalize();\n\n      var m = this._dir.scale(this._speed);\n      this._actor.vel.x = m.x;\n      this._actor.vel.y = m.y;\n\n      if (this.isComplete()) {\n         \n         this._actor.pos.x = this._end.x;\n         this._actor.pos.y = this._end.y;\n         this._actor.vel.y = 0;\n         this._actor.vel.x = 0;\n      }\n   }\n\n   public isComplete() : boolean {\n      return this._stopped || (this._distanceBetween <= 1);\n   }\n\n   public stop(): void {\n      this._actor.vel.y = 0;\n      this._actor.vel.x = 0;\n      this._stopped = true;\n   }\n\n   public reset() : void {\n      this._started = false;\n   }\n}\n\nexport class RotateTo implements IAction {\n   private _actor: Actor;\n   public x: number;\n   public y: number;\n   private _start: number;\n   private _end: number;\n   private _speed: number;\n   private _rotationType: RotationType;\n   private _direction: number;\n   private _distance: number;\n   private _shortDistance: number;\n   private _longDistance: number;\n   private _shortestPathIsPositive: boolean;\n   private _started = false;\n   private _stopped = false;\n   constructor(actor: Actor, angleRadians: number, speed: number, rotationType?: RotationType) {\n      this._actor = actor;\n      this._end = angleRadians;\n      this._speed = speed;\n      this._rotationType = rotationType || RotationType.ShortestPath;\n   }\n\n   public update(_delta: number): void {\n      if (!this._started) {\n         this._started = true;\n         this._start = this._actor.rotation;\n         var distance1 = Math.abs(this._end - this._start);\n         var distance2 = Util.TwoPI - distance1;\n         if (distance1 > distance2) {\n            this._shortDistance = distance2;\n            this._longDistance = distance1;\n         } else {\n            this._shortDistance = distance1;\n            this._longDistance = distance2;\n         }\n\n         this._shortestPathIsPositive = (this._start - this._end + Util.TwoPI) % Util.TwoPI >= Math.PI;\n\n         switch (this._rotationType) {\n            case RotationType.ShortestPath:\n               this._distance = this._shortDistance;\n               if (this._shortestPathIsPositive) {\n                  this._direction = 1;\n               } else {\n                  this._direction = -1;\n               }\n               break;\n            case RotationType.LongestPath:\n               this._distance = this._longDistance;\n               if (this._shortestPathIsPositive) {\n                  this._direction = -1;\n               } else {\n                  this._direction = 1;\n               }\n               break;\n            case RotationType.Clockwise:\n               this._direction = 1;\n               if (this._shortestPathIsPositive) {\n                  this._distance = this._shortDistance;\n               } else {\n                  this._distance = this._longDistance;\n               }\n               break;\n            case RotationType.CounterClockwise:\n               this._direction = -1;\n               if (!this._shortestPathIsPositive) {\n                  this._distance = this._shortDistance;\n               } else {\n                  this._distance = this._longDistance;\n               }\n               break;\n         }\n      }\n\n      this._actor.rx = this._direction * this._speed;\n      \n      if (this.isComplete()) {\n         this._actor.rotation = this._end;\n         this._actor.rx = 0;\n         this._stopped = true;\n      }\n   }\n\n   public isComplete(): boolean {\n      var distanceTravelled = Math.abs(this._actor.rotation - this._start);\n      return this._stopped || (distanceTravelled >= Math.abs(this._distance));\n   }\n\n   public stop(): void {\n      this._actor.rx = 0;\n      this._stopped = true;\n   }\n\n   public reset(): void {\n      this._started = false;\n   }\n}\n\nexport class RotateBy implements IAction {\n   private _actor: Actor;\n   public x: number;\n   public y: number;\n   private _start: number;\n   private _end: number;\n   private _speed: number;\n   private _time: number;\n   private _rotationType: RotationType;\n   private _direction: number;\n   private _distance: number;\n   private _shortDistance: number;\n   private _longDistance: number;\n   private _shortestPathIsPositive: boolean;\n   private _started = false;\n   private _stopped = false;\n   constructor(actor: Actor, angleRadians: number, time: number, rotationType?: RotationType) {\n      this._actor = actor;\n      this._end = angleRadians;\n      this._time = time;\n      this._rotationType = rotationType || RotationType.ShortestPath;\n   }\n\n   public update(_delta: number): void {\n      if (!this._started) {\n         this._started = true;\n         this._start = this._actor.rotation;\n         var distance1 = Math.abs(this._end - this._start);\n         var distance2 = Util.TwoPI - distance1;\n         if (distance1 > distance2) {\n            this._shortDistance = distance2;\n            this._longDistance = distance1;\n         } else {\n            this._shortDistance = distance1;\n            this._longDistance = distance2;\n         }\n\n         this._shortestPathIsPositive = (this._start - this._end + Util.TwoPI) % Util.TwoPI >= Math.PI;\n\n         switch (this._rotationType) {\n            case RotationType.ShortestPath:\n               this._distance = this._shortDistance;\n               if (this._shortestPathIsPositive) {\n                  this._direction = 1;\n               } else {\n                  this._direction = -1;\n               }\n               break;\n            case RotationType.LongestPath:\n               this._distance = this._longDistance;\n               if (this._shortestPathIsPositive) {\n                  this._direction = -1;\n               } else {\n                  this._direction = 1;\n               }\n               break;\n            case RotationType.Clockwise:\n               this._direction = 1;\n               if (this._shortDistance >= 0) {\n                  this._distance = this._shortDistance;\n               } else {\n                  this._distance = this._longDistance;\n               }\n               break;\n            case RotationType.CounterClockwise:\n               this._direction = -1;\n               if (this._shortDistance <= 0) {\n                  this._distance = this._shortDistance;\n               } else {\n                  this._distance = this._longDistance;\n               }\n               break;\n         }\n         this._speed = Math.abs(this._distance / this._time * 1000);\n      }\n\n      this._actor.rx = this._direction * this._speed;\n\n      \n      if (this.isComplete()) {\n         this._actor.rotation = this._end;\n         this._actor.rx = 0;\n         this._stopped = true;\n      }\n   }\n\n   public isComplete(): boolean {\n      var distanceTravelled = Math.abs(this._actor.rotation - this._start);\n      return this._stopped || (distanceTravelled >= Math.abs(this._distance));\n   }\n\n   public stop(): void {\n      this._actor.rx = 0;\n      this._stopped = true;\n   }\n\n   public reset(): void {\n      this._started = false;\n   }\n}\n\nexport class ScaleTo implements IAction {\n   private _actor: Actor;\n   public x: number;\n   public y: number;\n   private _startX: number;\n   private _startY: number;\n   private _endX: number;\n   private _endY: number;\n   private _speedX: number;\n   private _speedY: number;\n   private _distanceX: number;\n   private _distanceY: number;\n   private _started = false;\n   private _stopped = false;\n   constructor(actor: Actor, scaleX: number, scaleY: number, speedX: number, speedY: number) {\n      this._actor = actor;\n      this._endX = scaleX;\n      this._endY = scaleY;\n      this._speedX = speedX;\n      this._speedY = speedY;\n\n   }\n\n   public update(_delta: number): void {\n      if (!this._started) {\n         this._started = true;\n         this._startX = this._actor.scale.x;\n         this._startY = this._actor.scale.y;\n         this._distanceX = Math.abs(this._endX - this._startX);\n         this._distanceY = Math.abs(this._endY - this._startY);\n      }\n\n      if (!(Math.abs(this._actor.scale.x - this._startX) >= this._distanceX)) {\n         var directionX = this._endY < this._startY ? -1 : 1;\n         this._actor.sx = this._speedX * directionX;\n      } else {\n         this._actor.sx = 0;\n      }\n      \n      if (!(Math.abs(this._actor.scale.y - this._startY) >= this._distanceY)) {\n         var directionY = this._endY < this._startY ? -1 : 1;\n         this._actor.sy = this._speedY * directionY;\n      } else {\n         this._actor.sy = 0;\n      }\n\n      \n      if (this.isComplete()) {\n         this._actor.scale.x = this._endX;\n         this._actor.scale.y = this._endY;\n         this._actor.sx = 0;\n         this._actor.sy = 0;\n      }\n   }\n\n   public isComplete(): boolean {\n      return this._stopped || ((Math.abs(this._actor.scale.y - this._startX) >= this._distanceX) && \n                                 (Math.abs(this._actor.scale.y - this._startY) >= this._distanceY));\n   }\n\n   public stop(): void {\n      this._actor.sx = 0;\n      this._actor.sy = 0;\n      this._stopped = true;\n   }\n\n   public reset(): void {\n      this._started = false;\n   }\n}\n\nexport class ScaleBy implements IAction {\n   private _actor: Actor;\n   public x: number;\n   public y: number;\n   private _startX: number;\n   private _startY: number;\n   private _endX: number;\n   private _endY: number;\n   private _distanceX: number;\n   private _distanceY: number;\n   private _started = false;\n   private _stopped = false;\n   private _speedX: number;\n   private _speedY: number;\n   constructor(actor: Actor, scaleX: number, scaleY: number, time: number) {\n      this._actor = actor;\n      this._endX = scaleX;\n      this._endY = scaleY;\n      this._speedX = (this._endX - this._actor.scale.x) / time * 1000;\n      this._speedY = (this._endY - this._actor.scale.y) / time * 1000;\n   }\n\n   public update(_delta: number): void {\n      if (!this._started) {\n         this._started = true;\n         this._startX = this._actor.scale.x;\n         this._startY = this._actor.scale.y;\n         this._distanceX = Math.abs(this._endX - this._startX);\n         this._distanceY = Math.abs(this._endY - this._startY);\n      }\n      var directionX = this._endX < this._startX ? -1 : 1;\n      var directionY = this._endY < this._startY ? -1 : 1;\n      this._actor.sx = this._speedX * directionX;\n      this._actor.sy = this._speedY * directionY;\n\n      \n      if (this.isComplete()) {\n         this._actor.scale.x = this._endX;\n         this._actor.scale.y = this._endY;\n         this._actor.sx = 0;\n         this._actor.sy = 0;\n      }\n   }\n\n   public isComplete(): boolean {\n      return this._stopped || ((Math.abs(this._actor.scale.x - this._startX) >= this._distanceX) && \n                                 (Math.abs(this._actor.scale.y - this._startY) >= this._distanceY));\n   }\n\n   public stop(): void {\n      this._actor.sx = 0;\n      this._actor.sy = 0;\n      this._stopped = true;\n   }\n\n   public reset(): void {\n      this._started = false;\n   }\n}\n\nexport class Delay implements IAction {\n   public x: number;\n   public y: number;\n   private _actor: Actor;\n   private _elapsedTime: number = 0;\n   private _delay: number;\n   private _started: boolean = false;\n   private _stopped = false;\n   constructor(actor: Actor, delay: number) {\n      this._actor = actor;\n      this._delay = delay;\n   }\n\n   public update(delta: number): void {\n      if (!this._started) {\n         this._started = true;\n      }\n\n      this.x = this._actor.pos.x;\n      this.y = this._actor.pos.y;\n\n      this._elapsedTime += delta;\n   }\n\n   isComplete(): boolean {\n      return this._stopped || (this._elapsedTime >= this._delay);\n   }\n\n   public stop(): void {\n      this._stopped = true;\n   }\n\n   reset(): void {\n      this._elapsedTime = 0;\n      this._started = false;\n   }\n}\n\nexport class Blink implements IAction {\n   private _timeVisible: number = 0;\n   private _timeNotVisible: number = 0;\n   private _elapsedTime: number = 0;\n   private _totalTime: number = 0;\n   private _actor: Actor;\n   private _duration: number;\n   private _stopped: boolean = false;\n   private _started: boolean = false;\n   constructor(actor: Actor, timeVisible: number, timeNotVisible: number, numBlinks: number = 1) {\n      this._actor = actor;\n      this._timeVisible = timeVisible;\n      this._timeNotVisible = timeNotVisible;\n      this._duration = (timeVisible + timeNotVisible) * numBlinks;\n   }\n\n   public update(delta: number): void {\n      if (!this._started) {\n         this._started = true;\n      }\n\n      this._elapsedTime += delta;\n      this._totalTime += delta;\n      if (this._actor.visible && this._elapsedTime >= this._timeVisible) {\n         this._actor.visible = false;\n         this._elapsedTime = 0;\n      }\n\n      if (!this._actor.visible && this._elapsedTime >= this._timeNotVisible) {\n         this._actor.visible = true;\n         this._elapsedTime = 0;\n      }\n\n      if (this.isComplete()) {\n         this._actor.visible = true;\n      }\n\n   }\n\n   public isComplete(): boolean {\n      return this._stopped || (this._totalTime >= this._duration);\n   }\n\n   public stop(): void {\n      this._actor.visible = true;\n      this._stopped = true;\n   }\n\n   public reset() {\n      this._started = false;\n      this._elapsedTime = 0;\n      this._totalTime = 0;\n   }\n}\n\nexport class Fade implements IAction {\n   public x: number;\n   public y: number;\n\n   private _actor: Actor;\n   private _endOpacity: number;\n   private _speed: number;\n   private _multiplier: number = 1;\n   private _started = false;\n   private _stopped = false;\n\n   constructor(actor: Actor, endOpacity: number, speed: number) {\n      this._actor = actor;\n      this._endOpacity = endOpacity;\n      this._speed = speed;               \n   }\n\n   public update(delta: number): void {         \n      if (!this._started) {\n         this._started = true;\n\n         // determine direction when we start\n         if (this._endOpacity < this._actor.opacity) {\n            this._multiplier = -1;\n         } else {\n            this._multiplier = 1;\n         }\n      }\n      \n      if (this._speed > 0) {\n         this._actor.opacity += this._multiplier * (Math.abs(this._actor.opacity - this._endOpacity) * delta) / this._speed;\n      }\n\n      this._speed -= delta;\n\n      if (this.isComplete()) {\n         this._actor.opacity = this._endOpacity;\n      }\n\n      Logger.getInstance().debug('[Action fade] Actor opacity:', this._actor.opacity);\n   }\n\n   public isComplete(): boolean {\n      return this._stopped || (Math.abs(this._actor.opacity - this._endOpacity) < 0.05);\n   }\n\n   public stop(): void {\n      this._stopped = true;\n   }\n\n   public reset(): void {\n      this._started = false;\n   }\n}\n\nexport class Die implements IAction {\n   public x: number;\n   public y: number;\n\n   private _actor: Actor;\n   private _stopped = false;\n\n   constructor(actor: Actor) {\n      this._actor = actor;\n   }\n\n   public update(_delta: number): void {\n      this._actor.actionQueue.clearActions();\n      this._actor.kill();\n      this._stopped = true;\n   }\n\n   public isComplete(): boolean {\n      return this._stopped;\n   }\n\n   public stop(): void { return; }\n\n   public reset(): void { return; }\n}\n\nexport class CallMethod implements IAction {\n   public x: number;\n   public y: number;\n   private _method: () => any = null;\n   private _actor: Actor = null;\n   private _hasBeenCalled: boolean = false;\n   constructor(actor: Actor, method: () => any) {\n      this._actor = actor;\n      this._method = method;\n   }\n\n   public update(_delta: number) {\n      this._method.call(this._actor);\n      this._hasBeenCalled = true;\n   }\n   public isComplete() {\n      return this._hasBeenCalled;\n   }\n   public reset() {\n      this._hasBeenCalled = false;\n   }\n   public stop() {\n      this._hasBeenCalled = true;\n   }\n}\n\nexport class Repeat implements IAction {\n   public x: number;\n   public y: number;\n   private _actor: Actor;\n   private _actionQueue: ActionQueue;\n   private _repeat: number;\n   private _originalRepeat: number;\n   private _stopped: boolean = false;\n   constructor(actor: Actor, repeat: number, actions: IAction[]) {\n      this._actor = actor;\n      this._actionQueue = new ActionQueue(actor);\n      this._repeat = repeat;\n      this._originalRepeat = repeat;\n\n      var i = 0, len = actions.length;\n      for (i; i < len; i++) {\n         actions[i].reset();\n         this._actionQueue.add(actions[i]);\n      };\n   }\n\n   public update(delta: number): void {\n      this.x = this._actor.pos.x;\n      this.y = this._actor.pos.y;\n      if (!this._actionQueue.hasNext()) {\n         this._actionQueue.reset();\n         this._repeat--;\n      }\n      this._actionQueue.update(delta);\n   }\n\n   public isComplete(): boolean {\n      return this._stopped || (this._repeat <= 0);\n   }\n\n   public stop(): void {\n      this._stopped = true;\n   }\n\n   public reset(): void {\n      this._repeat = this._originalRepeat;\n   }\n}\n\nexport class RepeatForever implements IAction {\n   public x: number;\n   public y: number;\n   private _actor: Actor;\n   private _actionQueue: ActionQueue;\n   private _stopped: boolean = false;\n   constructor(actor: Actor, actions: IAction[]) {\n      this._actor = actor;\n      this._actionQueue = new ActionQueue(actor);\n\n      var i = 0, len = actions.length;\n      for (i; i < len; i++) {\n         actions[i].reset();\n         this._actionQueue.add(actions[i]);\n      };\n   }\n\n   public update(delta: number): void {\n      this.x = this._actor.pos.x;\n      this.y = this._actor.pos.y;\n      if (this._stopped) {\n         return;\n      }\n\n\n      if (!this._actionQueue.hasNext()) {\n         this._actionQueue.reset();\n      }\n\n      this._actionQueue.update(delta);\n\n   }\n\n   public isComplete(): boolean {\n      return this._stopped;\n   }\n\n   public stop(): void {\n      this._stopped = true;\n      this._actionQueue.clearActions();\n   }\n\n   public reset(): void { return; }\n}\n\n/**\n * Action Queues\n *\n * Action queues are part of the [[ActionContext|Action API]] and\n * store the list of actions to be executed for an [[Actor]].\n *\n * Actors implement [[Actor.actions]] which can be manipulated by\n * advanced users to adjust the actions currently being executed in the\n * queue.\n */\nexport class ActionQueue {\n   private _actor: Actor;\n   private _actions: IAction[] = [];\n   private _currentAction: IAction;\n   private _completedActions: IAction[] = [];\n   constructor(actor: Actor) {\n      this._actor = actor;\n   }\n\n   public add(action: IAction) {\n      this._actions.push(action);\n   }\n\n   public remove(action: IAction) {\n      var index = this._actions.indexOf(action);\n      this._actions.splice(index, 1);\n   }\n\n   public clearActions(): void {\n      this._actions.length = 0;\n      this._completedActions.length = 0;\n      if (this._currentAction) {\n         this._currentAction.stop();\n      }\n   }\n\n   public getActions(): IAction[] {\n      return this._actions.concat(this._completedActions);\n   }\n\n   public hasNext(): boolean {\n      return this._actions.length > 0;\n   }\n\n   public reset(): void {\n      this._actions = this.getActions();\n\n      var i = 0, len = this._actions.length;\n      for (i; i < len; i++) {\n         this._actions[i].reset();\n      }\n      this._completedActions = [];\n   }\n\n   public update(delta: number) {\n      if (this._actions.length > 0) {\n         this._currentAction = this._actions[0];\n         this._currentAction.update(delta);\n\n         if (this._currentAction.isComplete(this._actor)) {\n            this._completedActions.push(this._actions.shift());\n         }\n      }\n   }\n}","/* istanbul ignore next */\nif (typeof window === 'undefined') {\n   window = (<any>{ audioContext: function () { return; } });\n}\n/* istanbul ignore next */\nif (typeof window !== 'undefined' && !window.requestAnimationFrame) {\n   (<any>window).requestAnimationFrame =\n   (<any>window).webkitRequestAnimationFrame ||\n   (<any>window).mozRequestAnimationFrame ||\n   function (callback: Function) { window.setInterval(callback, 1000 / 60); };\n}\n/* istanbul ignore next */\nif (typeof window !== 'undefined' && !window.cancelAnimationFrame) {\n   (<any>window).cancelAnimationFrame =\n   (<any>window).webkitCancelAnimationFrame ||\n   (<any>window).mozCancelAnimationFrame ||\n   function () { return; };\n}\n/* istanbul ignore next */\nif (typeof window !== 'undefined' && !(<any>window).AudioContext) {\n   (<any>window).AudioContext = (<any>window).AudioContext || \n                                (<any>window).webkitAudioContext || \n                                (<any>window).mozAudioContext || \n                                (<any>window).msAudioContext || \n                                (<any>window).oAudioContext;\n}\n\nif (typeof window !== 'undefined' && !(<any>window).devicePixelRatio) {\n   (<any>window).devicePixelRatio = window.devicePixelRatio || 1;\n}\n\n// Polyfill from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\n// Production steps of ECMA-262, Edition 5, 15.4.4.18\n// Reference: http://es5.github.io/#x15.4.4.18\n/* istanbul ignore next */\nif (!Array.prototype.forEach) {\n\n   Array.prototype.forEach = function (this: Array<any>, callback, thisArg) {\n\n      var T, k;\n\n      if (this == null) {\n         throw new TypeError('this is null or not defined');\n      }\n\n      // 1. Let O be the result of calling ToObject passing the |this| value as the argument. \n      var O = Object(this);\n\n      // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n      // 3. Let len be ToUint32(lenValue).\n      var len = O.length >>> 0;\n\n      // 4. If IsCallable(callback) is false, throw a TypeError exception.\n      // See: http://es5.github.com/#x9.11\n      if (typeof callback !== 'function') {\n         throw new TypeError(callback + ' is not a function');\n      }\n\n      // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n      if (arguments.length > 1) {\n         T = thisArg;\n      }\n\n      // 6. Let k be 0\n      k = 0;\n\n      // 7. Repeat, while k < len\n      while (k < len) {\n\n         var kValue;\n\n         // a. Let Pk be ToString(k).\n         //   This is implicit for LHS operands of the in operator\n         // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n         //   This step can be combined with c\n         // c. If kPresent is true, then\n         if (k in O) {\n\n            // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n            kValue = O[k];\n\n            // ii. Call the Call internal method of callback with T as the this value and\n            // argument list containing kValue, k, and O.\n            callback.call(T, kValue, k, O);\n         }\n         // d. Increase k by 1.\n         k++;\n      }\n      // 8. return undefined\n   };\n}\n\n// Polyfill from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\n/* istanbul ignore next */\nif (!Array.prototype.some) {\n  Array.prototype.some = function(this: Array<any>, fun /*, thisArg */){\n    'use strict';\n\n    if (this === void 0 || this === null) {\n      throw new TypeError();\n    }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== 'function') {\n      throw new TypeError();\n    }\n\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n    for (var i = 0; i < len; i++) {\n      if (i in t && fun.call(thisArg, t[i], i, t)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n}\n\n// Polyfill from  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Polyfill\n/* istanbul ignore next */\nif (!Function.prototype.bind) {\n   Function.prototype.bind = function (oThis) {\n      if (typeof this !== 'function') {\n         // closest thing possible to the ECMAScript 5\n         // internal IsCallable function\n         throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n      }\n\n      var aArgs = Array.prototype.slice.call(arguments, 1),\n         fToBind = this,\n         fNOP: any = function () { return; },\n         fBound = function (this: Function) {\n            return fToBind.apply(this instanceof fNOP && oThis\n               ? this\n               : oThis,\n               aArgs.concat(Array.prototype.slice.call(arguments)));\n         };\n\n      fNOP.prototype = this.prototype;\n      fBound.prototype = new fNOP();\n\n      return fBound;\n   };\n}","    //The modules for your project will be inlined above\n    //this snippet. Ask almond to synchronously require the\n    //module value for 'main' here and return it as the\n    //value to use for the public API for the built file.\n    return require('Index');\n}));"]}